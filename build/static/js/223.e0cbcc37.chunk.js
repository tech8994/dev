"use strict";(self.webpackChunkbedproject=self.webpackChunkbedproject||[]).push([[223],{1953:function(e,t,n){n.d(t,{H:function(){return ne}});var r=n(1413),i=n(9439),a=n(5987),o=n(272),s=n(2791),u=n(8977),c=n(7760),l=n(5671),h=n(3144),d=n(1752),f=n(1120),v=n(136),A=n(7277),p=function(e){(0,v.Z)(n,e);var t=(0,A.Z)(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).type=c.HalfFloatType,r}return(0,h.Z)(n,[{key:"parse",value:function(e){var t=function(e,t){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(t||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(t||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(t||""));break;default:console.error("THREE.RGBELoader: Error: "+(t||""))}return-1},n=function(e,t,n){t=t||1024;for(var r=e.pos,i=-1,a=0,o="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));0>(i=s.indexOf("\n"))&&a<t&&r<e.byteLength;)o+=s,a+=s.length,r+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<i&&(!1!==n&&(e.pos+=a+i+1),o+s.slice(0,i))},r=function(e,t,n,r){var i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=e[t+0]*a,n[r+1]=e[t+1]*a,n[r+2]=e[t+2]*a,n[r+3]=1},i=function(e,t,n,r){var i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=c.DataUtils.toHalfFloat(Math.min(e[t+0]*a,65504)),n[r+1]=c.DataUtils.toHalfFloat(Math.min(e[t+1]*a,65504)),n[r+2]=c.DataUtils.toHalfFloat(Math.min(e[t+2]*a,65504)),n[r+3]=c.DataUtils.toHalfFloat(1)},a=new Uint8Array(e);a.pos=0;var o=function(e){var r,i,a=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*FORMAT=(\S+)\s*$/,u=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,c={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(r=n(e)))return t(1,"no header found");if(!(i=r.match(/^#\?(\S+)/)))return t(3,"bad initial token");for(c.valid|=1,c.programtype=i[1],c.string+=r+"\n";!1!==(r=n(e));)if(c.string+=r+"\n","#"!==r.charAt(0)){if((i=r.match(a))&&(c.gamma=parseFloat(i[1])),(i=r.match(o))&&(c.exposure=parseFloat(i[1])),(i=r.match(s))&&(c.valid|=2,c.format=i[1]),(i=r.match(u))&&(c.valid|=4,c.height=parseInt(i[1],10),c.width=parseInt(i[2],10)),2&c.valid&&4&c.valid)break}else c.comments+=r+"\n";return 2&c.valid?4&c.valid?c:t(3,"missing image size specifier"):t(3,"missing format specifier")}(a);if(-1!==o){var s=o.width,u=o.height,l=function(e,n,r){var i=n;if(i<8||i>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(i!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");var a=new Uint8Array(4*n*r);if(!a.length)return t(4,"unable to allocate buffer space");for(var o=0,s=0,u=4*i,c=new Uint8Array(4),l=new Uint8Array(u),h=r;h>0&&s<e.byteLength;){if(s+4>e.byteLength)return t(1);if(c[0]=e[s++],c[1]=e[s++],c[2]=e[s++],c[3]=e[s++],2!=c[0]||2!=c[1]||(c[2]<<8|c[3])!=i)return t(3,"bad rgbe scanline format");for(var d=0,f=void 0;d<u&&s<e.byteLength;){var v=(f=e[s++])>128;if(v&&(f-=128),0===f||d+f>u)return t(3,"bad scanline data");if(v)for(var A=e[s++],p=0;p<f;p++)l[d++]=A;else l.set(e.subarray(s,s+f),d),d+=f,s+=f}for(var m=i,B=0;B<m;B++){var g=0;a[o]=l[B+g],g+=i,a[o+1]=l[B+g],g+=i,a[o+2]=l[B+g],g+=i,a[o+3]=l[B+g],o+=4}h--}return a}(a.subarray(a.pos),s,u);if(-1!==l){var h,d,f;switch(this.type){case c.FloatType:f=l.length/4;for(var v=new Float32Array(4*f),A=0;A<f;A++)r(l,4*A,v,4*A);h=v,d=c.FloatType;break;case c.HalfFloatType:f=l.length/4;for(var p=new Uint16Array(4*f),m=0;m<f;m++)i(l,4*m,p,4*m);h=p,d=c.HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:s,height:u,data:h,header:o.string,gamma:o.gamma,exposure:o.exposure,type:d}}}return null}},{key:"setDataType",value:function(e){return this.type=e,this}},{key:"load",value:function(e,t,r,i){return(0,d.Z)((0,f.Z)(n.prototype),"load",this).call(this,e,(function(e,n){switch(e.type){case c.FloatType:case c.HalfFloatType:e.encoding=c.LinearEncoding,e.minFilter=c.LinearFilter,e.magFilter=c.LinearFilter,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),r,i)}}]),n}(c.DataTextureLoader),m=function(e){return e&&e.isCubeTexture},B=function(e){(0,v.Z)(n,e);var t=(0,A.Z)(n);function n(e,r){var i,a;(0,l.Z)(this,n);var o=m(e),s=(null!=(i=o?null===(a=e.image[0])||void 0===a?void 0:a.width:e.image.width)?i:1024)/4,u=Math.floor(Math.log2(s)),h=Math.pow(2,u),d=3*Math.max(h,112),f=4*h,v=[o?"#define ENVMAP_TYPE_CUBE":"","#define CUBEUV_TEXEL_WIDTH ".concat(1/d),"#define CUBEUV_TEXEL_HEIGHT ".concat(1/f),"#define CUBEUV_MAX_MIP ".concat(u,".0")].join("\n")+"\n        #define ENVMAP_TYPE_CUBE_UV\n        varying vec3 vWorldPosition;\n        uniform float radius;\n        uniform float height;\n        uniform float angle;\n        #ifdef ENVMAP_TYPE_CUBE\n            uniform samplerCube map;\n        #else\n            uniform sampler2D map;\n        #endif\n        // From: https://www.shadertoy.com/view/4tsBD7\n        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) \n        {\n            float d = dot ( rd, n );\n            \n            if( d > 0.0 ) { return 1e6; }\n            \n            vec3  o = ro - c;\n            float t = - dot( n, o ) / d;\n            vec3  q = o + rd * t;\n            \n            return ( dot( q, q ) < r * r ) ? t : 1e6;\n        }\n        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm\n        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) \n        {\n            vec3 oc = ro - ce;\n            float b = dot( oc, rd );\n            float c = dot( oc, oc ) - ra * ra;\n            float h = b * b - c;\n            \n            if( h < 0.0 ) { return -1.0; }\n            \n            h = sqrt( h );\n            \n            return - b + h;\n        }\n        vec3 project() \n        {\n            vec3 p = normalize( vWorldPosition );\n            vec3 camPos = cameraPosition;\n            camPos.y -= height;\n            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );\n            if( intersection > 0.0 ) {\n                \n                vec3 h = vec3( 0.0, - height, 0.0 );\n                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );\n                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;\n            } else {\n                p = vec3( 0.0, 1.0, 0.0 );\n            }\n            return p;\n        }\n        #include <common>\n        #include <cube_uv_reflection_fragment>\n        void main() \n        {\n            vec3 projectedWorldPosition = project();\n            \n            #ifdef ENVMAP_TYPE_CUBE\n                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;\n            #else\n                vec3 direction = normalize( projectedWorldPosition );\n                vec2 uv = equirectUv( direction );\n                vec3 outcolor = texture2D( map, uv ).rgb;\n            #endif\n            gl_FragColor = vec4( outcolor, 1.0 );\n            #include <tonemapping_fragment>\n            #include <encodings_fragment>\n        }\n        ",A={map:{value:e},height:{value:(null===r||void 0===r?void 0:r.height)||15},radius:{value:(null===r||void 0===r?void 0:r.radius)||100}},p=new c.IcosahedronGeometry(1,16),B=new c.ShaderMaterial({uniforms:A,fragmentShader:v,vertexShader:"\n        varying vec3 vWorldPosition;\n        void main() \n        {\n            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );\n            vWorldPosition = worldPosition.xyz;\n            \n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n        ",side:c.DoubleSide});return t.call(this,p,B)}return(0,h.Z)(n,[{key:"radius",get:function(){return this.material.uniforms.radius.value},set:function(e){this.material.uniforms.radius.value=e}},{key:"height",get:function(){return this.material.uniforms.height.value},set:function(e){this.material.uniforms.height.value=e}}]),n}(c.Mesh),g={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},C=["background","scene","blur"],y="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/",M=function(e){return(t=e).current&&t.current.isScene?e.current:e;var t};function b(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=M(t||n),o=a.background,s=a.environment,u=a.backgroundBlurriness||0;return"only"!==e&&(a.environment=r),e&&(a.background=r),e&&void 0!==a.backgroundBlurriness&&(a.backgroundBlurriness=i),function(){"only"!==e&&(a.environment=s),e&&(a.background=o),e&&void 0!==a.backgroundBlurriness&&(a.backgroundBlurriness=u)}}function E(e){var t=e.scene,n=e.background,r=void 0!==n&&n,i=e.blur,a=e.map,o=(0,u.z)((function(e){return e.scene}));return s.useLayoutEffect((function(){if(a)return b(r,t,o,a,i)}),[o,t,a,r,i]),null}function F(e){var t=e.files,n=void 0===t?["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"]:t,r=e.path,i=void 0===r?"":r,a=e.preset,o=void 0===a?void 0:a,s=e.encoding,l=void 0===s?void 0:s,h=e.extensions;if(o){if(!(o in g))throw new Error("Preset must be one of: "+Object.keys(g).join(", "));n=g[o],i=y}var d=Array.isArray(n),f=d?c.CubeTextureLoader:p,v=(0,u.D)(f,d?[n]:n,(function(e){e.setPath(i),h&&h(e)})),A=d?v[0]:v;return A.mapping=d?c.CubeReflectionMapping:c.EquirectangularReflectionMapping,A.encoding=(null!==l&&void 0!==l?l:d)?c.sRGBEncoding:c.LinearEncoding,A}function I(e){var t=e.background,n=void 0!==t&&t,r=e.scene,i=e.blur,o=F((0,a.Z)(e,C)),c=(0,u.z)((function(e){return e.scene}));return s.useLayoutEffect((function(){return b(n,r,c,o,i)}),[o,n,r,c,i]),null}function G(e){var t=e.children,n=e.near,r=void 0===n?1:n,a=e.far,o=void 0===a?1e3:a,l=e.resolution,h=void 0===l?256:l,d=e.frames,f=void 0===d?1:d,v=e.map,A=e.background,p=void 0!==A&&A,m=e.blur,B=e.scene,g=e.files,C=e.path,y=e.preset,M=void 0===y?void 0:y,F=e.extensions,G=(0,u.z)((function(e){return e.gl})),D=(0,u.z)((function(e){return e.scene})),R=s.useRef(null),k=s.useState((function(){return new c.Scene})),w=(0,i.Z)(k,1)[0],_=s.useMemo((function(){var e=new c.WebGLCubeRenderTarget(h);return e.texture.type=c.HalfFloatType,e}),[h]);s.useLayoutEffect((function(){return 1===f&&R.current.update(G,w),b(p,B,D,_.texture,m)}),[t,w,_.texture,B,D,p,f,G]);var T=1;return(0,u.A)((function(){(f===1/0||T<f)&&(R.current.update(G,w),T++)})),s.createElement(s.Fragment,null,(0,u.g)(s.createElement(s.Fragment,null,t,s.createElement("cubeCamera",{ref:R,args:[r,o,_]}),g||M?s.createElement(I,{background:!0,files:g,preset:M,path:C,extensions:F}):v?s.createElement(E,{background:!0,map:v,extensions:F}):null),w))}function D(e){var t,n,r,i,a=F(e),c=e.map||a;s.useMemo((function(){return(0,u.e)({GroundProjectedEnvImpl:B})}),[]);var l=s.useMemo((function(){return[c]}),[c]),h=null==(t=e.ground)?void 0:t.height,d=null==(n=e.ground)?void 0:n.radius,f=null!==(r=null==(i=e.ground)?void 0:i.scale)&&void 0!==r?r:1e3;return s.createElement(s.Fragment,null,s.createElement(E,(0,o.Z)({},e,{map:c})),s.createElement("groundProjectedEnvImpl",{args:l,scale:f,height:h,radius:d}))}function R(e){return e.ground?s.createElement(D,e):e.map?s.createElement(E,e):e.children?s.createElement(G,e):s.createElement(I,e)}var k={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n      varying vec2 vUv;\n\n      void main() {\n\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n      }\n  ",fragmentShader:"\n    uniform sampler2D tDiffuse;\n    uniform float h;\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvec4 sum = vec4( 0.0 );\n\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n    \tgl_FragColor = sum;\n\n    }\n  "},w={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n    varying vec2 vUv;\n\n    void main() {\n\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n  ",fragmentShader:"\n\n  uniform sampler2D tDiffuse;\n  uniform float v;\n\n  varying vec2 vUv;\n\n  void main() {\n\n    vec4 sum = vec4( 0.0 );\n\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n    gl_FragColor = sum;\n\n  }\n  "},_=["scale","frames","opacity","width","height","blur","far","resolution","smooth","color","depthWrite","renderOrder"],T=s.forwardRef((function(e,t){var n=e.scale,l=void 0===n?10:n,h=e.frames,d=void 0===h?1/0:h,f=e.opacity,v=void 0===f?1:f,A=e.width,p=void 0===A?1:A,m=e.height,B=void 0===m?1:m,g=e.blur,C=void 0===g?1:g,y=e.far,M=void 0===y?10:y,b=e.resolution,E=void 0===b?512:b,F=e.smooth,I=void 0===F||F,G=e.color,D=void 0===G?"#000000":G,R=e.depthWrite,T=void 0!==R&&R,H=e.renderOrder,x=(0,a.Z)(e,_),S=s.useRef(null),J=(0,u.z)((function(e){return e.scene})),P=(0,u.z)((function(e){return e.gl})),L=s.useRef(null);p*=Array.isArray(l)?l[0]:l||1,B*=Array.isArray(l)?l[1]:l||1;var U,O,Z=s.useMemo((function(){var e=new c.WebGLRenderTarget(E,E),t=new c.WebGLRenderTarget(E,E);t.texture.generateMipmaps=e.texture.generateMipmaps=!1;var n=new c.PlaneGeometry(p,B).rotateX(Math.PI/2),i=new c.Mesh(n),a=new c.MeshDepthMaterial;a.depthTest=a.depthWrite=!1,a.onBeforeCompile=function(e){e.uniforms=(0,r.Z)((0,r.Z)({},e.uniforms),{},{ucolor:{value:new c.Color(D)}}),e.fragmentShader=e.fragmentShader.replace("void main() {","uniform vec3 ucolor;\n           void main() {\n          "),e.fragmentShader=e.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};var o=new c.ShaderMaterial(k),s=new c.ShaderMaterial(w);return s.depthTest=o.depthTest=!1,[e,n,a,i,o,s,t]}),[E,p,B,l,D]),K=(0,i.Z)(Z,7),Q=K[0],j=K[1],N=K[2],X=K[3],Y=K[4],V=K[5],W=K[6],z=function(e){X.visible=!0,X.material=Y,Y.uniforms.tDiffuse.value=Q.texture,Y.uniforms.h.value=1*e/256,P.setRenderTarget(W),P.render(X,L.current),X.material=V,V.uniforms.tDiffuse.value=W.texture,V.uniforms.v.value=1*e/256,P.setRenderTarget(Q),P.render(X,L.current),X.visible=!1},q=0;return(0,u.A)((function(){L.current&&(d===1/0||q<d)&&(q++,U=J.background,O=J.overrideMaterial,S.current.visible=!1,J.background=null,J.overrideMaterial=N,P.setRenderTarget(Q),P.render(J,L.current),z(C),I&&z(.4*C),P.setRenderTarget(null),S.current.visible=!0,J.overrideMaterial=O,J.background=U)})),s.useImperativeHandle(t,(function(){return S.current}),[]),s.createElement("group",(0,o.Z)({"rotation-x":Math.PI/2},x,{ref:S}),s.createElement("mesh",{renderOrder:H,geometry:j,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},s.createElement("meshBasicMaterial",{transparent:!0,map:Q.texture,"map-encoding":P.outputEncoding,opacity:v,depthWrite:T})),s.createElement("orthographicCamera",{ref:L,args:[-p/2,p/2,B/2,-B/2,0,M]}))})),H=["children","disable","disableX","disableY","disableZ","left","right","top","bottom","front","back","onCentered","precise"],x=s.forwardRef((function(e,t){var n=e.children,r=e.disable,i=e.disableX,u=e.disableY,l=e.disableZ,h=e.left,d=e.right,f=e.top,v=e.bottom,A=e.front,p=e.back,m=e.onCentered,B=e.precise,g=void 0===B||B,C=(0,a.Z)(e,H),y=s.useRef(null),M=s.useRef(null),b=s.useRef(null);return s.useLayoutEffect((function(){M.current.matrixWorld.identity();var e=(new c.Box3).setFromObject(b.current,g),t=new c.Vector3,n=new c.Sphere,a=e.max.x-e.min.x,o=e.max.y-e.min.y,s=e.max.z-e.min.z;e.getCenter(t),e.getBoundingSphere(n);var B=f?o/2:v?-o/2:0,C=h?-a/2:d?a/2:0,E=A?s/2:p?-s/2:0;M.current.position.set(r||i?0:-t.x+C,r||u?0:-t.y+B,r||l?0:-t.z+E),"undefined"!==typeof m&&m({parent:y.current.parent,container:y.current,width:a,height:o,depth:s,boundingBox:e,boundingSphere:n,center:t,verticalAlignment:B,horizontalAlignment:C,depthAlignment:E})}),[n]),s.useImperativeHandle(t,(function(){return y.current}),[]),s.createElement("group",(0,o.Z)({ref:y},C),s.createElement("group",{ref:M},s.createElement("group",{ref:b},n)))})),S=n(5647),J=n(3433),P=n(4942),L=n(7326);function U(e,t,n,a){var o=function(o){(0,v.Z)(u,o);var s=(0,A.Z)(u);function u(){var o,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.Z)(this,u);var d=Object.entries(e);return(o=s.call(this,{uniforms:d.reduce((function(e,t){var n=(0,i.Z)(t,2),a=n[0],o=n[1],s=c.UniformsUtils.clone((0,P.Z)({},a,{value:o}));return(0,r.Z)((0,r.Z)({},e),s)}),{}),vertexShader:t,fragmentShader:n})).key="",d.forEach((function(e){var t=(0,i.Z)(e,1)[0];return Object.defineProperty((0,L.Z)(o),t,{get:function(){return o.uniforms[t].value},set:function(e){return o.uniforms[t].value=e}})})),Object.assign((0,L.Z)(o),h),a&&a((0,L.Z)(o)),o}return(0,h.Z)(u)}(c.ShaderMaterial);return o.key=c.MathUtils.generateUUID(),o}var O=U({},"void main() { }","void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }"),Z=["children","temporal","frames","limit","blend","scale","opacity","alphaTest","color","colorBlend","resolution","toneMapped"],K=["castShadow","bias","mapSize","size","near","far","frames","position","radius","amount","intensity","ambient"];var Q=s.createContext(null),j=U({color:new c.Color,blend:2,alphaTest:.75,opacity:0,map:null},"varying vec2 vUv;\n   void main() {\n     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\n     vUv = uv;\n   }","varying vec2 vUv;\n   uniform sampler2D map;\n   uniform vec3 color;\n   uniform float opacity;\n   uniform float alphaTest;\n   uniform float blend;\n   void main() {\n     vec4 sampledDiffuseColor = texture2D(map, vUv);\n     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);\n     #include <tonemapping_fragment>\n     #include <encodings_fragment>\n   }"),N=s.forwardRef((function(e,t){var n=e.children,r=e.temporal,o=e.frames,c=void 0===o?40:o,l=e.limit,h=void 0===l?1/0:l,d=e.blend,f=void 0===d?20:d,v=e.scale,A=void 0===v?10:v,p=e.opacity,m=void 0===p?1:p,B=e.alphaTest,g=void 0===B?.75:B,C=e.color,y=void 0===C?"black":C,M=e.colorBlend,b=void 0===M?2:M,E=e.resolution,F=void 0===E?1024:E,I=e.toneMapped,G=void 0===I||I,D=(0,a.Z)(e,Z);(0,u.e)({SoftShadowMaterial:j});var R=(0,u.z)((function(e){return e.gl})),k=(0,u.z)((function(e){return e.scene})),w=(0,u.z)((function(e){return e.camera})),_=(0,u.z)((function(e){return e.invalidate})),T=s.useRef(null),H=s.useRef(null),x=s.useState((function(){return new Y(R,k,F)})),S=(0,i.Z)(x,1)[0];s.useLayoutEffect((function(){S.configure(T.current)}),[]);var J=s.useMemo((function(){return{lights:new Map,temporal:!!r,frames:Math.max(2,c),blend:Math.max(2,c===1/0?f:c),count:0,getMesh:function(){return T.current},reset:function(){S.clear();var e=T.current.material;e.opacity=0,e.alphaTest=0,J.count=0},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=T.current.material;J.temporal?(t.opacity=Math.min(m,t.opacity+m/J.blend),t.alphaTest=Math.min(g,t.alphaTest+g/J.blend)):(t.opacity=m,t.alphaTest=g),H.current.visible=!0,S.prepare();for(var n=0;n<e;n++)J.lights.forEach((function(e){return e.update()})),S.update(w,J.blend);H.current.visible=!1,S.finish()}}}),[S,w,k,r,c,f,m,g]);return s.useLayoutEffect((function(){J.reset(),J.temporal||J.frames===1/0||J.update(J.blend)})),s.useImperativeHandle(t,(function(){return J}),[J]),(0,u.A)((function(){(J.temporal||J.frames===1/0)&&J.count<J.frames&&J.count<h&&(_(),J.update(),J.count++)})),s.createElement("group",D,s.createElement("group",{traverse:function(){return null},ref:H},s.createElement(Q.Provider,{value:J},n)),s.createElement("mesh",{receiveShadow:!0,ref:T,scale:A,rotation:[-Math.PI/2,0,0]},s.createElement("planeGeometry",null),s.createElement("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:G,color:y,blend:b,map:S.progressiveLightMap2.texture})))})),X=s.forwardRef((function(e,t){var n=e.castShadow,r=void 0===n||n,i=e.bias,u=void 0===i?.001:i,l=e.mapSize,h=void 0===l?512:l,d=e.size,f=void 0===d?5:d,v=e.near,A=void 0===v?.5:v,p=e.far,m=void 0===p?500:p,B=(e.frames,e.position),g=void 0===B?[0,0,0]:B,C=e.radius,y=void 0===C?1:C,M=e.amount,b=void 0===M?8:M,E=e.intensity,F=void 0===E?1:E,I=e.ambient,G=void 0===I?.5:I,D=(0,a.Z)(e,K),R=s.useRef(null),k=(0,S.Z)(c.Vector3,(0,J.Z)(g)).length(),w=s.useContext(Q),_=s.useCallback((function(){var e;if(R.current)for(var t=0;t<R.current.children.length;t++)if(e=R.current.children[t],Math.random()>G)e.position.set(g[0]+c.MathUtils.randFloatSpread(y),g[1]+c.MathUtils.randFloatSpread(y),g[2]+c.MathUtils.randFloatSpread(y));else{var n=Math.acos(2*Math.random()-1)-Math.PI/2,r=2*Math.PI*Math.random();e.position.set(Math.cos(n)*Math.cos(r)*k,Math.abs(Math.cos(n)*Math.sin(r)*k),Math.sin(n)*k)}}),[y,G,k].concat((0,J.Z)(g))),T=s.useMemo((function(){return{update:_}}),[_]);return s.useImperativeHandle(t,(function(){return T}),[T]),s.useLayoutEffect((function(){var e=R.current;return w&&w.lights.set(e.uuid,T),function(){w.lights.delete(e.uuid)}}),[w,T]),s.createElement("group",(0,o.Z)({ref:R},D),Array.from({length:b},(function(e,t){return s.createElement("directionalLight",{key:t,castShadow:r,"shadow-bias":u,"shadow-mapSize":[h,h],intensity:F/b},s.createElement("orthographicCamera",{attach:"shadow-camera",args:[-f,f,f,-f,A,m]}))})))})),Y=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1024;(0,l.Z)(this,e),this.renderer=t,this.res=i,this.scene=n,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null,this.clearColor=new c.Color,this.clearAlpha=0;var a=/(Android|iPad|iPhone|iPod)/g.test(navigator.userAgent)?c.HalfFloatType:c.FloatType;this.progressiveLightMap1=new c.WebGLRenderTarget(this.res,this.res,{type:a,encoding:t.outputEncoding}),this.progressiveLightMap2=new c.WebGLRenderTarget(this.res,this.res,{type:a,encoding:t.outputEncoding}),this.discardMat=new O,this.targetMat=new c.MeshLambertMaterial({fog:!1}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=function(e){e.vertexShader="varying vec2 vUv;\n"+e.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";var t=e.fragmentShader.indexOf("void main() {");e.fragmentShader="varying vec2 vUv;\n"+e.fragmentShader.slice(0,t)+"uniform sampler2D previousShadowMap;\n\tuniform float averagingWindow;\n"+e.fragmentShader.slice(t-1,-1)+"\nvec3 texelOld = texture2D(previousShadowMap, vUv).rgb;\n        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);\n      }",e.uniforms.previousShadowMap=r.previousShadowMap,e.uniforms.averagingWindow=r.averagingWindow}}return(0,h.Z)(e,[{key:"clear",value:function(){var e=this;this.renderer.getClearColor(this.clearColor),this.clearAlpha=this.renderer.getClearAlpha(),this.renderer.setClearColor("black",1),this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.renderer.setRenderTarget(null),this.renderer.setClearColor(this.clearColor,this.clearAlpha),this.lights=[],this.meshes=[],this.scene.traverse((function(t){!function(e){return!!e.geometry}(t)?function(e){return e.isLight}(t)&&e.lights.push({object:t,intensity:t.intensity}):e.meshes.push({object:t,material:t.material})}))}},{key:"prepare",value:function(){var e=this;this.lights.forEach((function(e){return e.object.intensity=0})),this.meshes.forEach((function(t){return t.object.material=e.discardMat}))}},{key:"finish",value:function(){this.lights.forEach((function(e){return e.object.intensity=e.intensity})),this.meshes.forEach((function(e){return e.object.material=e.material}))}},{key:"configure",value:function(e){this.object=e}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(this.object){this.averagingWindow.value=t,this.object.material=this.targetMat;var n=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,r=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,i=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(n),this.previousShadowMap.value=r.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=i}}}]),e}(),V=function(e){return e&&e.isOrthographicCamera},W=function(e){return e&&e.isBox3},z=s.createContext(null);function q(e){var t=e.children,n=e.damping,r=void 0===n?6:n,a=e.fit,o=e.clip,l=e.observe,h=e.margin,d=void 0===h?1.2:h,f=e.eps,v=void 0===f?.01:f,A=e.onFit,p=s.useRef(null),m=(0,u.z)(),B=m.camera,g=m.invalidate,C=m.size,y=m.controls,M=s.useRef(A);function b(e,t){return Math.abs(e.x-t.x)<v&&Math.abs(e.y-t.y)<v&&Math.abs(e.z-t.z)<v}function E(e,t,n,r){e.x=c.MathUtils.damp(e.x,t.x,n,r),e.y=c.MathUtils.damp(e.y,t.y,n,r),e.z=c.MathUtils.damp(e.z,t.z,n,r)}M.current=A;var F=s.useState((function(){return{animating:!1,focus:new c.Vector3,camera:new c.Vector3,zoom:1}})),I=(0,i.Z)(F,1)[0],G=s.useState((function(){return{focus:new c.Vector3,camera:new c.Vector3,zoom:1}})),D=(0,i.Z)(G,1)[0],R=s.useState((function(){return new c.Box3})),k=(0,i.Z)(R,1)[0],w=s.useMemo((function(){function e(){var e=k.getSize(new c.Vector3),t=k.getCenter(new c.Vector3),n=Math.max(e.x,e.y,e.z),r=V(B)?4*n:n/(2*Math.atan(Math.PI*B.fov/360)),i=V(B)?4*n:r/B.aspect,a=d*Math.max(r,i);return{box:k,size:e,center:t,distance:a}}return{getSize:e,refresh:function(t){if(W(t))k.copy(t);else{var n=t||p.current;n.updateWorldMatrix(!0,!0),k.setFromObject(n)}if(k.isEmpty()){var r=B.position.length()||10;k.setFromCenterAndSize(new c.Vector3,new c.Vector3(r,r,r))}if("OrthographicTrackballControls"===(null==y?void 0:y.constructor.name)){var i=e().distance,a=B.position.clone().sub(y.target).normalize().multiplyScalar(i),o=y.target.clone().add(a);B.position.copy(o)}return this},clip:function(){var t=e().distance;return y&&(y.maxDistance=10*t),B.near=t/100,B.far=100*t,B.updateProjectionMatrix(),y&&y.update(),g(),this},to:function(t){var n,i=t.position,a=t.target;I.camera.copy(B.position);var o,s,u=e().center;((n=D.camera).set.apply(n,(0,J.Z)(i)),a)?(o=D.focus).set.apply(o,(0,J.Z)(a)):D.focus.copy(u);r?I.animating=!0:(s=B.position).set.apply(s,(0,J.Z)(i));return this},fit:function(){I.camera.copy(B.position),y&&I.focus.copy(y.target);var t=e(),n=t.center,i=t.distance,a=n.clone().sub(B.position).normalize().multiplyScalar(i);if(D.camera.copy(n).sub(a),D.focus.copy(n),V(B)){I.zoom=B.zoom;var o=0,s=0,u=[new c.Vector3(k.min.x,k.min.y,k.min.z),new c.Vector3(k.min.x,k.max.y,k.min.z),new c.Vector3(k.min.x,k.min.y,k.max.z),new c.Vector3(k.min.x,k.max.y,k.max.z),new c.Vector3(k.max.x,k.max.y,k.max.z),new c.Vector3(k.max.x,k.max.y,k.min.z),new c.Vector3(k.max.x,k.min.y,k.max.z),new c.Vector3(k.max.x,k.min.y,k.min.z)];n.applyMatrix4(B.matrixWorldInverse);for(var l=0,h=u;l<h.length;l++){var f=h[l];f.applyMatrix4(B.matrixWorldInverse),o=Math.max(o,Math.abs(f.y-n.y)),s=Math.max(s,Math.abs(f.x-n.x))}o*=2,s*=2;var v=(B.top-B.bottom)/o,A=(B.right-B.left)/s;D.zoom=Math.min(v,A)/d,r||(B.zoom=D.zoom,B.updateProjectionMatrix())}return r?I.animating=!0:(B.position.copy(D.camera),B.lookAt(D.focus),y&&(y.target.copy(D.focus),y.update())),M.current&&M.current(this.getSize()),g(),this}}}),[k,B,y,d,r,g]);s.useLayoutEffect((function(){if(y){var e=function(){return I.animating=!1};return y.addEventListener("start",e),function(){return y.removeEventListener("start",e)}}}),[y]);var _=s.useRef(0);return s.useLayoutEffect((function(){(l||0===_.current++)&&(w.refresh(),a&&w.fit(),o&&w.clip())}),[C,o,a,l,B,y]),(0,u.A)((function(e,t){if(I.animating){if(E(I.focus,D.focus,r,t),E(I.camera,D.camera,r,t),I.zoom=c.MathUtils.damp(I.zoom,D.zoom,r,t),B.position.copy(I.camera),V(B)&&(B.zoom=I.zoom,B.updateProjectionMatrix()),y?(y.target.copy(I.focus),y.update()):B.lookAt(I.focus),g(),V(B)&&!(Math.abs(I.zoom-D.zoom)<v))return;if(!V(B)&&!b(I.camera,D.camera))return;if(y&&!b(I.focus,D.focus))return;I.animating=!1}})),s.createElement("group",{ref:p},s.createElement(z.Provider,{value:w},t))}var $=["children","center","adjustCamera","intensity","shadows","environment","preset"],ee={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function te(e){var t=e.radius,n=e.adjustCamera,r=s.useContext(z);return s.useEffect((function(){n&&r.refresh().clip().fit()}),[t,n]),null}function ne(e){var t,n,u,c,l,h,d,f,v=e.children,A=e.center,p=e.adjustCamera,m=void 0===p||p,B=e.intensity,g=void 0===B?.5:B,C=e.shadows,y=void 0===C?"contact":C,M=e.environment,b=void 0===M?"city":M,E=e.preset,F=void 0===E?"rembrandt":E,I=(0,a.Z)(e,$),G="string"===typeof F?ee[F]:F,D=s.useState({radius:0,width:0,height:0,depth:0}),k=(0,i.Z)(D,2),w=k[0],_=w.radius,H=w.height,S=k[1],J=null!==(t=null==y?void 0:y.bias)&&void 0!==t?t:-1e-4,P=null!==(n=null==y?void 0:y.normalBias)&&void 0!==n?n:0,L=null!==(u=null==y?void 0:y.size)&&void 0!==u?u:1024,U=null!==(c=null==y?void 0:y.offset)&&void 0!==c?c:0,O="contact"===y||"contact"===(null==y?void 0:y.type),Z="accumulative"===y||"accumulative"===(null==y?void 0:y.type),K=(0,r.Z)({},"object"===typeof y?y:{}),Q=b?"string"===typeof b?{preset:b}:b:null;return s.createElement(s.Fragment,null,s.createElement("ambientLight",{intensity:g/3}),s.createElement("spotLight",{penumbra:1,position:[G.main[0]*_,G.main[1]*_,G.main[2]*_],intensity:2*g,castShadow:!!y,"shadow-bias":J,"shadow-normalBias":P,"shadow-mapSize":L}),s.createElement("pointLight",{position:[G.fill[0]*_,G.fill[1]*_,G.fill[2]*_],intensity:g}),s.createElement(q,(0,o.Z)({fit:!!m,clip:!!m,margin:Number(m),observe:!0},I),s.createElement(te,{radius:_,adjustCamera:m}),s.createElement(x,(0,o.Z)({},A,{position:[0,U/2,0],onCentered:function(e){var t=e.width,n=e.height,r=e.depth,i=e.boundingSphere;S({radius:i.radius,width:t,height:n,depth:r}),null!=A&&A.onCentered&&A.onCentered(e)}}),v)),s.createElement("group",{position:[0,-H/2-U/2,0]},O&&s.createElement(T,(0,o.Z)({scale:4*_,far:_,blur:2},K)),Z&&s.createElement(N,(0,o.Z)({temporal:!0,frames:100,alphaTest:.9,toneMapped:!0,scale:4*_},K),s.createElement(X,{amount:null!==(l=K.amount)&&void 0!==l?l:8,radius:null!==(h=K.radius)&&void 0!==h?h:_,ambient:null!==(d=K.ambient)&&void 0!==d?d:.5,intensity:null!==(f=K.intensity)&&void 0!==f?f:1,position:[G.main[0]*_,G.main[1]*_,G.main[2]*_],size:4*_,bias:-J,mapSize:L}))),b&&s.createElement(R,Q))}},3655:function(e,t,n){n.d(t,{L:function(){return Me}});var r,i=n(5671),a=n(3144),o=n(136),s=n(7277),u=n(7760),c=new WeakMap,l=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).decoderPath="",r.decoderConfig={},r.decoderBinary=null,r.decoderPending=null,r.workerLimit=4,r.workerPool=[],r.workerNextTaskID=1,r.workerSourceURL="",r.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},r.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"},r}return(0,a.Z)(n,[{key:"setDecoderPath",value:function(e){return this.decoderPath=e,this}},{key:"setDecoderConfig",value:function(e){return this.decoderConfig=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerLimit=e,this}},{key:"load",value:function(e,t,n,r){var i=this,a=new u.FileLoader(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){var n={attributeIDs:i.defaultAttributeIDs,attributeTypes:i.defaultAttributeTypes,useUniqueIDs:!1};i.decodeGeometry(e,n).then(t).catch(r)}),n,r)}},{key:"decodeDracoFile",value:function(e,t,n,r){var i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,i).then(t)}},{key:"decodeGeometry",value:function(e,t){var n=this;for(var r in t.attributeTypes){var i=t.attributeTypes[r];void 0!==i.BYTES_PER_ELEMENT&&(t.attributeTypes[r]=i.name)}var a,o=JSON.stringify(t);if(c.has(e)){var s=c.get(e);if(s.key===o)return s.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var u=this.workerNextTaskID++,l=e.byteLength,h=this._getWorker(u,l).then((function(n){return a=n,new Promise((function(n,r){a._callbacks[u]={resolve:n,reject:r},a.postMessage({type:"decode",id:u,taskConfig:t,buffer:e},[e])}))})).then((function(e){return n._createGeometry(e.geometry)}));return h.catch((function(){return!0})).then((function(){a&&u&&n._releaseTask(a,u)})),c.set(e,{key:o,promise:h}),h}},{key:"_createGeometry",value:function(e){var t=new u.BufferGeometry;e.index&&t.setIndex(new u.BufferAttribute(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],i=r.name,a=r.array,o=r.itemSize;t.setAttribute(i,new u.BufferAttribute(a,o))}return t}},{key:"_loadLibrary",value:function(e,t){var n=new u.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((function(t,r){n.load(e,t,void 0,r)}))}},{key:"preload",value:function(){return this._initDecoder(),this}},{key:"_initDecoder",value:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then((function(n){var r=n[0];t||(e.decoderConfig.wasmBinary=n[1]);var i=h.toString(),a=["/* draco decoder */",r,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([a]))})),this.decoderPending}},{key:"_getWorker",value:function(e,t){var n=this;return this._initDecoder().then((function(){if(n.workerPool.length<n.workerLimit){var r=new Worker(n.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},n.workerPool.push(r)}else n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));var i=n.workerPool[n.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i}))}},{key:"_releaseTask",value:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}},{key:"debug",value:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))}},{key:"dispose",value:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}]),n}(u.Loader);function h(){var e,t;function n(e,t,n,r,i,a){var o=a.num_components(),s=n.num_points()*o,u=s*i.BYTES_PER_ELEMENT,c=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),l=e._malloc(u);t.GetAttributeDataArrayForAllPoints(n,a,c,u,l);var h=new i(e.HEAPF32.buffer,l,s).slice();return e._free(l),{name:r,array:h,itemSize:o}}onmessage=function(r){var i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var a=i.buffer,o=i.taskConfig;t.then((function(e){var t=e.draco,r=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(a),a.byteLength);try{var u=function(e,t,r,i){var a,o,s=i.attributeIDs,u=i.attributeTypes,c=t.GetEncodedGeometryType(r);if(c===e.TRIANGULAR_MESH)a=new e.Mesh,o=t.DecodeBufferToMesh(r,a);else{if(c!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,o=t.DecodeBufferToPointCloud(r,a)}if(!o.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());var l={index:null,attributes:[]};for(var h in s){var d=self[u[h]],f=void 0,v=void 0;if(i.useUniqueIDs)v=s[h],f=t.GetAttributeByUniqueId(a,v);else{if(-1===(v=t.GetAttributeId(a,e[s[h]])))continue;f=t.GetAttribute(a,v)}l.attributes.push(n(e,t,a,h,d,f))}c===e.TRIANGULAR_MESH&&(l.index=function(e,t,n){var r=n.num_faces(),i=3*r,a=4*i,o=e._malloc(a);t.GetTrianglesUInt32Array(n,a,o);var s=new Uint32Array(e.HEAPF32.buffer,o,i).slice();return e._free(o),{array:s,itemSize:1}}(e,t,a));return e.destroy(a),l}(t,r,s,o),c=u.attributes.map((function(e){return e.array.buffer}));u.index&&c.push(u.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:u},c)}catch(l){console.error(l),self.postMessage({type:"error",id:i.id,error:l.message})}finally{t.destroy(s),t.destroy(r)}}))}}}var d=function(){if(r)return r;var e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),t=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if("object"!==typeof WebAssembly)return{supported:!1};var n,i="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";WebAssembly.validate(e)&&(i="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB");var a=WebAssembly.instantiate(function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;++r){var i=e.charCodeAt(r);n[r]=i>96?i-71:i>64?i-65:i>47?i+4:i>46?63:62}for(var a=0,o=0;o<e.length;++o)n[a++]=n[o]<60?t[n[o]]:64*(n[o]-60)+n[++o];return n.buffer.slice(0,a)}(i),{}).then((function(e){(n=e.instance).exports.__wasm_call_ctors()}));function o(e,t,r,i,a,o){var s=n.exports.sbrk,u=r+3&-4,c=s(u*i),l=s(a.length),h=new Uint8Array(n.exports.memory.buffer);h.set(a,l);var d=e(c,r,i,l,a.length);if(0===d&&o&&o(c,u,i),t.set(h.subarray(c,c+r*i)),s(c-s(0)),0!==d)throw new Error("Malformed buffer data: ".concat(d))}var s={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return r={ready:a,supported:!0,decodeVertexBuffer:function(e,t,r,i,a){o(n.exports.meshopt_decodeVertexBuffer,e,t,r,i,n.exports[s[a]])},decodeIndexBuffer:function(e,t,r,i){o(n.exports.meshopt_decodeIndexBuffer,e,t,r,i)},decodeIndexSequence:function(e,t,r,i){o(n.exports.meshopt_decodeIndexSequence,e,t,r,i)},decodeGltfBuffer:function(e,t,r,i,a,c){o(n.exports[u[a]],e,t,r,i,n.exports[s[c]])}}},f=n(9439),v=n(7762),A=n(7326),p=n(1752),m=n(1120),B=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).dracoLoader=null,r.ktx2Loader=null,r.meshoptDecoder=null,r.pluginCallbacks=[],r.register((function(e){return new E(e)})),r.register((function(e){return new w(e)})),r.register((function(e){return new _(e)})),r.register((function(e){return new I(e)})),r.register((function(e){return new G(e)})),r.register((function(e){return new D(e)})),r.register((function(e){return new R(e)})),r.register((function(e){return new b(e)})),r.register((function(e){return new k(e)})),r.register((function(e){return new F(e)})),r.register((function(e){return new y(e)})),r.register((function(e){return new T(e)})),r}return(0,a.Z)(n,[{key:"load",value:function(e,t,n,r){var i,a=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:u.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);var o=function(t){r?r(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},s=new u.FileLoader(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{a.parse(n,i,(function(n){t(n),a.manager.itemEnd(e)}),o)}catch(r){o(r)}}),n,o)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var i,a={},o={};if("string"===typeof e)i=e;else if(u.LoaderUtils.decodeText(new Uint8Array(e,0,4))===H){try{a[C.KHR_BINARY_GLTF]=new J(e)}catch(A){return void(r&&r(A))}i=a[C.KHR_BINARY_GLTF].content}else i=u.LoaderUtils.decodeText(new Uint8Array(e));var s=JSON.parse(i);if(void 0===s.asset||s.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var c=new Ae(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(var l=0;l<this.pluginCallbacks.length;l++){var h=this.pluginCallbacks[l](c);o[h.name]=h,a[h.name]=!0}if(s.extensionsUsed)for(var d=0;d<s.extensionsUsed.length;++d){var f=s.extensionsUsed[d],v=s.extensionsRequired||[];switch(f){case C.KHR_MATERIALS_UNLIT:a[f]=new M;break;case C.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:a[f]=new O;break;case C.KHR_DRACO_MESH_COMPRESSION:a[f]=new P(s,this.dracoLoader);break;case C.KHR_TEXTURE_TRANSFORM:a[f]=new L;break;case C.KHR_MESH_QUANTIZATION:a[f]=new Z;break;default:v.indexOf(f)>=0&&void 0===o[f]&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}c.setExtensions(a),c.setPlugins(o),c.parse(n,r)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}]),n}(u.Loader);function g(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var C={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"},y=function(){function e(t){(0,i.Z)(this,e),this.parser=t,this.name=C.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return(0,a.Z)(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var i,a=t.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],s=new u.Color(16777215);void 0!==o.color&&s.fromArray(o.color);var c=void 0!==o.range?o.range:0;switch(o.type){case"directional":(i=new u.DirectionalLight(s)).target.position.set(0,0,-1),i.add(i.target);break;case"point":(i=new u.PointLight(s)).distance=c;break;case"spot":(i=new u.SpotLight(s)).distance=c,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,i.angle=o.spot.outerConeAngle,i.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,i.target.position.set(0,0,-1),i.add(i.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return i.position.set(0,0,0),i.decay=2,void 0!==o.intensity&&(i.intensity=o.intensity),i.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(i),t.cache.add(n,r),r}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}]),e}(),M=function(){function e(){(0,i.Z)(this,e),this.name=C.KHR_MATERIALS_UNLIT}return(0,a.Z)(e,[{key:"getMaterialType",value:function(){return u.MeshBasicMaterial}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new u.Color(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,u.sRGBEncoding))}return Promise.all(r)}}]),e}(),b=function(){function e(t){(0,i.Z)(this,e),this.parser=t,this.name=C.KHR_MATERIALS_EMISSIVE_STRENGTH}return(0,a.Z)(e,[{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}]),e}(),E=function(){function e(t){(0,i.Z)(this,e),this.parser=t,this.name=C.KHR_MATERIALS_CLEARCOAT}return(0,a.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?u.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new u.Vector2(o,o)}return Promise.all(i)}}]),e}(),F=function(){function e(t){(0,i.Z)(this,e),this.parser=t,this.name=C.KHR_MATERIALS_IRIDESCENCE}return(0,a.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?u.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.iridescenceFactor&&(t.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(t.iridescenceIOR=a.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(i)}}]),e}(),I=function(){function e(t){(0,i.Z)(this,e),this.parser=t,this.name=C.KHR_MATERIALS_SHEEN}return(0,a.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?u.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[];t.sheenColor=new u.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;var a=r.extensions[this.name];return void 0!==a.sheenColorFactor&&t.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,u.sRGBEncoding)),void 0!==a.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}]),e}(),G=function(){function e(t){(0,i.Z)(this,e),this.parser=t,this.name=C.KHR_MATERIALS_TRANSMISSION}return(0,a.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?u.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}]),e}(),D=function(){function e(t){(0,i.Z)(this,e),this.parser=t,this.name=C.KHR_MATERIALS_VOLUME}return(0,a.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?u.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;var o=a.attenuationColor||[1,1,1];return t.attenuationColor=new u.Color(o[0],o[1],o[2]),Promise.all(i)}}]),e}(),R=function(){function e(t){(0,i.Z)(this,e),this.parser=t,this.name=C.KHR_MATERIALS_IOR}return(0,a.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?u.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}]),e}(),k=function(){function e(t){(0,i.Z)(this,e),this.parser=t,this.name=C.KHR_MATERIALS_SPECULAR}return(0,a.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?u.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));var o=a.specularColorFactor||[1,1,1];return t.specularColor=new u.Color(o[0],o[1],o[2]),void 0!==a.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,u.sRGBEncoding)),Promise.all(i)}}]),e}(),w=function(){function e(t){(0,i.Z)(this,e),this.parser=t,this.name=C.KHR_TEXTURE_BASISU}return(0,a.Z)(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,a)}}]),e}(),_=function(){function e(t){(0,i.Z)(this,e),this.parser=t,this.name=C.EXT_TEXTURE_WEBP,this.isSupported=null}return(0,a.Z)(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){var u=n.options.manager.getHandler(o.uri);null!==u&&(s=u)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),T=function(){function e(t){(0,i.Z)(this,e),this.name=C.EXT_MESHOPT_COMPRESSION,this.parser=t}return(0,a.Z)(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,i=r.count,o=r.byteStride,s=new Uint8Array(e,t,n);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(i,o,s,r.mode,r.filter).then((function(e){return e.buffer})):a.ready.then((function(){var e=new ArrayBuffer(i*o);return a.decodeGltfBuffer(new Uint8Array(e),i,o,s,r.mode,r.filter),e}))}))}return null}}]),e}(),H="glTF",x=1313821514,S=5130562,J=(0,a.Z)((function e(t){(0,i.Z)(this,e),this.name=C.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12);if(this.header={magic:u.LoaderUtils.decodeText(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==H)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=this.header.length-12,a=new DataView(t,12),o=0;o<r;){var s=a.getUint32(o,!0);o+=4;var c=a.getUint32(o,!0);if(o+=4,c===x){var l=new Uint8Array(t,12+o,s);this.content=u.LoaderUtils.decodeText(l)}else if(c===S){var h=12+o;this.body=t.slice(h,h+s)}o+=s}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),P=function(){function e(t,n){if((0,i.Z)(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=C.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return(0,a.Z)(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},u={};for(var c in a){var l=re[c]||c.toLowerCase();o[l]=a[c]}for(var h in e.attributes){var d=re[h]||h.toLowerCase();if(void 0!==a[h]){var f=n.accessors[e.attributes[h]],v=$[f.componentType];u[d]=v.name,s[d]=!0===f.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)}),o,u)}))}))}}]),e}(),L=function(){function e(){(0,i.Z)(this,e),this.name=C.KHR_TEXTURE_TRANSFORM}return(0,a.Z)(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),U=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;(0,i.Z)(this,n),(r=t.call(this)).isGLTFSpecularGlossinessMaterial=!0;var a=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),o=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),s=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),c=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),l=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),h={specular:{value:(new u.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};return r._extraUniforms=h,r.onBeforeCompile=function(e){for(var t in h)e.uniforms[t]=h[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",a).replace("#include <metalnessmap_pars_fragment>",o).replace("#include <roughnessmap_fragment>",s).replace("#include <metalnessmap_fragment>",c).replace("#include <lights_physical_fragment>",l)},Object.defineProperties((0,A.Z)(r),{specular:{get:function(){return h.specular.value},set:function(e){h.specular.value=e}},specularMap:{get:function(){return h.specularMap.value},set:function(e){h.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return h.glossiness.value},set:function(e){h.glossiness.value=e}},glossinessMap:{get:function(){return h.glossinessMap.value},set:function(e){h.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete r.metalness,delete r.roughness,delete r.metalnessMap,delete r.roughnessMap,r.setValues(e),r}return(0,a.Z)(n,[{key:"copy",value:function(e){return(0,p.Z)((0,m.Z)(n.prototype),"copy",this).call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}]),n}(u.MeshStandardMaterial),O=function(){function e(){(0,i.Z)(this,e),this.name=C.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}return(0,a.Z)(e,[{key:"getMaterialType",value:function(){return U}},{key:"extendParams",value:function(e,t,n){var r=t.extensions[this.name];e.color=new u.Color(1,1,1),e.opacity=1;var i=[];if(Array.isArray(r.diffuseFactor)){var a=r.diffuseFactor;e.color.fromArray(a),e.opacity=a[3]}if(void 0!==r.diffuseTexture&&i.push(n.assignTexture(e,"map",r.diffuseTexture,u.sRGBEncoding)),e.emissive=new u.Color(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new u.Color(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var o=r.specularGlossinessTexture;i.push(n.assignTexture(e,"glossinessMap",o)),i.push(n.assignTexture(e,"specularMap",o,u.sRGBEncoding))}return Promise.all(i)}},{key:"createMaterial",value:function(e){var t=new U(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=void 0===e.emissiveIntensity?1:e.emissiveIntensity,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=u.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}]),e}(),Z=(0,a.Z)((function e(){(0,i.Z)(this,e),this.name=C.KHR_MESH_QUANTIZATION})),K=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,r,a,o){return(0,i.Z)(this,n),t.call(this,e,r,a,o)}return(0,a.Z)(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,a=0;a!==r;a++)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,u=3*o,c=r-t,l=(n-t)/c,h=l*l,d=h*l,f=e*u,v=f-u,A=-2*d+3*h,p=d-h,m=1-A,B=p-h+l,g=0;g!==o;g++){var C=a[v+g+o],y=a[v+g+s]*c,M=a[f+g+o],b=a[f+g]*c;i[g]=m*C+B*y+A*M+p*b}return i}}]),n}(u.Interpolant),Q=new u.Quaternion,j=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"interpolate_",value:function(e,t,r,i){var a=(0,p.Z)((0,m.Z)(n.prototype),"interpolate_",this).call(this,e,t,r,i);return Q.fromArray(a).normalize().toArray(a),a}}]),n}(K),N=0,X=1,Y=2,V=3,W=4,z=5,q=6,$={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ee={9728:u.NearestFilter,9729:u.LinearFilter,9984:u.NearestMipmapNearestFilter,9985:u.LinearMipmapNearestFilter,9986:u.NearestMipmapLinearFilter,9987:u.LinearMipmapLinearFilter},te={33071:u.ClampToEdgeWrapping,33648:u.MirroredRepeatWrapping,10497:u.RepeatWrapping},ne={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},re={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ie={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},ae={CUBICSPLINE:void 0,LINEAR:u.InterpolateLinear,STEP:u.InterpolateDiscrete},oe="OPAQUE",se="MASK",ue="BLEND";function ce(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function le(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function he(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(var a=0,o=i.length;a<o;a++)e.morphTargetDictionary[i[a]]=a}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function de(e){var t=e.extensions&&e.extensions[C.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+fe(t.attributes):e.indices+":"+fe(e.attributes)+":"+e.mode}function fe(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function ve(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var Ae=function(){function e(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.Z)(this,e),this.json=r,this.extensions={},this.plugins={},this.options=a,this.cache=new g,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};var o="undefined"!==typeof navigator&&!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),s="undefined"!==typeof navigator&&(null===(t=navigator.userAgent)||void 0===t?void 0:t.indexOf("Firefox"))>-1,c="undefined"!==typeof navigator&&s?null===(n=navigator.userAgent)||void 0===n?void 0:n.match(/Firefox\/([0-9]+)\./)[1]:-1;"undefined"===typeof createImageBitmap||o||s&&c<98?this.textureLoader=new u.TextureLoader(this.options.manager):this.textureLoader=new u.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new u.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return(0,a.Z)(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};ce(i,a,r),le(a,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,i=t.length;r<i;r++)for(var a=t[r].joints,o=0,s=a.length;o<s;o++)e[a[o]].isBone=!0;for(var u=0,c=e.length;u<c;u++){var l=e[u];void 0!==l.mesh&&(this._addNodeRef(this.meshCache,l.mesh),void 0!==l.skin&&(n[l.mesh].isSkinnedMesh=!0)),void 0!==l.camera&&this._addNodeRef(this.cameraCache,l.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var r=this;if(e.refs[t]<=1)return n;var i=n.clone();return function e(t,n){var i=r.associations.get(t);null!=i&&r.associations.set(n,i);var a,o=(0,v.Z)(t.children.entries());try{for(o.s();!(a=o.n()).done;){var s=(0,f.Z)(a.value,2),u=s[0];e(s[1],n.children[u])}}catch(c){o.e(c)}finally{o.f()}}(n,i),i.name+="_instance_"+e.uses[t]++,i}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[C.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,i){n.load(u.LoaderUtils.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(e){var i,a,o=e[0],s=ne[r.type],c=$[r.componentType],l=c.BYTES_PER_ELEMENT,h=l*s,d=r.byteOffset||0,f=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,v=!0===r.normalized;if(f&&f!==h){var A=Math.floor(d/f),p="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+A+":"+r.count,m=t.cache.get(p);m||(i=new c(o,A*f,r.count*f/l),m=new u.InterleavedBuffer(i,f/l),t.cache.add(p,m)),a=new u.InterleavedBufferAttribute(m,s,d%f/l,v)}else i=null===o?new c(r.count*s):new c(o,d,r.count*s),a=new u.BufferAttribute(i,s,v);if(void 0!==r.sparse){var B=ne.SCALAR,g=$[r.sparse.indices.componentType],C=r.sparse.indices.byteOffset||0,y=r.sparse.values.byteOffset||0,M=new g(e[1],C,r.sparse.count*B),b=new c(e[2],y,r.sparse.count*s);null!==o&&(a=new u.BufferAttribute(a.array.slice(),a.itemSize,a.normalized));for(var E=0,F=M.length;E<F;E++){var I=M[E];if(a.setX(I,b[E*s]),s>=2&&a.setY(I,b[E*s+1]),s>=3&&a.setZ(I,b[E*s+2]),s>=4&&a.setW(I,b[E*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r],a=this.textureLoader;if(i.uri){var o=n.manager.getHandler(i.uri);null!==o&&(a=o)}return this.loadTextureImage(e,r,a)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,i=this.json,a=i.textures[e],o=i.images[t],s=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[s])return this.textureCache[s];var c=this.loadImageSource(t,n).then((function(t){t.flipY=!1,a.name&&(t.name=a.name);var n=(i.samplers||{})[a.sampler]||{};return t.magFilter=ee[n.magFilter]||u.LinearFilter,t.minFilter=ee[n.minFilter]||u.LinearMipmapLinearFilter,t.wrapS=te[n.wrapS]||u.RepeatWrapping,t.wrapT=te[n.wrapT]||u.RepeatWrapping,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[s]=c,c}},{key:"loadImageSource",value:function(e,t){var n=this.json,r=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((function(e){return e.clone()}));var i=n.images[e],a=self.URL||self.webkitURL,o=i.uri||"",s=!1;if(void 0!==i.bufferView)o=this.getDependency("bufferView",i.bufferView).then((function(e){s=!0;var t=new Blob([e],{type:i.mimeType});return o=a.createObjectURL(t)}));else if(void 0===i.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var c=Promise.resolve(o).then((function(e){return new Promise((function(n,i){var a=n;!0===t.isImageBitmapLoader&&(a=function(e){var t=new u.Texture(e);t.needsUpdate=!0,n(t)}),t.load(u.LoaderUtils.resolveURL(e,r.path),a,void 0,i)}))})).then((function(e){var t;return!0===s&&a.revokeObjectURL(o),e.userData.mimeType=i.mimeType||((t=i.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e}));return this.sourceCache[e]=c,c}},{key:"assignTexture",value:function(e,t,n,r){var i=this;return this.getDependency("texture",n.index).then((function(a){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),i.extensions[C.KHR_TEXTURE_TRANSFORM]){var o=void 0!==n.extensions?n.extensions[C.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var s=i.associations.get(a);a=i.extensions[C.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),i.associations.set(a,s)}}return void 0!==r&&(a.encoding=r),e[t]=a,a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){var o="PointsMaterial:"+n.uuid,s=this.cache.get(o);s||(s=new u.PointsMaterial,u.Material.prototype.copy.call(s,n),s.color.copy(n.color),s.map=n.map,s.sizeAttenuation=!1,this.cache.add(o,s)),n=s}else if(e.isLine){var c="LineBasicMaterial:"+n.uuid,l=this.cache.get(c);l||(l=new u.LineBasicMaterial,u.Material.prototype.copy.call(l,n),l.color.copy(n.color),this.cache.add(c,l)),n=l}if(r||i||a){var h="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(h+="specular-glossiness:"),r&&(h+="derivative-tangents:"),i&&(h+="vertex-colors:"),a&&(h+="flat-shading:");var d=this.cache.get(h);d||(d=n.clone(),i&&(d.vertexColors=!0),a&&(d.flatShading=!0),r&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(h,d),this.associations.set(d,this.associations.get(n))),n=d}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}},{key:"getMaterialType",value:function(){return u.MeshStandardMaterial}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,i=this.extensions,a=r.materials[e],o={},s=a.extensions||{},c=[];if(s[C.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var l=i[C.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=l.getMaterialType(),c.push(l.extendParams(o,a,n))}else if(s[C.KHR_MATERIALS_UNLIT]){var h=i[C.KHR_MATERIALS_UNLIT];t=h.getMaterialType(),c.push(h.extendParams(o,a,n))}else{var d=a.pbrMetallicRoughness||{};if(o.color=new u.Color(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){var f=d.baseColorFactor;o.color.fromArray(f),o.opacity=f[3]}void 0!==d.baseColorTexture&&c.push(n.assignTexture(o,"map",d.baseColorTexture,u.sRGBEncoding)),o.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,o.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(c.push(n.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),c.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===a.doubleSided&&(o.side=u.DoubleSide);var v=a.alphaMode||oe;if(v===ue?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,v===se&&(o.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==u.MeshBasicMaterial&&(c.push(n.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new u.Vector2(1,1),void 0!==a.normalTexture.scale)){var A=a.normalTexture.scale;o.normalScale.set(A,A)}return void 0!==a.occlusionTexture&&t!==u.MeshBasicMaterial&&(c.push(n.assignTexture(o,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(o.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==u.MeshBasicMaterial&&(o.emissive=(new u.Color).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&t!==u.MeshBasicMaterial&&c.push(n.assignTexture(o,"emissiveMap",a.emissiveTexture,u.sRGBEncoding)),Promise.all(c).then((function(){var r;return r=t===U?i[C.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new t(o),a.name&&(r.name=a.name),le(r,a),n.associations.set(r,{materials:e}),a.extensions&&ce(i,r,a),r}))}},{key:"createUniqueName",value:function(e){for(var t=u.PropertyBinding.sanitizeNodeName(e||""),n=t,r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[C.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return me(n,e,t)}))}for(var a=[],o=0,s=e.length;o<s;o++){var c=e[o],l=de(c),h=r[l];if(h)a.push(h.promise);else{var d=void 0;d=c.extensions&&c.extensions[C.KHR_DRACO_MESH_COMPRESSION]?i(c):me(new u.BufferGeometry,c,t),r[l]={primitive:c,promise:d},a.push(d)}}return Promise.all(a)}},{key:"loadMesh",value:function(e){for(var t,n=this,r=this.json,i=this.extensions,a=r.meshes[e],o=a.primitives,s=[],c=0,l=o.length;c<l;c++){var h=void 0===o[c].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new u.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:u.FrontSide})),t.DefaultMaterial):this.getDependency("material",o[c].material);s.push(h)}return s.push(n.loadGeometries(o)),Promise.all(s).then((function(t){for(var r=t.slice(0,t.length-1),s=t[t.length-1],c=[],l=0,h=s.length;l<h;l++){var d=s[l],f=o[l],v=void 0,A=r[l];if(f.mode===W||f.mode===z||f.mode===q||void 0===f.mode)!0!==(v=!0===a.isSkinnedMesh?new u.SkinnedMesh(d,A):new u.Mesh(d,A)).isSkinnedMesh||v.geometry.attributes.skinWeight.normalized||v.normalizeSkinWeights(),f.mode===z?v.geometry=Be(v.geometry,u.TriangleStripDrawMode):f.mode===q&&(v.geometry=Be(v.geometry,u.TriangleFanDrawMode));else if(f.mode===X)v=new u.LineSegments(d,A);else if(f.mode===V)v=new u.Line(d,A);else if(f.mode===Y)v=new u.LineLoop(d,A);else{if(f.mode!==N)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+f.mode);v=new u.Points(d,A)}Object.keys(v.geometry.morphAttributes).length>0&&he(v,a),v.name=n.createUniqueName(a.name||"mesh_"+e),le(v,a),f.extensions&&ce(i,v,f),n.assignFinalMaterial(v),c.push(v)}for(var p=0,m=c.length;p<m;p++)n.associations.set(c[p],{meshes:e,primitives:p});if(1===c.length)return c[0];var B=new u.Group;n.associations.set(B,{meshes:e});for(var g=0,C=c.length;g<C;g++)B.add(c[g]);return B}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new u.PerspectiveCamera(u.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new u.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),le(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=[],r=[],i=[],a=[],o=[],s=0,c=t.channels.length;s<c;s++){var l=t.channels[s],h=t.samplers[l.sampler],d=l.target,f=d.node,v=void 0!==t.parameters?t.parameters[h.input]:h.input,A=void 0!==t.parameters?t.parameters[h.output]:h.output;n.push(this.getDependency("node",f)),r.push(this.getDependency("accessor",v)),i.push(this.getDependency("accessor",A)),a.push(h),o.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(i),Promise.all(a),Promise.all(o)]).then((function(n){for(var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],c=[],l=function(){var e,t=r[h],n=i[h],l=a[h],d=o[h],f=s[h];if(void 0===t)return"continue";switch(t.updateMatrix(),ie[f.path]){case ie.weights:e=u.NumberKeyframeTrack;break;case ie.rotation:e=u.QuaternionKeyframeTrack;break;default:e=u.VectorKeyframeTrack}var v=t.name?t.name:t.uuid,A=void 0!==d.interpolation?ae[d.interpolation]:u.InterpolateLinear,p=[];ie[f.path]===ie.weights?t.traverse((function(e){e.morphTargetInfluences&&p.push(e.name?e.name:e.uuid)})):p.push(v);var m=l.array;if(l.normalized){for(var B=ve(m.constructor),g=new Float32Array(m.length),C=0,y=m.length;C<y;C++)g[C]=m[C]*B;m=g}for(var M=0,b=p.length;M<b;M++){var E=new e(p[M]+"."+ie[f.path],n.array,m,A);"CUBICSPLINE"===d.interpolation&&(E.createInterpolant=function(e){return new(this instanceof u.QuaternionKeyframeTrack?j:K)(this.times,this.values,this.getValueSize()/3,e)},E.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(E)}},h=0,d=r.length;h<d;h++)l();var f=t.name?t.name:"animation_"+e;return new u.AnimationClip(f,void 0,c)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){var t=this.json,n=this.extensions,r=this,i=t.nodes[e],a=i.name?r.createUniqueName(i.name):"";return function(){var t=[],n=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return n&&t.push(n),void 0!==i.camera&&t.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){var o;if((o=!0===i.isBone?new u.Bone:t.length>1?new u.Group:1===t.length?t[0]:new u.Object3D)!==t[0])for(var s=0,c=t.length;s<c;s++)o.add(t[s]);if(i.name&&(o.userData.name=i.name,o.name=a),le(o,i),i.extensions&&ce(n,o,i),void 0!==i.matrix){var l=new u.Matrix4;l.fromArray(i.matrix),o.applyMatrix4(l)}else void 0!==i.translation&&o.position.fromArray(i.translation),void 0!==i.rotation&&o.quaternion.fromArray(i.rotation),void 0!==i.scale&&o.scale.fromArray(i.scale);return r.associations.has(o)||r.associations.set(o,{}),r.associations.get(o).nodes=e,o}))}},{key:"loadScene",value:function(e){var t=this.json,n=this.extensions,r=this.json.scenes[e],i=this,a=new u.Group;r.name&&(a.name=i.createUniqueName(r.name)),le(a,r),r.extensions&&ce(n,a,r);for(var o=r.nodes||[],s=[],c=0,l=o.length;c<l;c++)s.push(pe(o[c],a,t,i));return Promise.all(s).then((function(){return i.associations=function(e){var t,n=new Map,r=(0,v.Z)(i.associations);try{for(r.s();!(t=r.n()).done;){var a=(0,f.Z)(t.value,2),o=a[0],s=a[1];(o instanceof u.Material||o instanceof u.Texture)&&n.set(o,s)}}catch(c){r.e(c)}finally{r.f()}return e.traverse((function(e){var t=i.associations.get(e);null!=t&&n.set(e,t)})),n}(a),a}))}}]),e}();function pe(e,t,n,r){var i=n.nodes[e];return r.getDependency("node",e).then((function(e){return void 0===i.skin?e:r.getDependency("skin",i.skin).then((function(e){for(var n=[],i=0,a=(t=e).joints.length;i<a;i++)n.push(r.getDependency("node",t.joints[i]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],i=[],a=0,o=n.length;a<o;a++){var s=n[a];if(s){r.push(s);var c=new u.Matrix4;void 0!==t.inverseBindMatrices&&c.fromArray(t.inverseBindMatrices.array,16*a),i.push(c)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}e.bind(new u.Skeleton(r,i),e.matrixWorld)}})),e}));var t})).then((function(e){t.add(e);var a=[];if(i.children)for(var o=i.children,s=0,u=o.length;s<u;s++){var c=o[s];a.push(pe(c,e,n,r))}return Promise.all(a)}))}function me(e,t,n){var r=t.attributes,i=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var o in r){var s=re[o]||o.toLowerCase();s in e.attributes||i.push(a(r[o],s))}if(void 0!==t.indices&&!e.index){var c=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(c)}return le(e,t),function(e,t,n){var r=t.attributes,i=new u.Box3;if(void 0!==r.POSITION){var a=n.json.accessors[r.POSITION],o=a.min,s=a.max;if(void 0!==o&&void 0!==s){if(i.set(new u.Vector3(o[0],o[1],o[2]),new u.Vector3(s[0],s[1],s[2])),a.normalized){var c=ve($[a.componentType]);i.min.multiplyScalar(c),i.max.multiplyScalar(c)}var l=t.targets;if(void 0!==l){for(var h=new u.Vector3,d=new u.Vector3,f=0,v=l.length;f<v;f++){var A=l[f];if(void 0!==A.POSITION){var p=n.json.accessors[A.POSITION],m=p.min,B=p.max;if(void 0!==m&&void 0!==B){if(d.setX(Math.max(Math.abs(m[0]),Math.abs(B[0]))),d.setY(Math.max(Math.abs(m[1]),Math.abs(B[1]))),d.setZ(Math.max(Math.abs(m[2]),Math.abs(B[2]))),p.normalized){var g=ve($[p.componentType]);d.multiplyScalar(g)}h.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(h)}e.boundingBox=i;var C=new u.Sphere;i.getCenter(C.center),C.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=C}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,i=!1,a=!1,o=0,s=t.length;o<s;o++){var u=t[o];if(void 0!==u.POSITION&&(r=!0),void 0!==u.NORMAL&&(i=!0),void 0!==u.COLOR_0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(e);for(var c=[],l=[],h=[],d=0,f=t.length;d<f;d++){var v=t[d];if(r){var A=void 0!==v.POSITION?n.getDependency("accessor",v.POSITION):e.attributes.position;c.push(A)}if(i){var p=void 0!==v.NORMAL?n.getDependency("accessor",v.NORMAL):e.attributes.normal;l.push(p)}if(a){var m=void 0!==v.COLOR_0?n.getDependency("accessor",v.COLOR_0):e.attributes.color;h.push(m)}}return Promise.all([Promise.all(c),Promise.all(l),Promise.all(h)]).then((function(t){var n=t[0],o=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),a&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function Be(e,t){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)r.push(a);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(t===u.TriangleFanDrawMode)for(var c=1;c<=o;c++)s.push(n.getX(0)),s.push(n.getX(c)),s.push(n.getX(c+1));else for(var l=0;l<o;l++)l%2===0?(s.push(n.getX(l)),s.push(n.getX(l+1)),s.push(n.getX(l+2))):(s.push(n.getX(l+2)),s.push(n.getX(l+1)),s.push(n.getX(l)));s.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var h=e.clone();return h.setIndex(s),h}var ge=n(8977),Ce=null;function ye(e,t,n){return function(r){n&&n(r),e&&(Ce||(Ce=new l),Ce.setDecoderPath("string"===typeof e?e:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(Ce)),t&&r.setMeshoptDecoder("function"===typeof d?d():d)}}function Me(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return(0,ge.D)(B,e,ye(t,n,r))}Me.preload=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return ge.D.preload(B,e,ye(t,n,r))},Me.clear=function(e){return ge.D.clear(B,e)}},5308:function(e,t,n){n.d(t,{N:function(){return Ri}});var r=n(1413),i=n(9439),a=n(3433),o=n(272),s=n(2791),u=n(7760),c=n(8977),l=n(7326),h=n(1752),d=n(1120),f=n(136),v=n(7277),A=n(8664),p=n(4165),m=n(5861),B=n(3144),g=n(5671),C=n(7762),y=J(),M=function(e){return T(e,y)},b=J();M.write=function(e){return T(e,b)};var E=J();M.onStart=function(e){return T(e,E)};var F=J();M.onFrame=function(e){return T(e,F)};var I=J();M.onFinish=function(e){return T(e,I)};var G=[];M.setTimeout=function(e,t){var n=M.now()+t,r={time:n,handler:e,cancel:function e(){var t=G.findIndex((function(t){return t.cancel==e}));~t&&G.splice(t,1),w-=~t?1:0}};return G.splice(D(n),0,r),w+=1,H(),r};var D=function(e){return~(~G.findIndex((function(t){return t.time>e}))||~G.length)};M.cancel=function(e){E.delete(e),F.delete(e),I.delete(e),y.delete(e),b.delete(e)},M.sync=function(e){_=!0,M.batchedUpdates(e),_=!1},M.throttle=function(e){var t;function n(){try{e.apply(void 0,(0,a.Z)(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,M.onStart(n)}return r.handler=e,r.cancel=function(){E.delete(n),t=null},r};var R="undefined"!=typeof window?window.requestAnimationFrame:function(){};M.use=function(e){return R=e},M.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,M.batchedUpdates=function(e){return e()},M.catch=console.error,M.frameLoop="always",M.advance=function(){"demand"!==M.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):S()};var k=-1,w=0,_=!1;function T(e,t){_?(t.delete(e),e(0)):(t.add(e),H())}function H(){k<0&&(k=0,"demand"!==M.frameLoop&&R(x))}function x(){~k&&(R(x),M.batchedUpdates(S))}function S(){var e=k;k=M.now();var t=D(k);t&&(P(G.splice(0,t),(function(e){return e.handler()})),w-=t),w?(E.flush(),y.flush(e?Math.min(64,k-e):16.667),F.flush(),b.flush(),I.flush()):k=-1}function J(){var e=new Set,t=e;return{add:function(n){w+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return w-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,w-=t.size,P(t,(function(t){return t(n)&&e.add(t)})),w+=e.size,t=e)}}}function P(e,t){e.forEach((function(e){try{t(e)}catch(n){M.catch(n)}}))}function L(){}var U={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function O(e,t){if(U.arr(e)){if(!U.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var Z=function(e,t){return e.forEach(t)};function K(e,t,n){if(U.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var Q=function(e){return U.und(e)?[]:U.arr(e)?e:[e]};function j(e,t){if(e.size){var n=Array.from(e);e.clear(),Z(n,t)}}var N,X,Y=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j(e,(function(e){return e.apply(void 0,n)}))},V=function(){return"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},W=null,z=!1,q=L,$=function(e){e.to&&(X=e.to),e.now&&(M.now=e.now),void 0!==e.colors&&(W=e.colors),null!=e.skipAnimation&&(z=e.skipAnimation),e.createStringInterpolator&&(N=e.createStringInterpolator),e.requestAnimationFrame&&M.use(e.requestAnimationFrame),e.batchedUpdates&&(M.batchedUpdates=e.batchedUpdates),e.willAdvance&&(q=e.willAdvance),e.frameLoop&&(M.frameLoop=e.frameLoop)},ee=Object.freeze({__proto__:null,get createStringInterpolator(){return N},get to(){return X},get colors(){return W},get skipAnimation(){return z},get willAdvance(){return q},assign:$}),te=new Set,ne=[],re=[],ie=0,ae={get idle(){return!te.size&&!ne.length},start:function(e){ie>e.priority?(te.add(e),M.onStart(oe)):(se(e),M(ce))},advance:ce,sort:function(e){if(ie)M.onFrame((function(){return ae.sort(e)}));else{var t=ne.indexOf(e);~t&&(ne.splice(t,1),ue(e))}},clear:function(){ne=[],te.clear()}};function oe(){te.forEach(se),te.clear(),M(ce)}function se(e){ne.includes(e)||ue(e)}function ue(e){ne.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(ne,(function(t){return t.priority>e.priority})),0,e)}function ce(e){for(var t=re,n=0;n<ne.length;n++){var r=ne[n];ie=r.priority,r.idle||(q(r),r.advance(e),r.idle||t.push(r))}return ie=0,(re=ne).length=0,(ne=t).length>0}var le=function(e,t,n){return Math.min(Math.max(n,e),t)},he="[-+]?\\d*\\.?\\d+",de=he+"%";function fe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var ve=new RegExp("rgb"+fe(he,he,he)),Ae=new RegExp("rgba"+fe(he,he,he,he)),pe=new RegExp("hsl"+fe(he,de,de)),me=new RegExp("hsla"+fe(he,de,de,he)),Be=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ge=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Ce=/^#([0-9a-fA-F]{6})$/,ye=/^#([0-9a-fA-F]{8})$/;function Me(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function be(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=Me(i,r,e+1/3),o=Me(i,r,e),s=Me(i,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function Ee(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function Fe(e){return(parseFloat(e)%360+360)%360/360}function Ie(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function Ge(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function De(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Ce.exec(e))?parseInt(t[1]+"ff",16)>>>0:W&&void 0!==W[e]?W[e]:(t=ve.exec(e))?(Ee(t[1])<<24|Ee(t[2])<<16|Ee(t[3])<<8|255)>>>0:(t=Ae.exec(e))?(Ee(t[1])<<24|Ee(t[2])<<16|Ee(t[3])<<8|Ie(t[4]))>>>0:(t=Be.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=ye.exec(e))?parseInt(t[1],16)>>>0:(t=ge.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=pe.exec(e))?(255|be(Fe(t[1]),Ge(t[2]),Ge(t[3])))>>>0:(t=me.exec(e))?(be(Fe(t[1]),Ge(t[2]),Ge(t[3]))|Ie(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var Re=function e(t,n,r){if(U.fun(t))return t;if(U.arr(t))return e({range:t,output:n,extrapolate:r});if(U.str(t.output[0]))return N(t);var i=t,a=i.output,o=i.range||[0,1],s=i.extrapolateLeft||i.extrapolate||"extend",u=i.extrapolateRight||i.extrapolate||"extend",c=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,a,o,s,u){var c=u?u(e):e;if(c<t){if("identity"===o)return c;"clamp"===o&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=a(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r;return c}(e,o[t],o[t+1],a[t],a[t+1],c,s,u,i.map)}};var ke=1.70158,we=1.525*ke,_e=ke+1,Te=2*Math.PI/3,He=2*Math.PI/4.5,xe=function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},Se={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-Math.pow(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-Math.pow(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-Math.pow(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},easeInCirc:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},easeInBack:function(e){return _e*e*e*e-ke*e*e},easeOutBack:function(e){return 1+_e*Math.pow(e-1,3)+ke*Math.pow(e-1,2)},easeInOutBack:function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-we)/2:(Math.pow(2*e-2,2)*((we+1)*(2*e-2)+we)+2)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*Te)},easeOutElastic:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*Te)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*He)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*He)/2+1},easeInBounce:function(e){return 1-xe(1-e)},easeOutBounce:xe,easeInOutBounce:function(e){return e<.5?(1-xe(1-2*e))/2:(1+xe(2*e-1))/2},steps:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return function(n){var r=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e,i="end"===t?Math.floor(r):Math.ceil(r);return le(0,1,i/e)}}};function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je.apply(this,arguments)}var Pe=Symbol.for("FluidValue.get"),Le=Symbol.for("FluidValue.observers"),Ue=function(e){return Boolean(e&&e[Pe])},Oe=function(e){return e&&e[Pe]?e[Pe]():e},Ze=function(e){return e[Le]||null};function Ke(e,t){var n=e[Le];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var Qe=(0,B.Z)((function e(t){if((0,g.Z)(this,e),this[Pe]=void 0,this[Le]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");je(this,t)})),je=function(e,t){return Ve(e,Pe,t)};function Ne(e,t){if(e[Pe]){var n=e[Le];n||Ve(e,Le,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Xe(e,t){var n=e[Le];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[Le]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Ye,Ve=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},We=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ze=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,qe=new RegExp("(".concat(We.source,")(%|[a-z]+)"),"i"),$e=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,et=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,tt=function e(t){var n=nt(t),r=(0,i.Z)(n,2),a=r[0],o=r[1];if(!a||V())return t;var s=window.getComputedStyle(document.documentElement).getPropertyValue(a);if(s)return s.trim();if(o&&o.startsWith("--")){var u=window.getComputedStyle(document.documentElement).getPropertyValue(o);return u||t}return o&&et.test(o)?e(o):o||t},nt=function(e){var t=et.exec(e);if(!t)return[,];var n=(0,i.Z)(t,3);return[n[1],n[2]]},rt=function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},it=function(e){Ye||(Ye=W?new RegExp("(".concat(Object.keys(W).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return Oe(e).replace(et,tt).replace(ze,De).replace(Ye,De)})),n=t.map((function(e){return e.match(We).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return Re(Je({},e,{output:t}))}));return function(e){var n,i=!qe.test(t[0])&&(null==(n=t.find((function(e){return qe.test(e)})))?void 0:n.replace(We,"")),a=0;return t[0].replace(We,(function(){return"".concat(r[a++](e)).concat(i||"")})).replace($e,rt)}},at="react-spring: ",ot=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(at,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},st=ot(console.warn);var ut=ot(console.warn);function ct(e){return U.str(e)&&("#"==e[0]||/\d/.test(e)||!V()&&et.test(e)||e in(W||{}))}new WeakMap;new Set,new WeakMap,new WeakMap,new WeakMap;var lt=V()?s.useEffect:s.useLayoutEffect,ht=function(){var e=(0,s.useRef)(!1);return lt((function(){return e.current=!0,function(){e.current=!1}}),[]),e};function dt(){var e=(0,s.useState)()[1],t=ht();return function(){t.current&&e(Math.random())}}var ft=function(e){return(0,s.useEffect)(e,vt)},vt=[];function At(e){var t=(0,s.useRef)();return(0,s.useEffect)((function(){t.current=e})),t.current}var pt=Symbol.for("Animated:node"),mt=function(e){return e&&e[pt]},Bt=function(e,t){return n=e,r=pt,i=t,Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0});var n,r,i},gt=function(e){return e&&e[pt]&&e[pt].getPayload()},Ct=function(){function e(){(0,g.Z)(this,e),this.payload=void 0,Bt(this,this)}return(0,B.Z)(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),yt=function(e){(0,f.Z)(n,e);var t=(0,v.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,r.durationProgress=0,r._value=e,U.num(r._value)&&(r.lastPosition=r._value),r}return(0,B.Z)(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return U.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,U.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(Ct),Mt=function(e){(0,f.Z)(n,e);var t=(0,v.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this,0))._string=null,r._toString=void 0,r._toString=Re({output:[e,e]}),r}return(0,B.Z)(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(U.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!(0,h.Z)((0,d.Z)(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=Re({output:[this.getValue(),e]})),this._value=0,(0,h.Z)((0,d.Z)(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(yt),bt={dependencies:null},Et=function(e){(0,f.Z)(n,e);var t=(0,v.Z)(n);function n(e){var r;return(0,g.Z)(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return(0,B.Z)(n,[{key:"getValue",value:function(e){var t={};return K(this.source,(function(n,r){var i;(i=n)&&i[pt]===i?t[r]=n.getValue(e):Ue(n)?t[r]=Oe(n):e||(t[r]=n)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&Z(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return K(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;bt.dependencies&&Ue(e)&&bt.dependencies.add(e);var n=gt(e);n&&Z(n,(function(e){return t.add(e)}))}}]),n}(Ct),Ft=function(e){(0,f.Z)(n,e);var t=(0,v.Z)(n);function n(e){return(0,g.Z)(this,n),t.call(this,e)}return(0,B.Z)(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):((0,h.Z)((0,d.Z)(n.prototype),"setValue",this).call(this,e.map(It)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(Et);function It(e){return(ct(e)?Mt:yt).create(e)}function Gt(e){var t=mt(e);return t?t.constructor:U.arr(e)?Ft:ct(e)?Mt:yt}function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dt.apply(this,arguments)}var Rt=function(e,t){var n=!U.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,s.forwardRef)((function(r,a){var o=(0,s.useRef)(null),u=n&&(0,s.useCallback)((function(e){o.current=function(e,t){e&&(U.fun(e)?e(t):e.current=t);return t}(a,e)}),[a]),c=function(e,t){var n=new Set;bt.dependencies=n,e.style&&(e=Dt({},e,{style:t.createAnimatedStyle(e.style)}));return e=new Et(e),bt.dependencies=null,[e,n]}(r,t),l=(0,i.Z)(c,2),h=l[0],d=l[1],f=dt(),v=function(){var e=o.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,h.getValue(!0)))&&f()},A=new kt(v,d),p=(0,s.useRef)();lt((function(){return p.current=A,Z(d,(function(e){return Ne(e,A)})),function(){p.current&&(Z(p.current.deps,(function(e){return Xe(e,p.current)})),M.cancel(p.current.update))}})),(0,s.useEffect)(v,[]),ft((function(){return function(){var e=p.current;Z(e.deps,(function(t){return Xe(t,e)}))}}));var m=t.getComponentProps(h.getValue());return s.createElement(e,Dt({},m,{ref:u}))}))},kt=function(){function e(t,n){(0,g.Z)(this,e),this.update=t,this.deps=n}return(0,B.Z)(e,[{key:"eventObserved",value:function(e){"change"==e.type&&M.write(this.update)}}]),e}();var wt=Symbol.for("AnimatedComponent"),_t=function(e){return U.str(e)?e:e&&U.str(e.displayName)?e.displayName:U.fun(e)&&e.name||null};function Tt(){return Tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tt.apply(this,arguments)}function Ht(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return U.fun(e)?e.apply(void 0,n):e}var xt=function(e,t){return!0===e||!!(t&&e&&(U.fun(e)?e(t):Q(e).includes(t)))},St=function(e,t){return U.obj(e)?t&&e[t]:e},Jt=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},Pt=function(e){return e},Lt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pt,n=Ut;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,i={},a=(0,C.Z)(n);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=t(e[o],o);U.und(s)||(i[o]=s)}}catch(u){a.e(u)}finally{a.f()}return i},Ut=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Ot={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Zt(e){var t=function(e){var t={},n=0;if(K(e,(function(e,r){Ot[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return K(e,(function(e,r){return r in t||(n[r]=e)})),n}return Tt({},e)}function Kt(e){return e=Oe(e),U.arr(e)?e.map(Kt):ct(e)?ee.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Qt(e){for(var t in e)return!0;return!1}function jt(e){return U.fun(e)||U.arr(e)&&U.obj(e[0])}function Nt(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function Xt(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}var Yt=Tt({},{tension:170,friction:26},{mass:1,damping:1,easing:Se.linear,clamp:!1}),Vt=(0,B.Z)((function e(){(0,g.Z)(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Yt)}));function Wt(e,t){if(U.und(t.decay)){var n=!U.und(t.tension)||!U.und(t.friction);!n&&U.und(t.frequency)&&U.und(t.damping)&&U.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var zt=[],qt=(0,B.Z)((function e(){(0,g.Z)(this,e),this.changed=!1,this.values=zt,this.toValues=null,this.fromValues=zt,this.to=void 0,this.from=void 0,this.config=new Vt,this.immediate=!1}));function $t(e,t){var n=t.key,r=t.props,i=t.defaultProps,a=t.state,o=t.actions;return new Promise((function(t,s){var u,c,l,h=xt(null!=(u=r.cancel)?u:null==i?void 0:i.cancel,n);if(h)A();else{U.und(r.pause)||(a.paused=xt(r.pause,n));var d=null==i?void 0:i.pause;!0!==d&&(d=a.paused||xt(d,n)),c=Ht(r.delay||0,n),d?(a.resumeQueue.add(v),o.pause()):(o.resume(),v())}function f(){a.resumeQueue.add(v),a.timeouts.delete(l),l.cancel(),c=l.time-M.now()}function v(){c>0&&!ee.skipAnimation?(a.delayed=!0,l=M.setTimeout(A,c),a.pauseQueue.add(f),a.timeouts.add(l)):A()}function A(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(f),a.timeouts.delete(l),e<=(a.cancelId||0)&&(h=!0);try{o.start(Tt({},r,{callId:e,cancel:h}),t)}catch(n){s(n)}}}))}var en=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?rn(e.get()):t.every((function(e){return e.noop}))?tn(e.get()):nn(e.get(),t.every((function(e){return e.finished})))},tn=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},nn=function(e,t){return{value:e,finished:t,cancelled:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},rn=function(e){return{value:e,cancelled:!0,finished:!1}};function an(e,t,n,r){var i=t.callId,a=t.parentId,o=t.onRest,s=n.asyncTo,u=n.promise;return a||e!==s||t.reset?n.promise=(0,m.Z)((0,p.Z)().mark((function c(){var l,h,d,f,v,A,B,g;return(0,p.Z)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.asyncId=i,n.asyncTo=e,l=Lt(t,(function(e,t){return"onRest"===t?void 0:e})),f=new Promise((function(e,t){return h=e,d=t})),v=function(e){var t=i<=(n.cancelId||0)&&rn(r)||i!==n.asyncId&&nn(r,!1);if(t)throw e.result=t,d(e),e},A=function(e,t){var a=new sn,o=new un;return(0,m.Z)((0,p.Z)().mark((function s(){var u,c;return(0,p.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!ee.skipAnimation){s.next=5;break}throw on(n),o.result=nn(r,!1),d(o),o;case 5:return v(a),(u=U.obj(e)?Tt({},e):Tt({},t,{to:e})).parentId=i,K(l,(function(e,t){U.und(u[t])&&(u[t]=e)})),s.next=11,r.start(u);case 11:if(c=s.sent,v(a),!n.paused){s.next=16;break}return s.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return s.abrupt("return",c);case 17:case"end":return s.stop()}}),s)})))()},!ee.skipAnimation){c.next=9;break}return on(n),c.abrupt("return",nn(r,!1));case 9:return c.prev=9,g=U.arr(e)?function(){var e=(0,m.Z)((0,p.Z)().mark((function e(t){var n,r,i;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,C.Z)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,A(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(A,r.stop.bind(r))),c.next=13,Promise.all([g.then(h),f]);case 13:B=nn(r.get(),!0,!1),c.next=27;break;case 16:if(c.prev=16,c.t0=c.catch(9),!(c.t0 instanceof sn)){c.next=22;break}B=c.t0.result,c.next=27;break;case 22:if(!(c.t0 instanceof un)){c.next=26;break}B=c.t0.result,c.next=27;break;case 26:throw c.t0;case 27:return c.prev=27,i==n.asyncId&&(n.asyncId=a,n.asyncTo=a?s:void 0,n.promise=a?u:void 0),c.finish(27);case 30:return U.fun(o)&&M.batchedUpdates((function(){o(B,r,r.item)})),c.abrupt("return",B);case 32:case"end":return c.stop()}}),c,null,[[9,16,27,30]])})))():u}function on(e,t){j(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var sn=function(e){(0,f.Z)(n,e);var t=(0,v.Z)(n);function n(){var e;return(0,g.Z)(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return(0,B.Z)(n)}((0,A.Z)(Error)),un=function(e){(0,f.Z)(n,e);var t=(0,v.Z)(n);function n(){var e;return(0,g.Z)(this,n),(e=t.call(this,"SkipAnimationSignal")).result=void 0,e}return(0,B.Z)(n)}((0,A.Z)(Error)),cn=function(e){return e instanceof hn},ln=1,hn=function(e){(0,f.Z)(n,e);var t=(0,v.Z)(n);function n(){var e;(0,g.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).id=ln++,e.key=void 0,e._priority=0,e}return(0,B.Z)(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=mt(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ee.to(this,t)}},{key:"interpolate",value:function(){st("".concat(at,'The "interpolate" function is deprecated in v9 (use "to" instead)'));for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ee.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){Ke(this,{type:"change",parent:this,value:e,idle:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}},{key:"_onPriorityChange",value:function(e){this.idle||ae.sort(this),Ke(this,{type:"priority",parent:this,priority:e})}}]),n}(Qe),dn=Symbol.for("SpringPhase"),fn=function(e){return(1&e[dn])>0},vn=function(e){return(2&e[dn])>0},An=function(e){return(4&e[dn])>0},pn=function(e,t){return t?e[dn]|=3:e[dn]&=-3},mn=function(e,t){return t?e[dn]|=4:e[dn]&=-5},Bn=function(e){(0,f.Z)(n,e);var t=(0,v.Z)(n);function n(e,r){var i;if((0,g.Z)(this,n),(i=t.call(this)).key=void 0,i.animation=new qt,i.queue=void 0,i.defaultProps={},i._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},i._pendingCalls=new Set,i._lastCallId=0,i._lastToId=0,i._memoizedDuration=0,!U.und(e)||!U.und(r)){var a=U.obj(e)?Tt({},e):Tt({},r,{from:e});U.und(a.default)&&(a.default=!0),i.start(a)}return i}return(0,B.Z)(n,[{key:"idle",get:function(){return!(vn(this)||this._state.asyncTo)||An(this)}},{key:"goal",get:function(){return Oe(this.animation.to)}},{key:"velocity",get:function(){var e=mt(this);return e instanceof yt?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return fn(this)}},{key:"isAnimating",get:function(){return vn(this)}},{key:"isPaused",get:function(){return An(this)}},{key:"isDelayed",get:function(){return this._state.delayed}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,a=i.config,o=i.toValues,s=gt(i.to);!s&&Ue(i.to)&&(o=Q(Oe(i.to))),i.values.forEach((function(u,c){if(!u.done){var l=u.constructor==Mt?1:s?s[c].lastPosition:o[c],h=i.immediate,d=l;if(!h){if(d=u.lastPosition,a.tension<=0)return void(u.done=!0);var f,v=u.elapsedTime+=e,A=i.fromValues[c],p=null!=u.v0?u.v0:u.v0=U.arr(a.velocity)?a.velocity[c]:a.velocity,m=a.precision||(A==l?.005:Math.min(1,.001*Math.abs(l-A)));if(U.und(a.duration))if(a.decay){var B=!0===a.decay?.998:a.decay,g=Math.exp(-(1-B)*v);d=A+p/(1-B)*(1-g),h=Math.abs(u.lastPosition-d)<=m,f=p*g}else{f=null==u.lastVelocity?p:u.lastVelocity;for(var C=a.restVelocity||m/10,y=a.clamp?0:a.bounce,M=!U.und(y),b=A==l?u.v0>0:A<l,E=Math.ceil(e/1),F=0;F<E&&(Math.abs(f)>C||!(h=Math.abs(l-d)<=m));++F){M&&(d==l||d>l==b)&&(f=-f*y,d=l),d+=1*(f+=1*((1e-6*-a.tension*(d-l)+.001*-a.friction*f)/a.mass))}}else{var I=1;a.duration>0&&(t._memoizedDuration!==a.duration&&(t._memoizedDuration=a.duration,u.durationProgress>0&&(u.elapsedTime=a.duration*u.durationProgress,v=u.elapsedTime+=e)),I=(I=(a.progress||0)+v/t._memoizedDuration)>1?1:I<0?0:I,u.durationProgress=I),f=((d=A+a.easing(I)*(l-A))-u.lastPosition)/e,h=1==I}u.lastVelocity=f,Number.isNaN(d)&&(console.warn("Got NaN while animating:",t),h=!0)}s&&!s[c].done&&(h=!1),h?u.done=!0:n=!1,u.setValue(d,a.round)&&(r=!0)}}));var u=mt(this),c=u.getValue();if(n){var l=Oe(i.to);c===l&&!r||a.decay?r&&a.decay&&this._onChange(c):(u.setValue(l),this._onChange(l)),this._stop()}else r&&this._onChange(c)}},{key:"set",value:function(e){var t=this;return M.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(vn(this)){var t=this.animation,n=t.to,r=t.config;M.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return U.und(e)?(n=this.queue||[],this.queue=[]):n=[U.obj(e)?e:Tt({},t,{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return en(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),on(this._state,e&&this._lastCallId),M.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,r=e.from;(null==(n=U.obj(n)?n[t]:n)||jt(n))&&(n=void 0),null==(r=U.obj(r)?r[t]:r)&&(r=void 0);var i={to:n,from:r};if(!fn(this)){if(e.reverse){var a=[r,n];n=a[0],r=a[1]}r=Oe(r),U.und(r)?mt(this)||this._set(n):this._set(r)}return i}},{key:"_update",value:function(e,t){var n=this,r=Tt({},e),i=this.key,a=this.defaultProps;r.default&&Object.assign(a,Lt(r,(function(e,t){return/^on/.test(t)?St(e,i):e}))),Fn(this,r,"onProps"),In(this,"onProps",r,this);var o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var s=this._state;return $t(++this._lastCallId,{key:i,props:r,defaultProps:a,state:s,actions:{pause:function(){An(n)||(mn(n,!0),Y(s.pauseQueue),In(n,"onPause",nn(n,gn(n,n.animation.to)),n))},resume:function(){An(n)&&(mn(n,!1),vn(n)&&n._resume(),Y(s.resumeQueue),In(n,"onResume",nn(n,gn(n,n.animation.to)),n))},start:this._merge.bind(this,o)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var i=Cn(r);if(i)return n._update(i,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r=this;if(t.cancel)return this.stop(!0),n(rn(this));var i=!U.und(e.to),a=!U.und(e.from);if(i||a){if(!(t.callId>this._lastToId))return n(rn(this));this._lastToId=t.callId}var o=this.key,s=this.defaultProps,u=this.animation,c=u.to,l=u.from,h=e.to,d=void 0===h?c:h,f=e.from,v=void 0===f?l:f;if(!a||i||t.default&&!U.und(d)||(d=v),t.reverse){var A=[v,d];d=A[0],v=A[1]}var p=!O(v,l);p&&(u.from=v),v=Oe(v);var m=!O(d,c);m&&this._focus(d);var B=jt(t.to),g=u.config,C=g.decay,y=g.velocity;(i||a)&&(g.velocity=0),t.config&&!B&&function(e,t,n){for(var r in n&&(Wt(n=Tt({},n),t),t=Tt({},n,t)),Wt(e,t),Object.assign(e,t),Yt)null==e[r]&&(e[r]=Yt[r]);var i=e.mass,a=e.frequency,o=e.damping;U.und(a)||(a<.01&&(a=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/a,2)*i,e.friction=4*Math.PI*o*i/a)}(g,Ht(t.config,o),t.config!==s.config?Ht(s.config,o):void 0);var b=mt(this);if(!b||U.und(d))return n(nn(this,!0));var E=U.und(t.reset)?a&&!t.default:!U.und(v)&&xt(t.reset,o),F=E?v:this.get(),I=Kt(d),G=U.num(I)||U.arr(I)||ct(I),D=!B&&(!G||xt(s.immediate||t.immediate,o));if(m){var R=Gt(d);if(R!==b.constructor){if(!D)throw Error("Cannot animate between ".concat(b.constructor.name," and ").concat(R.name,', as the "to" prop suggests'));b=this._set(I)}}var k=b.constructor,w=Ue(d),_=!1;if(!w){var T=E||!fn(this)&&p;(m||T)&&(w=!(_=O(Kt(F),I))),(O(u.immediate,D)||D)&&O(g.decay,C)&&O(g.velocity,y)||(w=!0)}if(_&&vn(this)&&(u.changed&&!E?w=!0:w||this._stop(c)),!B&&((w||Ue(c))&&(u.values=b.getPayload(),u.toValues=Ue(d)?null:k==Mt?[1]:Q(I)),u.immediate!=D&&(u.immediate=D,D||E||this._set(c)),w)){var H=u.onRest;Z(En,(function(e){return Fn(r,t,e)}));var x=nn(this,gn(this,c));Y(this._pendingCalls,x),this._pendingCalls.add(n),u.changed&&M.batchedUpdates((function(){u.changed=!E,null==H||H(x,r),E?Ht(s.onRest,x):null==u.onStart||u.onStart(x,r)}))}E&&this._set(F),B?n(an(t.to,t,this._state,this)):w?this._start():vn(this)&&!m?this._pendingCalls.add(n):n(tn(F))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(Ze(this)&&this._detach(),t.to=e,Ze(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;Ue(t)&&(Ne(t,this),cn(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;Ue(e)&&Xe(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=Oe(e);if(!U.und(r)){var i=mt(this);if(!i||!O(r,i.getValue())){var a=Gt(r);i&&i.constructor==a?i.setValue(r):Bt(this,a.create(r)),i&&M.batchedUpdates((function(){t._onChange(r,n)}))}}return mt(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,In(this,"onStart",nn(this,gn(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),Ht(this.animation.onChange,e,this)),Ht(this.defaultProps.onChange,e,this),(0,h.Z)((0,d.Z)(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;mt(this).reset(Oe(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),vn(this)||(pn(this,!0),An(this)||this._resume())}},{key:"_resume",value:function(){ee.skipAnimation?this.finish():ae.start(this)}},{key:"_stop",value:function(e,t){if(vn(this)){pn(this,!1);var n=this.animation;Z(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Ke(this,{type:"idle",parent:this});var r=t?rn(this.get()):nn(this.get(),gn(this,null!=e?e:n.to));Y(this._pendingCalls,r),n.changed&&(n.changed=!1,In(this,"onRest",r,this))}}}]),n}(hn);function gn(e,t){var n=Kt(t);return O(Kt(e.get()),n)}function Cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=Ht(t);if(r){var i=!0!==r&&Zt(r),a=(i||e).reverse,o=!i||i.reset;return yn(Tt({},e,{loop:t,default:!1,pause:void 0,to:!a||jt(n)?n:void 0,from:o?e.from:void 0,reset:o},i))}}function yn(e){var t=e=Zt(e),n=t.to,r=t.from,i=new Set;return U.obj(n)&&bn(n,i),U.obj(r)&&bn(r,i),e.keys=i.size?Array.from(i):null,e}function Mn(e){var t=yn(e);return U.und(t.default)&&(t.default=Lt(t)),t}function bn(e,t){K(e,(function(e,n){return null!=e&&t.add(n)}))}var En=["onStart","onRest","onChange","onPause","onResume"];function Fn(e,t,n){e.animation[n]=t[n]!==Jt(t,n)?St(t[n],e.key):void 0}function In(e,t){for(var n,r,i,a,o,s,u=arguments.length,c=new Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=arguments[l];null==(i=(a=e.animation)[t])||(n=i).call.apply(n,[a].concat(c)),null==(o=(s=e.defaultProps)[t])||(r=o).call.apply(r,[s].concat(c))}var Gn=["onStart","onChange","onRest"],Dn=1,Rn=function(){function e(t,n){(0,g.Z)(this,e),this.id=Dn++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(Tt({default:!0},t))}return(0,B.Z)(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle&&!e.isDelayed&&!e.isPaused}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];U.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(yn(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=Q(e).map(yn):this.queue=[],this._flush?this._flush(this,t):(Jn(this,t),kn(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;Z(Q(t),(function(t){return n[t].stop(!!e)}))}else on(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(U.und(e))this.start({pause:!0});else{var t=this.springs;Z(Q(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(U.und(e))this.start({pause:!1});else{var t=this.springs;Z(Q(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){K(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,a=t.onRest,o=this._active.size>0,s=this._changed.size>0;(o&&!this._started||s&&!this._started)&&(this._started=!0,j(n,(function(t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];a.value=e.get(),r(a,e,e._item)})));var u=!o&&this._started,c=s||u&&a.size?this.get():null;s&&r.size&&j(r,(function(t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];a.value=c,r(a,e,e._item)})),u&&(this._started=!1,j(a,(function(t){var n=(0,i.Z)(t,2),r=n[0],a=n[1];a.value=c,r(a,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}M.onFrame(this._onFrame)}}]),e}();function kn(e,t){return Promise.all(t.map((function(t){return wn(e,t)}))).then((function(t){return en(e,t)}))}function wn(e,t,n){return _n.apply(this,arguments)}function _n(){return _n=(0,m.Z)((0,p.Z)().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,d,f,v,A,m;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.keys,a=n.to,o=n.from,s=n.loop,u=n.onRest,c=n.onResolve,l=U.obj(n.default)&&n.default,s&&(n.loop=!1),!1===a&&(n.to=null),!1===o&&(n.from=null),(h=U.arr(a)||U.fun(a)?a:void 0)?(n.to=void 0,n.onRest=void 0,l&&(l.onRest=void 0)):Z(Gn,(function(e){var r=n[e];if(U.fun(r)){var i=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,a=i.get(r);a?(t||(a.finished=!1),n&&(a.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},l&&(l[e]=n[e])}})),d=t._state,n.pause===!d.paused?(d.paused=n.pause,Y(n.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(n.pause=!0),f=(i||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),v=!0===n.cancel||!0===Jt(n,"cancel"),(h||v&&d.asyncId)&&f.push($t(++t._lastAsyncId,{props:n,state:d,actions:{pause:L,resume:L,start:function(e,n){v?(on(d,t._lastAsyncId),n(rn(t))):(e.onRest=u,n(an(h,e,d,t)))}}})),!d.paused){e.next=15;break}return e.next=15,new Promise((function(e){d.resumeQueue.add(e)}));case 15:return e.t0=en,e.t1=t,e.next=19,Promise.all(f);case 19:if(e.t2=e.sent,A=(0,e.t0)(e.t1,e.t2),!s||!A.finished||r&&A.noop){e.next=26;break}if(!(m=Cn(n,s,a))){e.next=26;break}return Jn(t,[m]),e.abrupt("return",wn(t,m,!0));case 26:return c&&M.batchedUpdates((function(){return c(A,t,t.item)})),e.abrupt("return",A);case 28:case"end":return e.stop()}}),e)}))),_n.apply(this,arguments)}function Tn(e,t){var n=Tt({},e.springs);return t&&Z(Q(t),(function(e){U.und(e.keys)&&(e=yn(e)),U.obj(e.to)||(e=Tt({},e,{to:void 0})),Sn(n,e,(function(e){return xn(e)}))})),Hn(e,n),n}function Hn(e,t){K(t,(function(t,n){e.springs[n]||(e.springs[n]=t,Ne(t,e))}))}function xn(e,t){var n=new Bn;return n.key=e,t&&Ne(n,t),n}function Sn(e,t,n){t.keys&&Z(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function Jn(e,t){Z(t,(function(t){Sn(e.springs,t,(function(t){return xn(t,e)}))}))}function Pn(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Ln,Un,On=["children"],Zn=function(e){var t=e.children,n=Pn(e,On),r=(0,s.useContext)(Kn),a=n.pause||!!r.pause,o=n.immediate||!!r.immediate;n=function(e,t){var n=(0,s.useState)((function(){return{inputs:t,result:e()}})),r=(0,i.Z)(n,1)[0],a=(0,s.useRef)(),o=a.current,u=o;return u?Boolean(t&&u.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,u.inputs))||(u={inputs:t,result:e()}):u=r,(0,s.useEffect)((function(){a.current=u,o==r&&(r.inputs=r.result=void 0)}),[u]),u.result}((function(){return{pause:a,immediate:o}}),[a,o]);var u=Kn.Provider;return s.createElement(u,{value:n},t)},Kn=(Ln=Zn,Un={},Object.assign(Ln,s.createContext(Un)),Ln.Provider._context=Ln,Ln.Consumer._context=Ln,Ln);Zn.Provider=Kn.Provider,Zn.Consumer=Kn.Consumer;var Qn=function(){var e=[],t=function(t){ut("".concat(at,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));var r=[];return Z(e,(function(e,i){if(U.und(t))r.push(e.start());else{var a=n(t,e,i);a&&r.push(e.start(a))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return Z(e,(function(e){return e.pause.apply(e,(0,a.Z)(t))})),this},t.resume=function(){var t=arguments;return Z(e,(function(e){return e.resume.apply(e,(0,a.Z)(t))})),this},t.set=function(t){Z(e,(function(e){return e.set(t)}))},t.start=function(t){var n=this,r=[];return Z(e,(function(e,i){if(U.und(t))r.push(e.start());else{var a=n._getProps(t,e,i);a&&r.push(e.start(a))}})),r},t.stop=function(){var t=arguments;return Z(e,(function(e){return e.stop.apply(e,(0,a.Z)(t))})),this},t.update=function(t){var n=this;return Z(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return U.fun(e)?e(n,t):e};return t._getProps=n,t};function jn(e,t,n){var r=arguments,i=U.fun(t)&&t;i&&!n&&(n=[]);var o=(0,s.useMemo)((function(){return i||3==r.length?Qn():void 0}),[]),u=(0,s.useRef)(0),c=dt(),l=(0,s.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=Tn(e,t);return u.current>0&&!l.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?kn(e,t):new Promise((function(r){Hn(e,n),l.queue.push((function(){r(kn(e,t))})),c()}))}}}),[]),h=(0,s.useRef)((0,a.Z)(l.ctrls)),d=[],f=At(e)||0;function v(e,n){for(var r=e;r<n;r++){var a=h.current[r]||(h.current[r]=new Rn(null,l.flush)),o=i?i(r,a):t[r];o&&(d[r]=Mn(o))}}(0,s.useMemo)((function(){Z(h.current.slice(e,f),(function(e){Nt(e,o),e.stop(!0)})),h.current.length=e,v(f,e)}),[e]),(0,s.useMemo)((function(){v(0,Math.min(f,e))}),n);var A=h.current.map((function(e,t){return Tn(e,d[t])})),p=(0,s.useContext)(Zn),m=At(p),B=p!==m&&Qt(p);lt((function(){u.current++,l.ctrls=h.current;var e=l.queue;e.length&&(l.queue=[],Z(e,(function(e){return e()}))),Z(h.current,(function(e,t){null==o||o.add(e),B&&e.start({default:p});var n=d[t];n&&(Xt(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),ft((function(){return function(){Z(l.ctrls,(function(e){return e.stop(!0)}))}}));var g=A.map((function(e){return Tt({},e)}));return o?[g,o]:g}function Nn(e,t){var n=U.fun(e),r=jn(1,n?e:[e],n?t||[]:t),a=(0,i.Z)(r,2),o=(0,i.Z)(a[0],1)[0],s=a[1];return n||2==arguments.length?[o,s]:o}var Xn;!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(Xn||(Xn={}));var Yn=function(e){(0,f.Z)(n,e);var t=(0,v.Z)(n);function n(e,r){var i;(0,g.Z)(this,n),(i=t.call(this)).key=void 0,i.idle=!0,i.calc=void 0,i._active=new Set,i.source=e,i.calc=Re.apply(void 0,(0,a.Z)(r));var o=i._get(),s=Gt(o);return Bt((0,l.Z)(i),s.create(o)),i}return(0,B.Z)(n,[{key:"advance",value:function(e){var t=this._get();O(t,this.get())||(mt(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Wn(this._active)&&zn(this)}},{key:"_get",value:function(){var e=U.arr(this.source)?this.source.map(Oe):Q(Oe(this.source));return this.calc.apply(this,(0,a.Z)(e))}},{key:"_start",value:function(){var e=this;this.idle&&!Wn(this._active)&&(this.idle=!1,Z(gt(this),(function(e){e.done=!1})),ee.skipAnimation?(M.batchedUpdates((function(){return e.advance()})),zn(this)):ae.start(this))}},{key:"_attach",value:function(){var e=this,t=1;Z(Q(this.source),(function(n){Ue(n)&&Ne(n,e),cn(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;Z(Q(this.source),(function(t){Ue(t)&&Xe(t,e)})),this._active.clear(),zn(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Q(this.source).reduce((function(e,t){return Math.max(e,(cn(t)?t.priority:0)+1)}),0))}}]),n}(hn);function Vn(e){return!1!==e.idle}function Wn(e){return!e.size||Array.from(e).every(Vn)}function zn(e){e.idle||(e.idle=!0,Z(gt(e),(function(e){e.done=!0})),Ke(e,{type:"idle",parent:e}))}ee.assign({createStringInterpolator:it,to:function(e,t){return new Yn(e,t)}});ae.advance;var qn=["primitive"].concat(Object.keys(u).filter((function(e){return/^[A-Z]/.test(e)})).map((function(e){return e[0].toLowerCase()+e.slice(1)})));ee.assign({createStringInterpolator:it,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},frameLoop:"demand"}),(0,c.n)((function(){M.advance()}));var $n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,a=void 0===i?function(e){return new Et(e)}:i,o=t.getComponentProps,s={applyAnimatedValues:r,createAnimatedStyle:a,getComponentProps:void 0===o?function(e){return e}:o},u=function e(t){var n=_t(t)||"Anonymous";return(t=U.str(t)?e[t]||(e[t]=Rt(t,s)):t[wt]||(t[wt]=Rt(t,s))).displayName="Animated(".concat(n,")"),t};return K(e,(function(t,n){U.arr(e)&&(n=_t(t)),u[n]=u(t)})),{animated:u}}(qn,{applyAnimatedValues:c.j}),er=$n.animated,tr=n(4942);var nr={toVector:function(e,t){return void 0===e&&(e=t),Array.isArray(e)?e:[e,e]},add:function(e,t){return[e[0]+t[0],e[1]+t[1]]},sub:function(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo:function(e,t){e[0]+=t[0],e[1]+=t[1]},subTo:function(e,t){e[0]-=t[0],e[1]-=t[1]}};function rr(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function ir(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15;return 0===r?function(e,t,n){return Math.max(t,Math.min(e,n))}(e,t,n):e<t?-rr(t-e,n-t,r)+t:e>n?+rr(e-n,n-t,r)+n:e}function ar(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function or(e,t,n){return(t=ar(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(n),!0).forEach((function(t){or(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cr={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function lr(e){return e?e[0].toUpperCase()+e.slice(1):""}var hr=["enter","leave"];function dr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=cr[e],i=r&&r[t]||t;return"on"+lr(e)+lr(i)+(function(){var e=arguments.length>1?arguments[1]:void 0;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&!hr.includes(e)}(n,i)?"Capture":"")}var fr=["gotpointercapture","lostpointercapture"];function vr(e){var t=e.substring(2).toLowerCase(),n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));var r=fr.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function Ar(e){return"touches"in e}function pr(e){return Ar(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function mr(e){return Ar(e)?function(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function Br(e,t){var n=t.clientX-e.clientX,r=t.clientY-e.clientY,i=(t.clientX+e.clientX)/2,a=(t.clientY+e.clientY)/2,o=Math.hypot(n,r);return{angle:-180*Math.atan2(n,r)/Math.PI,distance:o,origin:[i,a]}}function gr(e){return function(e){return Array.from(e.touches).filter((function(t){var n,r;return t.target===e.currentTarget||(null===(n=e.currentTarget)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,t.target))}))}(e).map((function(e){return e.identifier}))}function Cr(e,t){var n=Array.from(e.touches).filter((function(e){return t.includes(e.identifier)})),r=(0,i.Z)(n,2);return Br(r[0],r[1])}function yr(e){var t=mr(e);return Ar(e)?t.identifier:t.pointerId}function Mr(e){var t=mr(e);return[t.clientX,t.clientY]}var br=40,Er=800;function Fr(e){var t=e.deltaX,n=e.deltaY,r=e.deltaMode;return 1===r?(t*=br,n*=br):2===r&&(t*=Er,n*=Er),[t,n]}function Ir(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function Gr(){}function Dr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?Gr:1===t.length?t[0]:function(){for(var e,n=0,r=t;n<r.length;n++){e=r[n].apply(this,arguments)||e}return e}}function Rr(e,t){return Object.assign({},t,e||{})}var kr=function(){function e(t,n,r){(0,g.Z)(this,e),this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}return(0,B.Z)(e,[{key:"state",get:function(){return this.ctrl.state[this.key]},set:function(e){this.ctrl.state[this.key]=e}},{key:"shared",get:function(){return this.ctrl.state.shared}},{key:"eventStore",get:function(){return this.ctrl.gestureEventStores[this.key]}},{key:"timeoutStore",get:function(){return this.ctrl.gestureTimeoutStores[this.key]}},{key:"config",get:function(){return this.ctrl.config[this.key]}},{key:"sharedConfig",get:function(){return this.ctrl.config.shared}},{key:"handler",get:function(){return this.ctrl.handlers[this.key]}},{key:"reset",value:function(){var e=this.state,t=this.shared,n=this.ingKey,r=this.args;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}},{key:"start",value:function(e){var t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?Ir(n.from,t):t.offset,t.offset=t.lastOffset),t.startTime=t.timeStamp=e.timeStamp}},{key:"computeValues",value:function(e){var t=this.state;t._values=e,t.values=this.config.transform(e)}},{key:"computeInitial",value:function(){var e=this.state;e._initial=e._values,e.initial=e.values}},{key:"compute",value:function(e){var t=this.state,n=this.config,r=this.shared;t.args=this.args;var a=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(e){var t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){var n=e.shiftKey,r=e.altKey,i=e.metaKey,a=e.ctrlKey;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:a})}return t}(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,a=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){var o=t._delta.map(Math.abs);nr.addTo(t._distance,o)}this.axisIntent&&this.axisIntent(e);var s=(0,i.Z)(t._movement,2),u=s[0],c=s[1],l=(0,i.Z)(n.threshold,2),h=l[0],d=l[1],f=t._step,v=t.values;if(n.hasCustomTransform?(!1===f[0]&&(f[0]=Math.abs(u)>=h&&v[0]),!1===f[1]&&(f[1]=Math.abs(c)>=d&&v[1])):(!1===f[0]&&(f[0]=Math.abs(u)>=h&&Math.sign(u)*h),!1===f[1]&&(f[1]=Math.abs(c)>=d&&Math.sign(c)*d)),t.intentional=!1!==f[0]||!1!==f[1],t.intentional){var A=[0,0];if(n.hasCustomTransform){var p=(0,i.Z)(v,2),m=p[0],B=p[1];A[0]=!1!==f[0]?m-f[0]:0,A[1]=!1!==f[1]?B-f[1]:0}else A[0]=!1!==f[0]?u-f[0]:0,A[1]=!1!==f[1]?c-f[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(A);var g=t.offset,C=t._active&&!t._blocked||t.active;C&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=Ir(n.bounds,t)),this.setup&&this.setup()),t.movement=A,this.computeOffset()));var y=(0,i.Z)(t.offset,2),M=y[0],b=y[1],E=(0,i.Z)(t._bounds,2),F=(0,i.Z)(E[0],2),I=F[0],G=F[1],D=(0,i.Z)(E[1],2),R=D[0],k=D[1];t.overflow=[M<I?-1:M>G?1:0,b<R?-1:b>k?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);var w=t._active&&n.rubberband||[0,0];if(t.offset=function(e,t,n){var r=(0,i.Z)(t,2),a=r[0],o=r[1],s=(0,i.Z)(n,2),u=s[0],c=s[1],l=(0,i.Z)(e,2),h=(0,i.Z)(l[0],2),d=h[0],f=h[1],v=(0,i.Z)(l[1],2),A=v[0],p=v[1];return[ir(a,d,f,u),ir(o,A,p,c)]}(t._bounds,t.offset,w),t.delta=nr.sub(t.offset,g),this.computeMovement(),C&&(!t.last||a>32)){t.delta=nr.sub(t.offset,g);var _=t.delta.map(Math.abs);nr.addTo(t.distance,_),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&a>0&&(t.velocity=[_[0]/a,_[1]/a])}}}},{key:"emit",value:function(){var e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),!e._blocked&&e.intentional||e._force||n.triggerAllEvents){var r=this.handler(ur(ur(ur({},t),e),{},(0,tr.Z)({},this.aliasKey,e.values)));void 0!==r&&(e.memo=r)}}},{key:"clean",value:function(){this.eventStore.clean(),this.timeoutStore.clean()}}]),e}();var wr=function(e){(0,f.Z)(n,e);var t=(0,v.Z)(n);function n(){var e;(0,g.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),or((0,l.Z)(e),"aliasKey","xy"),e}return(0,B.Z)(n,[{key:"reset",value:function(){(0,h.Z)((0,d.Z)(n.prototype),"reset",this).call(this),this.state.axis=void 0}},{key:"init",value:function(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}},{key:"computeOffset",value:function(){this.state.offset=nr.add(this.state.lastOffset,this.state.movement)}},{key:"computeMovement",value:function(){this.state.movement=nr.sub(this.state.offset,this.state.lastOffset)}},{key:"axisIntent",value:function(e){var t=this.state,n=this.config;if(!t.axis&&e){var r="object"===typeof n.axisThreshold?n.axisThreshold[pr(e)]:n.axisThreshold;t.axis=function(e,t){var n=(0,i.Z)(e,2),r=n[0],a=n[1],o=Math.abs(r),s=Math.abs(a);return o>s&&o>t?"x":s>o&&s>t?"y":void 0}(t._movement,r)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}},{key:"restrictToAxis",value:function(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}]),n}(kr),_r=function(e){return e},Tr=.15,Hr={enabled:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]},eventOptions:function(e,t,n){return ur(ur({},n.shared.eventOptions),e)},preventDefault:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},triggerAllEvents:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},rubberband:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return[Tr,Tr];case!1:return[0,0];default:return nr.toVector(e)}},from:function(e){return"function"===typeof e?e:null!=e?nr.toVector(e):void 0},transform:function(e,t,n){var r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||_r},threshold:function(e){return nr.toVector(e,0)}};var xr=0,Sr=ur(ur({},Hr),{},{axis:function(e,t,n){var r=n.axis;if(this.lockDirection="lock"===r,!this.lockDirection)return r},axisThreshold:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr},bounds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"===typeof e)return function(t){return Sr.bounds(e(t))};if("current"in e)return function(){return e.current};if("function"===typeof HTMLElement&&e instanceof HTMLElement)return e;var t=e.left,n=void 0===t?-1/0:t,r=e.right,i=void 0===r?1/0:r,a=e.top,o=void 0===a?-1/0:a,s=e.bottom;return[[n,i],[o,void 0===s?1/0:s]]}}),Jr={ArrowRight:function(e){return[e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),0]},ArrowLeft:function(e){return[-1*e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),0]},ArrowUp:function(e){return[0,-1*e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)]},ArrowDown:function(e){return[0,e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)]}},Pr=function(e){(0,f.Z)(n,e);var t=(0,v.Z)(n);function n(){var e;(0,g.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),or((0,l.Z)(e),"ingKey","dragging"),e}return(0,B.Z)(n,[{key:"reset",value:function(){(0,h.Z)((0,d.Z)(n.prototype),"reset",this).call(this);var e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}},{key:"setup",value:function(){var e=this.state;if(e._bounds instanceof HTMLElement){var t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),r={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=Sr.bounds(r)}}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout((function(){e.compute(),e.emit()}),0))}},{key:"setActive",value:function(){this.state._active=this.state._pointerActive||this.state._keyboardActive}},{key:"clean",value:function(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,(0,h.Z)((0,d.Z)(n.prototype),"clean",this).call(this)}},{key:"pointerDown",value:function(e){var t=this.config,n=this.state;if(null==e.buttons||(Array.isArray(t.pointerButtons)?t.pointerButtons.includes(e.buttons):-1===t.pointerButtons||t.pointerButtons===e.buttons)){var r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),r&&r.size>1&&n._pointerActive||(this.start(e),this.setupPointer(e),n._pointerId=yr(e),n._pointerActive=!0,this.computeValues(Mr(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==pr(e)?(n._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}}},{key:"startPointerDrag",value:function(e){var t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}},{key:"pointerMove",value:function(e){var t=this.state,n=this.config;if(t._pointerActive&&(t.type!==e.type||e.timeStamp!==t.timeStamp)){var r=yr(e);if(void 0===t._pointerId||r===t._pointerId){var i=Mr(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=nr.sub(i,t._values),this.computeValues(i)),nr.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):n.preventScrollAxis&&!t._preventScroll?t.axis?t.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}}}},{key:"pointerUp",value:function(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(E){0}var t=this.state,n=this.config;if(t._active&&t._pointerActive){var r=yr(e);if(void 0===t._pointerId||r===t._pointerId){this.state._pointerActive=!1,this.setActive(),this.compute(e);var a=(0,i.Z)(t._distance,2),o=a[0],s=a[1];if(t.tap=o<=n.tapsThreshold&&s<=n.tapsThreshold,t.tap&&n.filterTaps)t._force=!0;else{var u=(0,i.Z)(t.direction,2),c=u[0],l=u[1],h=(0,i.Z)(t.velocity,2),d=h[0],f=h[1],v=(0,i.Z)(t.movement,2),A=v[0],p=v[1],m=(0,i.Z)(n.swipe.velocity,2),B=m[0],g=m[1],C=(0,i.Z)(n.swipe.distance,2),y=C[0],M=C[1],b=n.swipe.duration;t.elapsedTime<b&&(Math.abs(d)>B&&Math.abs(A)>y&&(t.swipe[0]=c),Math.abs(f)>g&&Math.abs(p)>M&&(t.swipe[1]=l))}this.emit()}}}},{key:"pointerClick",value:function(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}},{key:"setupPointer",value:function(e){var t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}},{key:"pointerClean",value:function(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}},{key:"preventScroll",value:function(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}},{key:"setupScrollPrevention",value:function(e){this.state._preventScroll=!1,function(e){"persist"in e&&"function"===typeof e.persist&&e.persist()}(e);var t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}},{key:"setupDelayTrigger",value:function(e){var t=this;this.state._delayed=!0,this.timeoutStore.add("dragDelay",(function(){t.state._step=[0,0],t.startPointerDrag(e)}),this.config.delay)}},{key:"keyDown",value:function(e){var t=Jr[e.key];if(t){var n=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=t(this.config.keyboardDisplacement,r),n._keyboardActive=!0,nr.addTo(n._movement,n._delta),this.compute(e),this.emit()}}},{key:"keyUp",value:function(e){e.key in Jr&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}]),n}(wr);var Lr="undefined"!==typeof window&&window.document&&window.document.createElement;function Ur(){return Lr&&"ontouchstart"in window||Lr&&window.navigator.maxTouchPoints>1}var Or={isBrowser:Lr,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:Ur(),touchscreen:Ur(),pointer:Lr&&"onpointerdown"in window,pointerLock:Lr&&"exitPointerLock"in window.document},Zr=180,Kr=.5,Qr=50,jr=250,Nr=10,Xr={mouse:0,touch:0,pen:8},Yr=ur(ur({},Sr),{},{device:function(e,t,n){var r=n.pointer,i=void 0===r?{}:r,a=i.touch,o=void 0!==a&&a,s=i.lock,u=void 0!==s&&s,c=i.mouse,l=void 0!==c&&c;return this.pointerLock=u&&Or.pointerLock,Or.touch&&o?"touch":this.pointerLock?"mouse":Or.pointer&&!l?"pointer":Or.touch?"touch":"mouse"},preventScrollAxis:function(e,t,n){var r=n.preventScroll;if(this.preventScrollDelay="number"===typeof r?r:r||void 0===r&&e?250:void 0,Or.touchscreen&&!1!==r)return e||(void 0!==r?"y":void 0)},pointerCapture:function(e,t,n){var r=n.pointer,i=void 0===r?{}:r,a=i.capture,o=void 0===a||a,s=i.buttons,u=void 0===s?1:s,c=i.keys,l=void 0===c||c;return this.pointerButtons=u,this.keys=l,!this.pointerLock&&"pointer"===this.device&&o},threshold:function(e,t,n){var r=n.filterTaps,i=void 0!==r&&r,a=n.tapsThreshold,o=void 0===a?3:a,s=n.axis,u=void 0===s?void 0:s,c=nr.toVector(e,i?o:u?1:0);return this.filterTaps=i,this.tapsThreshold=o,c},swipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.velocity,n=void 0===t?Kr:t,r=e.distance,i=void 0===r?Qr:r,a=e.duration,o=void 0===a?jr:a;return{velocity:this.transform(nr.toVector(n)),distance:this.transform(nr.toVector(i)),duration:o}},delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return Zr;case!1:return 0;default:return e}},axisThreshold:function(e){return e?ur(ur({},Xr),e):Xr},keyboardDisplacement:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr}});function Vr(e){var t=(0,i.Z)(e.overflow,2),n=t[0],r=t[1],a=(0,i.Z)(e._delta,2),o=a[0],s=a[1],u=(0,i.Z)(e._direction,2),c=u[0],l=u[1];(n<0&&o>0&&c<0||n>0&&o<0&&c>0)&&(e._movement[0]=e._movementBound[0]),(r<0&&s>0&&l<0||r>0&&s<0&&l>0)&&(e._movement[1]=e._movementBound[1])}var Wr=function(e){(0,f.Z)(n,e);var t=(0,v.Z)(n);function n(){var e;(0,g.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),or((0,l.Z)(e),"ingKey","pinching"),or((0,l.Z)(e),"aliasKey","da"),e}return(0,B.Z)(n,[{key:"init",value:function(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}},{key:"reset",value:function(){(0,h.Z)((0,d.Z)(n.prototype),"reset",this).call(this);var e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}},{key:"computeOffset",value:function(){var e=this.state,t=e.type,n=e.movement,r=e.lastOffset;this.state.offset="wheel"===t?nr.add(n,r):[(1+n[0])*r[0],n[1]+r[1]]}},{key:"computeMovement",value:function(){var e=this.state,t=e.offset,n=e.lastOffset;this.state.movement=[t[0]/n[0],t[1]-n[1]]}},{key:"axisIntent",value:function(){var e=this.state,t=(0,i.Z)(e._movement,2),n=t[0],r=t[1];if(!e.axis){var a=30*Math.abs(n)-Math.abs(r);a<0?e.axis="angle":a>0&&(e.axis="scale")}}},{key:"restrictToAxis",value:function(e){this.config.lockDirection&&("scale"===this.state.axis?e[1]=0:"angle"===this.state.axis&&(e[0]=0))}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||setTimeout((function(){t.canceled=!0,t._active=!1,e.compute(),e.emit()}),0)}},{key:"touchStart",value:function(e){this.ctrl.setEventIds(e);var t=this.state,n=this.ctrl.touchIds;if((!t._active||!t._touchIds.every((function(e){return n.has(e)})))&&!(n.size<2)){this.start(e),t._touchIds=Array.from(n).slice(0,2);var r=Cr(e,t._touchIds);this.pinchStart(e,r)}}},{key:"pointerStart",value:function(e){if(null==e.buttons||e.buttons%2===1){this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);var t=this.state,n=t._pointerEvents,r=this.ctrl.pointerIds;if((!t._active||!Array.from(n.keys()).every((function(e){return r.has(e)})))&&(n.size<2&&n.set(e.pointerId,e),!(t._pointerEvents.size<2))){this.start(e);var i=Br.apply(void 0,(0,a.Z)(Array.from(n.values())));this.pinchStart(e,i)}}}},{key:"pinchStart",value:function(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}},{key:"touchMove",value:function(e){if(this.state._active){var t=Cr(e,this.state._touchIds);this.pinchMove(e,t)}}},{key:"pointerMove",value:function(e){var t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),this.state._active){var n=Br.apply(void 0,(0,a.Z)(Array.from(t.values())));this.pinchMove(e,n)}}},{key:"pinchMove",value:function(e,t){var n=this.state,r=n._values[1],i=t.angle-r,a=0;Math.abs(i)>270&&(a+=Math.sign(i)),this.computeValues([t.distance,t.angle-360*a]),n.origin=t.origin,n.turns=a,n._movement=[n._values[0]/n._initial[0]-1,n._values[1]-n._initial[1]],this.compute(e),this.emit()}},{key:"touchEnd",value:function(e){var t=this;this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some((function(e){return!t.ctrl.touchIds.has(e)}))&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"pointerEnd",value:function(e){var t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(n){}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}},{key:"gestureStart",value:function(e){e.cancelable&&e.preventDefault();var t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}},{key:"gestureMove",value:function(e){if(e.cancelable&&e.preventDefault(),this.state._active){var t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];var n=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=nr.sub(t._movement,n),this.compute(e),this.emit()}}},{key:"gestureEnd",value:function(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"wheel",value:function(e){var t=this.config.modifierKey;t&&!e[t]||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}},{key:"wheelStart",value:function(e){this.start(e),this.wheelChange(e)}},{key:"wheelChange",value:function(e){"uv"in e||e.cancelable&&e.preventDefault();var t=this.state;t._delta=[-Fr(e)[1]/100*t.offset[0],0],nr.addTo(t._movement,t._delta),Vr(t),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}},{key:"wheelEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}]),n}(kr),zr=ur(ur({},Hr),{},{device:function(e,t,n){var r=n.shared,i=n.pointer,a=(void 0===i?{}:i).touch,o=void 0!==a&&a;if(r.target&&!Or.touch&&Or.gesture)return"gesture";if(Or.touch&&o)return"touch";if(Or.touchscreen){if(Or.pointer)return"pointer";if(Or.touch)return"touch"}},bounds:function(e,t,n){var r=n.scaleBounds,i=void 0===r?{}:r,a=n.angleBounds,o=void 0===a?{}:a,s=function(e){var t=Rr(Ir(i,e),{min:-1/0,max:1/0});return[t.min,t.max]},u=function(e){var t=Rr(Ir(o,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!==typeof i&&"function"!==typeof o?[s(),u()]:function(e){return[s(e),u(e)]}},threshold:function(e,t,n){this.lockDirection="lock"===n.axis;var r=nr.toVector(e,this.lockDirection?[.1,3]:0);return r},modifierKey:function(e){return void 0===e?"ctrlKey":e},pinchOnWheel:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}}),qr=function(e){(0,f.Z)(n,e);var t=(0,v.Z)(n);function n(){var e;(0,g.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),or((0,l.Z)(e),"ingKey","moving"),e}return(0,B.Z)(n,[{key:"move",value:function(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}},{key:"moveStart",value:function(e){this.start(e),this.computeValues(Mr(e)),this.compute(e),this.computeInitial(),this.emit()}},{key:"moveChange",value:function(e){if(this.state._active){var t=Mr(e),n=this.state;n._delta=nr.sub(t,n._values),nr.addTo(n._movement,n._delta),this.computeValues(t),this.compute(e),this.emit()}}},{key:"moveEnd",value:function(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"bind",value:function(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}]),n}(wr),$r=ur(ur({},Sr),{},{mouseOnly:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}}),ei=function(e){(0,f.Z)(n,e);var t=(0,v.Z)(n);function n(){var e;(0,g.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),or((0,l.Z)(e),"ingKey","scrolling"),e}return(0,B.Z)(n,[{key:"scroll",value:function(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}},{key:"scrollChange",value:function(e){e.cancelable&&e.preventDefault();var t=this.state,n=function(e){var t,n,r=e.currentTarget,i=r.scrollX,a=r.scrollY,o=r.scrollLeft,s=r.scrollTop;return[null!==(t=null!==i&&void 0!==i?i:o)&&void 0!==t?t:0,null!==(n=null!==a&&void 0!==a?a:s)&&void 0!==n?n:0]}(e);t._delta=nr.sub(n,t._values),nr.addTo(t._movement,t._delta),this.computeValues(n),this.compute(e),this.emit()}},{key:"scrollEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){e("scroll","",this.scroll.bind(this))}}]),n}(wr),ti=Sr,ni=function(e){(0,f.Z)(n,e);var t=(0,v.Z)(n);function n(){var e;(0,g.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),or((0,l.Z)(e),"ingKey","wheeling"),e}return(0,B.Z)(n,[{key:"wheel",value:function(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}},{key:"wheelChange",value:function(e){var t=this.state;t._delta=Fr(e),nr.addTo(t._movement,t._delta),Vr(t),this.compute(e),this.emit()}},{key:"wheelEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){e("wheel","",this.wheel.bind(this))}}]),n}(wr),ri=Sr,ii=function(e){(0,f.Z)(n,e);var t=(0,v.Z)(n);function n(){var e;(0,g.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),or((0,l.Z)(e),"ingKey","hovering"),e}return(0,B.Z)(n,[{key:"enter",value:function(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.start(e),this.computeValues(Mr(e)),this.compute(e),this.emit())}},{key:"leave",value:function(e){if(!this.config.mouseOnly||"mouse"===e.pointerType){var t=this.state;if(t._active){t._active=!1;var n=Mr(e);t._movement=t._delta=nr.sub(n,t._values),this.computeValues(n),this.compute(e),t.delta=t.movement,this.emit()}}}},{key:"bind",value:function(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}]),n}(wr),ai=ur(ur({},Sr),{},{mouseOnly:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}}),oi=new Map,si=new Map;function ui(e){oi.set(e.key,e.engine),si.set(e.key,e.resolver)}var ci={key:"drag",engine:Pr,resolver:Yr},li={key:"hover",engine:ii,resolver:ai},hi={key:"move",engine:qr,resolver:$r},di={key:"pinch",engine:Wr,resolver:zr},fi={key:"scroll",engine:ei,resolver:ti},vi={key:"wheel",engine:ni,resolver:ri};function Ai(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var pi={target:function(e){if(e)return function(){return"current"in e?e.current:e}},enabled:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]},window:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or.isBrowser?window:void 0})),eventOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.passive,n=void 0===t||t,r=e.capture;return{passive:n,capture:void 0!==r&&r}},transform:function(e){return e}},mi=["target","eventOptions","window","enabled","transform"];function Bi(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={},r=0,a=Object.entries(t);r<a.length;r++){var o=(0,i.Z)(a[r],2),s=o[0],u=o[1];switch(typeof u){case"function":n[s]=u.call(n,e[s],s,e);break;case"object":n[s]=Bi(e[s],u);break;case"boolean":u&&(n[s]=e[s])}}return n}var gi=function(){function e(t,n){(0,g.Z)(this,e),or(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}return(0,B.Z)(e,[{key:"add",value:function(e,t,n,r,i){var a=this._listeners,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=cr[e];return e+(n&&n[t]||t)}(t,n),s=ur(ur({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),i);e.addEventListener(o,r,s);var u=function t(){e.removeEventListener(o,r,s),a.delete(t)};return a.add(u),u}},{key:"clean",value:function(){this._listeners.forEach((function(e){return e()})),this._listeners.clear()}}]),e}(),Ci=function(){function e(){(0,g.Z)(this,e),or(this,"_timeouts",new Map)}return(0,B.Z)(e,[{key:"add",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:140;this.remove(e);for(var i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];this._timeouts.set(e,(n=window).setTimeout.apply(n,[t,r].concat(a)))}},{key:"remove",value:function(e){var t=this._timeouts.get(e);t&&window.clearTimeout(t)}},{key:"clean",value:function(){this._timeouts.forEach((function(e){window.clearTimeout(e)})),this._timeouts.clear()}}]),e}(),yi=function(){function e(t){(0,g.Z)(this,e),or(this,"gestures",new Set),or(this,"_targetEventStore",new gi(this)),or(this,"gestureEventStores",{}),or(this,"gestureTimeoutStores",{}),or(this,"handlers",{}),or(this,"config",{}),or(this,"pointerIds",new Set),or(this,"touchIds",new Set),or(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&Mi(e,"drag");t.wheel&&Mi(e,"wheel");t.scroll&&Mi(e,"scroll");t.move&&Mi(e,"move");t.pinch&&Mi(e,"pinch");t.hover&&Mi(e,"hover")}(this,t)}return(0,B.Z)(e,[{key:"setEventIds",value:function(e){return Ar(e)?(this.touchIds=new Set(gr(e)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}},{key:"applyHandlers",value:function(e,t){this.handlers=e,this.nativeHandlers=t}},{key:"applyConfig",value:function(e,t){this.config=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e,i=r.target,a=r.eventOptions,o=r.window,s=r.enabled,u=r.transform,c=Ai(r,mi);if(n.shared=Bi({target:i,eventOptions:a,window:o,enabled:s,transform:u},pi),t){var l=si.get(t);n[t]=Bi(ur({shared:n.shared},c),l)}else for(var h in c){var d=si.get(h);d&&(n[h]=Bi(ur({shared:n.shared},c[h]),d))}return n}(e,t,this.config)}},{key:"clean",value:function(){this._targetEventStore.clean();var e,t=(0,C.Z)(this.gestures);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.gestureEventStores[n].clean(),this.gestureTimeoutStores[n].clean()}}catch(r){t.e(r)}finally{t.f()}}},{key:"effect",value:function(){var e=this;return this.config.shared.target&&this.bind(),function(){return e._targetEventStore.clean()}}},{key:"bind",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,o=this.config.shared,s={};if(!o.target||(i=o.target())){if(o.enabled){var u,c=(0,C.Z)(this.gestures);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=this.config[l],d=bi(s,h.eventOptions,!!i);if(h.enabled)new(oi.get(l))(this,n,l).bind(d)}}catch(b){c.e(b)}finally{c.f()}var f=bi(s,o.eventOptions,!!i),v=function(t){f(t,"",(function(r){return e.nativeHandlers[t](ur(ur({},e.state.shared),{},{event:r,args:n}))}),void 0,!0)};for(var A in this.nativeHandlers)v(A)}for(var p in s)s[p]=Dr.apply(void 0,(0,a.Z)(s[p]));if(!i)return s;for(var m in s){var B=vr(m),g=B.device,y=B.capture,M=B.passive;this._targetEventStore.add(i,g,"",s[m],{capture:y,passive:M})}}}}]),e}();function Mi(e,t){e.gestures.add(t),e.gestureEventStores[t]=new gi(e,t),e.gestureTimeoutStores[t]=new Ci}var bi=function(e,t,n){return function(r,i,a){var o,s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=null!==(o=u.capture)&&void 0!==o?o:t.capture,h=null!==(s=u.passive)&&void 0!==s?s:t.passive,d=c?r:dr(r,i,l);n&&h&&(d+="Passive"),e[d]=e[d]||[],e[d].push(a)}},Ei=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function Fi(e,t,n,r,i,a){if(e.has(n)&&oi.has(r)){var o=n+"Start",s=n+"End";i[r]=function(e){var r=void 0;return e.first&&o in t&&t[o](e),n in t&&(r=t[n](e)),e.last&&s in t&&t[s](e),r},a[r]=a[r]||{}}}function Ii(e,t){var n=function(e){var t={},n={},r=new Set;for(var i in e)Ei.test(i)?(r.add(RegExp.lastMatch),n[i]=e[i]):t[i]=e[i];return[n,t,r]}(e),r=(0,i.Z)(n,3),a=r[0],o=r[1],s=r[2],u={};return Fi(s,a,"onDrag","drag",u,t),Fi(s,a,"onWheel","wheel",u,t),Fi(s,a,"onScroll","scroll",u,t),Fi(s,a,"onPinch","pinch",u,t),Fi(s,a,"onMove","move",u,t),Fi(s,a,"onHover","hover",u,t),{handlers:u,config:t,nativeHandlers:o}}function Gi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=s.useMemo((function(){return new yi(e)}),[]);if(i.applyHandlers(e,r),i.applyConfig(t,n),s.useEffect(i.effect.bind(i)),s.useEffect((function(){return i.clean.bind(i)}),[]),void 0===t.target)return i.bind.bind(i)}function Di(e,t){var n=([ci,di,fi,vi,hi,li].forEach(ui),function(e,t){var n=Ii(e,t||{}),r=n.handlers,i=n.nativeHandlers;return Gi(r,n.config,void 0,i)});return n(e,t||{})}function Ri(e){var t=e.enabled,n=void 0===t||t,l=e.snap,h=e.global,d=e.domElement,f=e.cursor,v=void 0===f||f,A=e.children,p=e.speed,m=void 0===p?1:p,B=e.rotation,g=void 0===B?[0,0,0]:B,C=e.zoom,y=void 0===C?1:C,M=e.polar,b=void 0===M?[0,Math.PI/2]:M,E=e.azimuth,F=void 0===E?[-1/0,1/0]:E,I=e.config,G=void 0===I?{mass:1,tension:170,friction:26}:I,D=(0,c.z)((function(e){return e.events})),R=(0,c.z)((function(e){return e.gl})),k=d||D.connected||R.domElement,w=(0,c.z)().size,_=s.useMemo((function(){return[g[0]+b[0],g[0]+b[1]]}),[g[0],b[0],b[1]]),T=s.useMemo((function(){return[g[1]+F[0],g[1]+F[1]]}),[g[1],F[0],F[1]]),H=s.useMemo((function(){return[u.MathUtils.clamp.apply(u.MathUtils,[g[0]].concat((0,a.Z)(_))),u.MathUtils.clamp.apply(u.MathUtils,[g[1]].concat((0,a.Z)(T))),g[2]]}),[g[0],g[1],g[2],_,T]),x=Nn((function(){return{scale:1,rotation:H,config:G}})),S=(0,i.Z)(x,2),J=S[0],P=S[1];s.useEffect((function(){P.start({scale:1,rotation:H,config:G})}),[H]),s.useEffect((function(){return h&&v&&n&&(k.style.cursor="grab",R.domElement.style.cursor=""),function(){k.style.cursor="default",R.domElement.style.cursor="default"}}),[h,v,k,n]);var L=Di({onHover:function(e){var t=e.last;v&&!h&&n&&(k.style.cursor=t?"auto":"grab")},onDrag:function(e){var t=e.down,o=(0,i.Z)(e.delta,2),s=o[0],c=o[1],h=e.memo,d=void 0===h?J.rotation.animation.to||H:h,f=(0,i.Z)(d,2),A=f[0],p=f[1];if(!n)return[c,s];v&&(k.style.cursor=t?"grabbing":"grab"),s=u.MathUtils.clamp.apply(u.MathUtils,[p+s/w.width*Math.PI*m].concat((0,a.Z)(T))),c=u.MathUtils.clamp.apply(u.MathUtils,[A+c/w.height*Math.PI*m].concat((0,a.Z)(_)));var B=l&&!t&&"boolean"!==typeof l?l:G;return P.start({scale:t&&c>_[1]/2?y:1,rotation:l&&!t?H:[c,s,0],config:function(e){return"scale"===e?(0,r.Z)((0,r.Z)({},B),{},{friction:3*B.friction}):B}}),[c,s]}},{target:h?k:void 0});return s.createElement(er.group,(0,o.Z)({},null==L?void 0:L(),J),A)}}}]);
//# sourceMappingURL=223.e0cbcc37.chunk.js.map