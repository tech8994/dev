{"version":3,"file":"static/js/223.e0cbcc37.chunk.js","mappings":"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","sources":["../node_modules/three-stdlib/loaders/RGBELoader.js","../node_modules/three-stdlib/objects/GroundProjectedEnv.js","../node_modules/@react-three/drei/helpers/environment-assets.js","../node_modules/@react-three/drei/core/Environment.js","../node_modules/three-stdlib/shaders/HorizontalBlurShader.js","../node_modules/three-stdlib/shaders/VerticalBlurShader.js","../node_modules/@react-three/drei/core/ContactShadows.js","../node_modules/@react-three/drei/core/Center.js","../node_modules/@react-three/drei/core/shaderMaterial.js","../node_modules/@react-three/drei/materials/DiscardMaterial.js","../node_modules/@react-three/drei/core/AccumulativeShadows.js","../node_modules/@react-three/drei/core/Bounds.js","../node_modules/@react-three/drei/core/Stage.js","../node_modules/three-stdlib/libs/MeshoptDecoder.js","../node_modules/three-stdlib/loaders/DRACOLoader.js","../node_modules/three-stdlib/loaders/GLTFLoader.js","../node_modules/@react-three/drei/core/useGLTF.js","../node_modules/@react-spring/rafz/dist/react-spring-rafz.esm.js","../node_modules/@react-spring/shared/dist/react-spring-shared.esm.js","../node_modules/@react-spring/animated/dist/react-spring-animated.esm.js","../node_modules/@react-spring/core/dist/react-spring-core.esm.js","../node_modules/@react-spring/three/dist/react-spring-three.esm.js","../node_modules/@use-gesture/core/dist/maths-0ab39ae9.esm.js","../node_modules/@use-gesture/core/dist/actions-b1cc53c2.esm.js","../node_modules/@use-gesture/core/dist/use-gesture-core.esm.js","../node_modules/@use-gesture/react/dist/use-gesture-react.esm.js","../node_modules/@react-three/drei/web/PresentationControls.js"],"sourcesContent":["import { DataTextureLoader, HalfFloatType, FloatType, DataUtils, LinearEncoding, LinearFilter } from 'three';\n\n// http://en.wikipedia.org/wiki/RGBE_image_format\n\nclass RGBELoader extends DataTextureLoader {\n  constructor(manager) {\n    super(manager);\n    this.type = HalfFloatType;\n  } // adapted from http://www.graphics.cornell.edu/~bjw/rgbe.html\n\n\n  parse(buffer) {\n    const\n    /* return codes for rgbe routines */\n    //RGBE_RETURN_SUCCESS = 0,\n    RGBE_RETURN_FAILURE = -1,\n\n    /* default error routine.  change this to change error handling */\n    rgbe_read_error = 1,\n          rgbe_write_error = 2,\n          rgbe_format_error = 3,\n          rgbe_memory_error = 4,\n          rgbe_error = function (rgbe_error_code, msg) {\n      switch (rgbe_error_code) {\n        case rgbe_read_error:\n          console.error('THREE.RGBELoader Read Error: ' + (msg || ''));\n          break;\n\n        case rgbe_write_error:\n          console.error('THREE.RGBELoader Write Error: ' + (msg || ''));\n          break;\n\n        case rgbe_format_error:\n          console.error('THREE.RGBELoader Bad File Format: ' + (msg || ''));\n          break;\n\n        default:\n        case rgbe_memory_error:\n          console.error('THREE.RGBELoader: Error: ' + (msg || ''));\n      }\n\n      return RGBE_RETURN_FAILURE;\n    },\n\n    /* offsets to red, green, and blue components in a data (float) pixel */\n    //RGBE_DATA_RED = 0,\n    //RGBE_DATA_GREEN = 1,\n    //RGBE_DATA_BLUE = 2,\n\n    /* number of floats per pixel, use 4 since stored in rgba image format */\n    //RGBE_DATA_SIZE = 4,\n\n    /* flags indicating which fields in an rgbe_header_info are valid */\n    RGBE_VALID_PROGRAMTYPE = 1,\n          RGBE_VALID_FORMAT = 2,\n          RGBE_VALID_DIMENSIONS = 4,\n          NEWLINE = '\\n',\n          fgets = function (buffer, lineLimit, consume) {\n      const chunkSize = 128;\n      lineLimit = !lineLimit ? 1024 : lineLimit;\n      let p = buffer.pos,\n          i = -1,\n          len = 0,\n          s = '',\n          chunk = String.fromCharCode.apply(null, new Uint16Array(buffer.subarray(p, p + chunkSize)));\n\n      while (0 > (i = chunk.indexOf(NEWLINE)) && len < lineLimit && p < buffer.byteLength) {\n        s += chunk;\n        len += chunk.length;\n        p += chunkSize;\n        chunk += String.fromCharCode.apply(null, new Uint16Array(buffer.subarray(p, p + chunkSize)));\n      }\n\n      if (-1 < i) {\n        /*for (i=l-1; i>=0; i--) {\n        byteCode = m.charCodeAt(i);\n        if (byteCode > 0x7f && byteCode <= 0x7ff) byteLen++;\n        else if (byteCode > 0x7ff && byteCode <= 0xffff) byteLen += 2;\n        if (byteCode >= 0xDC00 && byteCode <= 0xDFFF) i--; //trail surrogate\n        }*/\n        if (false !== consume) buffer.pos += len + i + 1;\n        return s + chunk.slice(0, i);\n      }\n\n      return false;\n    },\n\n    /* minimal header reading.  modify if you want to parse more information */\n    RGBE_ReadHeader = function (buffer) {\n      // regexes to parse header info fields\n      const magic_token_re = /^#\\?(\\S+)/,\n            gamma_re = /^\\s*GAMMA\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\n            exposure_re = /^\\s*EXPOSURE\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\n            format_re = /^\\s*FORMAT=(\\S+)\\s*$/,\n            dimensions_re = /^\\s*\\-Y\\s+(\\d+)\\s+\\+X\\s+(\\d+)\\s*$/,\n            // RGBE format header struct\n      header = {\n        valid: 0\n        /* indicate which fields are valid */\n        ,\n        string: ''\n        /* the actual header string */\n        ,\n        comments: ''\n        /* comments found in header */\n        ,\n        programtype: 'RGBE'\n        /* listed at beginning of file to identify it after \"#?\". defaults to \"RGBE\" */\n        ,\n        format: ''\n        /* RGBE format, default 32-bit_rle_rgbe */\n        ,\n        gamma: 1.0\n        /* image has already been gamma corrected with given gamma. defaults to 1.0 (no correction) */\n        ,\n        exposure: 1.0\n        /* a value of 1.0 in an image corresponds to <exposure> watts/steradian/m^2. defaults to 1.0 */\n        ,\n        width: 0,\n        height: 0\n        /* image dimensions, width/height */\n\n      };\n      let line, match;\n\n      if (buffer.pos >= buffer.byteLength || !(line = fgets(buffer))) {\n        return rgbe_error(rgbe_read_error, 'no header found');\n      }\n      /* if you want to require the magic token then uncomment the next line */\n\n\n      if (!(match = line.match(magic_token_re))) {\n        return rgbe_error(rgbe_format_error, 'bad initial token');\n      }\n\n      header.valid |= RGBE_VALID_PROGRAMTYPE;\n      header.programtype = match[1];\n      header.string += line + '\\n';\n\n      while (true) {\n        line = fgets(buffer);\n        if (false === line) break;\n        header.string += line + '\\n';\n\n        if ('#' === line.charAt(0)) {\n          header.comments += line + '\\n';\n          continue; // comment line\n        }\n\n        if (match = line.match(gamma_re)) {\n          header.gamma = parseFloat(match[1]);\n        }\n\n        if (match = line.match(exposure_re)) {\n          header.exposure = parseFloat(match[1]);\n        }\n\n        if (match = line.match(format_re)) {\n          header.valid |= RGBE_VALID_FORMAT;\n          header.format = match[1]; //'32-bit_rle_rgbe';\n        }\n\n        if (match = line.match(dimensions_re)) {\n          header.valid |= RGBE_VALID_DIMENSIONS;\n          header.height = parseInt(match[1], 10);\n          header.width = parseInt(match[2], 10);\n        }\n\n        if (header.valid & RGBE_VALID_FORMAT && header.valid & RGBE_VALID_DIMENSIONS) break;\n      }\n\n      if (!(header.valid & RGBE_VALID_FORMAT)) {\n        return rgbe_error(rgbe_format_error, 'missing format specifier');\n      }\n\n      if (!(header.valid & RGBE_VALID_DIMENSIONS)) {\n        return rgbe_error(rgbe_format_error, 'missing image size specifier');\n      }\n\n      return header;\n    },\n          RGBE_ReadPixels_RLE = function (buffer, w, h) {\n      const scanline_width = w;\n\n      if ( // run length encoding is not allowed so read flat\n      scanline_width < 8 || scanline_width > 0x7fff || // this file is not run length encoded\n      2 !== buffer[0] || 2 !== buffer[1] || buffer[2] & 0x80) {\n        // return the flat buffer\n        return new Uint8Array(buffer);\n      }\n\n      if (scanline_width !== (buffer[2] << 8 | buffer[3])) {\n        return rgbe_error(rgbe_format_error, 'wrong scanline width');\n      }\n\n      const data_rgba = new Uint8Array(4 * w * h);\n\n      if (!data_rgba.length) {\n        return rgbe_error(rgbe_memory_error, 'unable to allocate buffer space');\n      }\n\n      let offset = 0,\n          pos = 0;\n      const ptr_end = 4 * scanline_width;\n      const rgbeStart = new Uint8Array(4);\n      const scanline_buffer = new Uint8Array(ptr_end);\n      let num_scanlines = h; // read in each successive scanline\n\n      while (num_scanlines > 0 && pos < buffer.byteLength) {\n        if (pos + 4 > buffer.byteLength) {\n          return rgbe_error(rgbe_read_error);\n        }\n\n        rgbeStart[0] = buffer[pos++];\n        rgbeStart[1] = buffer[pos++];\n        rgbeStart[2] = buffer[pos++];\n        rgbeStart[3] = buffer[pos++];\n\n        if (2 != rgbeStart[0] || 2 != rgbeStart[1] || (rgbeStart[2] << 8 | rgbeStart[3]) != scanline_width) {\n          return rgbe_error(rgbe_format_error, 'bad rgbe scanline format');\n        } // read each of the four channels for the scanline into the buffer\n        // first red, then green, then blue, then exponent\n\n\n        let ptr = 0,\n            count;\n\n        while (ptr < ptr_end && pos < buffer.byteLength) {\n          count = buffer[pos++];\n          const isEncodedRun = count > 128;\n          if (isEncodedRun) count -= 128;\n\n          if (0 === count || ptr + count > ptr_end) {\n            return rgbe_error(rgbe_format_error, 'bad scanline data');\n          }\n\n          if (isEncodedRun) {\n            // a (encoded) run of the same value\n            const byteValue = buffer[pos++];\n\n            for (let i = 0; i < count; i++) {\n              scanline_buffer[ptr++] = byteValue;\n            } //ptr += count;\n\n          } else {\n            // a literal-run\n            scanline_buffer.set(buffer.subarray(pos, pos + count), ptr);\n            ptr += count;\n            pos += count;\n          }\n        } // now convert data from buffer into rgba\n        // first red, then green, then blue, then exponent (alpha)\n\n\n        const l = scanline_width; //scanline_buffer.byteLength;\n\n        for (let i = 0; i < l; i++) {\n          let off = 0;\n          data_rgba[offset] = scanline_buffer[i + off];\n          off += scanline_width; //1;\n\n          data_rgba[offset + 1] = scanline_buffer[i + off];\n          off += scanline_width; //1;\n\n          data_rgba[offset + 2] = scanline_buffer[i + off];\n          off += scanline_width; //1;\n\n          data_rgba[offset + 3] = scanline_buffer[i + off];\n          offset += 4;\n        }\n\n        num_scanlines--;\n      }\n\n      return data_rgba;\n    };\n\n    const RGBEByteToRGBFloat = function (sourceArray, sourceOffset, destArray, destOffset) {\n      const e = sourceArray[sourceOffset + 3];\n      const scale = Math.pow(2.0, e - 128.0) / 255.0;\n      destArray[destOffset + 0] = sourceArray[sourceOffset + 0] * scale;\n      destArray[destOffset + 1] = sourceArray[sourceOffset + 1] * scale;\n      destArray[destOffset + 2] = sourceArray[sourceOffset + 2] * scale;\n      destArray[destOffset + 3] = 1;\n    };\n\n    const RGBEByteToRGBHalf = function (sourceArray, sourceOffset, destArray, destOffset) {\n      const e = sourceArray[sourceOffset + 3];\n      const scale = Math.pow(2.0, e - 128.0) / 255.0; // clamping to 65504, the maximum representable value in float16\n\n      destArray[destOffset + 0] = DataUtils.toHalfFloat(Math.min(sourceArray[sourceOffset + 0] * scale, 65504));\n      destArray[destOffset + 1] = DataUtils.toHalfFloat(Math.min(sourceArray[sourceOffset + 1] * scale, 65504));\n      destArray[destOffset + 2] = DataUtils.toHalfFloat(Math.min(sourceArray[sourceOffset + 2] * scale, 65504));\n      destArray[destOffset + 3] = DataUtils.toHalfFloat(1);\n    };\n\n    const byteArray = new Uint8Array(buffer);\n    byteArray.pos = 0;\n    const rgbe_header_info = RGBE_ReadHeader(byteArray);\n\n    if (RGBE_RETURN_FAILURE !== rgbe_header_info) {\n      const w = rgbe_header_info.width,\n            h = rgbe_header_info.height,\n            image_rgba_data = RGBE_ReadPixels_RLE(byteArray.subarray(byteArray.pos), w, h);\n\n      if (RGBE_RETURN_FAILURE !== image_rgba_data) {\n        let data, type;\n        let numElements;\n\n        switch (this.type) {\n          case FloatType:\n            numElements = image_rgba_data.length / 4;\n            const floatArray = new Float32Array(numElements * 4);\n\n            for (let j = 0; j < numElements; j++) {\n              RGBEByteToRGBFloat(image_rgba_data, j * 4, floatArray, j * 4);\n            }\n\n            data = floatArray;\n            type = FloatType;\n            break;\n\n          case HalfFloatType:\n            numElements = image_rgba_data.length / 4;\n            const halfArray = new Uint16Array(numElements * 4);\n\n            for (let j = 0; j < numElements; j++) {\n              RGBEByteToRGBHalf(image_rgba_data, j * 4, halfArray, j * 4);\n            }\n\n            data = halfArray;\n            type = HalfFloatType;\n            break;\n\n          default:\n            console.error('THREE.RGBELoader: unsupported type: ', this.type);\n            break;\n        }\n\n        return {\n          width: w,\n          height: h,\n          data: data,\n          header: rgbe_header_info.string,\n          gamma: rgbe_header_info.gamma,\n          exposure: rgbe_header_info.exposure,\n          type: type\n        };\n      }\n    }\n\n    return null;\n  }\n\n  setDataType(value) {\n    this.type = value;\n    return this;\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    function onLoadCallback(texture, texData) {\n      switch (texture.type) {\n        case FloatType:\n        case HalfFloatType:\n          texture.encoding = LinearEncoding;\n          texture.minFilter = LinearFilter;\n          texture.magFilter = LinearFilter;\n          texture.generateMipmaps = false;\n          texture.flipY = true;\n          break;\n      }\n\n      if (onLoad) onLoad(texture, texData);\n    }\n\n    return super.load(url, onLoadCallback, onProgress, onError);\n  }\n\n}\n\nexport { RGBELoader };\n","import { Mesh, IcosahedronGeometry, ShaderMaterial, DoubleSide } from 'three';\n\nconst isCubeTexture = def => def && def.isCubeTexture;\n\nclass GroundProjectedEnv extends Mesh {\n  constructor(texture, options) {\n    var _ref, _texture$image$;\n\n    const isCubeMap = isCubeTexture(texture);\n    const w = (_ref = isCubeMap ? (_texture$image$ = texture.image[0]) === null || _texture$image$ === void 0 ? void 0 : _texture$image$.width : texture.image.width) != null ? _ref : 1024;\n    const cubeSize = w / 4;\n\n    const _lodMax = Math.floor(Math.log2(cubeSize));\n\n    const _cubeSize = Math.pow(2, _lodMax);\n\n    const width = 3 * Math.max(_cubeSize, 16 * 7);\n    const height = 4 * _cubeSize;\n    const defines = [isCubeMap ? '#define ENVMAP_TYPE_CUBE' : '', `#define CUBEUV_TEXEL_WIDTH ${1.0 / width}`, `#define CUBEUV_TEXEL_HEIGHT ${1.0 / height}`, `#define CUBEUV_MAX_MIP ${_lodMax}.0`];\n    const vertexShader =\n    /* glsl */\n    `\n        varying vec3 vWorldPosition;\n        void main() \n        {\n            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );\n            vWorldPosition = worldPosition.xyz;\n            \n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n        `;\n    const fragmentShader = defines.join('\\n') +\n    /* glsl */\n    `\n        #define ENVMAP_TYPE_CUBE_UV\n        varying vec3 vWorldPosition;\n        uniform float radius;\n        uniform float height;\n        uniform float angle;\n        #ifdef ENVMAP_TYPE_CUBE\n            uniform samplerCube map;\n        #else\n            uniform sampler2D map;\n        #endif\n        // From: https://www.shadertoy.com/view/4tsBD7\n        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) \n        {\n            float d = dot ( rd, n );\n            \n            if( d > 0.0 ) { return 1e6; }\n            \n            vec3  o = ro - c;\n            float t = - dot( n, o ) / d;\n            vec3  q = o + rd * t;\n            \n            return ( dot( q, q ) < r * r ) ? t : 1e6;\n        }\n        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm\n        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) \n        {\n            vec3 oc = ro - ce;\n            float b = dot( oc, rd );\n            float c = dot( oc, oc ) - ra * ra;\n            float h = b * b - c;\n            \n            if( h < 0.0 ) { return -1.0; }\n            \n            h = sqrt( h );\n            \n            return - b + h;\n        }\n        vec3 project() \n        {\n            vec3 p = normalize( vWorldPosition );\n            vec3 camPos = cameraPosition;\n            camPos.y -= height;\n            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );\n            if( intersection > 0.0 ) {\n                \n                vec3 h = vec3( 0.0, - height, 0.0 );\n                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );\n                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;\n            } else {\n                p = vec3( 0.0, 1.0, 0.0 );\n            }\n            return p;\n        }\n        #include <common>\n        #include <cube_uv_reflection_fragment>\n        void main() \n        {\n            vec3 projectedWorldPosition = project();\n            \n            #ifdef ENVMAP_TYPE_CUBE\n                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;\n            #else\n                vec3 direction = normalize( projectedWorldPosition );\n                vec2 uv = equirectUv( direction );\n                vec3 outcolor = texture2D( map, uv ).rgb;\n            #endif\n            gl_FragColor = vec4( outcolor, 1.0 );\n            #include <tonemapping_fragment>\n            #include <encodings_fragment>\n        }\n        `;\n    const uniforms = {\n      map: {\n        value: texture\n      },\n      height: {\n        value: (options === null || options === void 0 ? void 0 : options.height) || 15\n      },\n      radius: {\n        value: (options === null || options === void 0 ? void 0 : options.radius) || 100\n      }\n    };\n    const geometry = new IcosahedronGeometry(1, 16);\n    const material = new ShaderMaterial({\n      uniforms,\n      fragmentShader,\n      vertexShader,\n      side: DoubleSide\n    });\n    super(geometry, material);\n  }\n\n  set radius(radius) {\n    this.material.uniforms.radius.value = radius;\n  }\n\n  get radius() {\n    return this.material.uniforms.radius.value;\n  }\n\n  set height(height) {\n    this.material.uniforms.height.value = height;\n  }\n\n  get height() {\n    return this.material.uniforms.height.value;\n  }\n\n}\n\nexport { GroundProjectedEnv };\n","const presetsObj = {\n  sunset: 'venice/venice_sunset_1k.hdr',\n  dawn: 'kiara/kiara_1_dawn_1k.hdr',\n  night: 'dikhololo/dikhololo_night_1k.hdr',\n  warehouse: 'empty-wharehouse/empty_warehouse_01_1k.hdr',\n  forest: 'forrest-slope/forest_slope_1k.hdr',\n  apartment: 'lebombo/lebombo_1k.hdr',\n  studio: 'studio-small-3/studio_small_03_1k.hdr',\n  city: 'potsdamer-platz/potsdamer_platz_1k.hdr',\n  park: 'rooitou/rooitou_park_1k.hdr',\n  lobby: 'st-fagans/st_fagans_interior_1k.hdr'\n};\n\nexport { presetsObj };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree, useLoader, useFrame, createPortal, extend } from '@react-three/fiber';\nimport { CubeReflectionMapping, EquirectangularReflectionMapping, sRGBEncoding, LinearEncoding, Scene, WebGLCubeRenderTarget, HalfFloatType, CubeTextureLoader } from 'three';\nimport { RGBELoader, GroundProjectedEnv } from 'three-stdlib';\nimport { presetsObj } from '../helpers/environment-assets.js';\n\nconst CUBEMAP_ROOT = 'https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/';\n\nconst isRef = obj => obj.current && obj.current.isScene;\n\nconst resolveScene = scene => isRef(scene) ? scene.current : scene;\n\nfunction setEnvProps(background, scene, defaultScene, texture, blur = 0) {\n  const target = resolveScene(scene || defaultScene);\n  const oldbg = target.background;\n  const oldenv = target.environment; // @ts-ignore\n\n  const oldBlur = target.backgroundBlurriness || 0;\n  if (background !== 'only') target.environment = texture;\n  if (background) target.background = texture; // @ts-ignore\n\n  if (background && target.backgroundBlurriness !== undefined) target.backgroundBlurriness = blur;\n  return () => {\n    if (background !== 'only') target.environment = oldenv;\n    if (background) target.background = oldbg; // @ts-ignore\n\n    if (background && target.backgroundBlurriness !== undefined) target.backgroundBlurriness = oldBlur;\n  };\n}\n\nfunction EnvironmentMap({\n  scene,\n  background = false,\n  blur,\n  map\n}) {\n  const defaultScene = useThree(state => state.scene);\n  React.useLayoutEffect(() => {\n    if (map) return setEnvProps(background, scene, defaultScene, map, blur);\n  }, [defaultScene, scene, map, background, blur]);\n  return null;\n}\nfunction useEnvironment({\n  files = ['/px.png', '/nx.png', '/py.png', '/ny.png', '/pz.png', '/nz.png'],\n  path = '',\n  preset = undefined,\n  encoding = undefined,\n  extensions\n}) {\n  if (preset) {\n    if (!(preset in presetsObj)) throw new Error('Preset must be one of: ' + Object.keys(presetsObj).join(', '));\n    files = presetsObj[preset];\n    path = CUBEMAP_ROOT;\n  }\n\n  const isCubeMap = Array.isArray(files);\n  const loader = isCubeMap ? CubeTextureLoader : RGBELoader;\n  const loaderResult = useLoader( // @ts-expect-error\n  loader, isCubeMap ? [files] : files, loader => {\n    loader.setPath(path);\n    if (extensions) extensions(loader);\n  });\n  const texture = isCubeMap ? // @ts-ignore\n  loaderResult[0] : loaderResult;\n  texture.mapping = isCubeMap ? CubeReflectionMapping : EquirectangularReflectionMapping;\n  texture.encoding = (encoding !== null && encoding !== void 0 ? encoding : isCubeMap) ? sRGBEncoding : LinearEncoding;\n  return texture;\n}\nfunction EnvironmentCube({\n  background = false,\n  scene,\n  blur,\n  ...rest\n}) {\n  const texture = useEnvironment(rest);\n  const defaultScene = useThree(state => state.scene);\n  React.useLayoutEffect(() => {\n    return setEnvProps(background, scene, defaultScene, texture, blur);\n  }, [texture, background, scene, defaultScene, blur]);\n  return null;\n}\nfunction EnvironmentPortal({\n  children,\n  near = 1,\n  far = 1000,\n  resolution = 256,\n  frames = 1,\n  map,\n  background = false,\n  blur,\n  scene,\n  files,\n  path,\n  preset = undefined,\n  extensions\n}) {\n  const gl = useThree(state => state.gl);\n  const defaultScene = useThree(state => state.scene);\n  const camera = React.useRef(null);\n  const [virtualScene] = React.useState(() => new Scene());\n  const fbo = React.useMemo(() => {\n    const fbo = new WebGLCubeRenderTarget(resolution);\n    fbo.texture.type = HalfFloatType;\n    return fbo;\n  }, [resolution]);\n  React.useLayoutEffect(() => {\n    if (frames === 1) camera.current.update(gl, virtualScene);\n    return setEnvProps(background, scene, defaultScene, fbo.texture, blur);\n  }, [children, virtualScene, fbo.texture, scene, defaultScene, background, frames, gl]);\n  let count = 1;\n  useFrame(() => {\n    if (frames === Infinity || count < frames) {\n      camera.current.update(gl, virtualScene);\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, createPortal( /*#__PURE__*/React.createElement(React.Fragment, null, children, /*#__PURE__*/React.createElement(\"cubeCamera\", {\n    ref: camera,\n    args: [near, far, fbo]\n  }), files || preset ? /*#__PURE__*/React.createElement(EnvironmentCube, {\n    background: true,\n    files: files,\n    preset: preset,\n    path: path,\n    extensions: extensions\n  }) : map ? /*#__PURE__*/React.createElement(EnvironmentMap, {\n    background: true,\n    map: map,\n    extensions: extensions\n  }) : null), virtualScene));\n}\n\nfunction EnvironmentGround(props) {\n  var _props$ground, _props$ground2, _scale, _props$ground3;\n\n  const textureDefault = useEnvironment(props);\n  const texture = props.map || textureDefault;\n  React.useMemo(() => extend({\n    GroundProjectedEnvImpl: GroundProjectedEnv\n  }), []);\n  const args = React.useMemo(() => [texture], [texture]);\n  const height = (_props$ground = props.ground) == null ? void 0 : _props$ground.height;\n  const radius = (_props$ground2 = props.ground) == null ? void 0 : _props$ground2.radius;\n  const scale = (_scale = (_props$ground3 = props.ground) == null ? void 0 : _props$ground3.scale) !== null && _scale !== void 0 ? _scale : 1000;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EnvironmentMap, _extends({}, props, {\n    map: texture\n  })), /*#__PURE__*/React.createElement(\"groundProjectedEnvImpl\", {\n    args: args,\n    scale: scale,\n    height: height,\n    radius: radius\n  }));\n}\n\nfunction Environment(props) {\n  return props.ground ? /*#__PURE__*/React.createElement(EnvironmentGround, props) : props.map ? /*#__PURE__*/React.createElement(EnvironmentMap, props) : props.children ? /*#__PURE__*/React.createElement(EnvironmentPortal, props) : /*#__PURE__*/React.createElement(EnvironmentCube, props);\n}\n\nexport { Environment, EnvironmentCube, EnvironmentMap, EnvironmentPortal, useEnvironment };\n","/**\n * Two pass Gaussian blur filter (horizontal and vertical blur shaders)\n * - described in http://www.gamerendering.com/2008/10/11/gaussian-blur-filter-shader/\n *   and used in http://www.cake23.de/traveling-wavefronts-lit-up.html\n *\n * - 9 samples per pass\n * - standard deviation 2.7\n * - \"h\" and \"v\" parameters should be set to \"1 / width\" and \"1 / height\"\n */\nconst HorizontalBlurShader = {\n  uniforms: {\n    tDiffuse: {\n      value: null\n    },\n    h: {\n      value: 1.0 / 512.0\n    }\n  },\n  vertexShader:\n  /* glsl */\n  `\n      varying vec2 vUv;\n\n      void main() {\n\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n      }\n  `,\n  fragmentShader:\n  /* glsl */\n  `\n    uniform sampler2D tDiffuse;\n    uniform float h;\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvec4 sum = vec4( 0.0 );\n\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n    \tgl_FragColor = sum;\n\n    }\n  `\n};\n\nexport { HorizontalBlurShader };\n","/**\n * Two pass Gaussian blur filter (horizontal and vertical blur shaders)\n * - described in http://www.gamerendering.com/2008/10/11/gaussian-blur-filter-shader/\n *   and used in http://www.cake23.de/traveling-wavefronts-lit-up.html\n *\n * - 9 samples per pass\n * - standard deviation 2.7\n * - \"h\" and \"v\" parameters should be set to \"1 / width\" and \"1 / height\"\n */\nconst VerticalBlurShader = {\n  uniforms: {\n    tDiffuse: {\n      value: null\n    },\n    v: {\n      value: 1.0 / 512.0\n    }\n  },\n  vertexShader:\n  /* glsl */\n  `\n    varying vec2 vUv;\n\n    void main() {\n\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n  `,\n  fragmentShader:\n  /* glsl */\n  `\n\n  uniform sampler2D tDiffuse;\n  uniform float v;\n\n  varying vec2 vUv;\n\n  void main() {\n\n    vec4 sum = vec4( 0.0 );\n\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n    gl_FragColor = sum;\n\n  }\n  `\n};\n\nexport { VerticalBlurShader };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { HorizontalBlurShader, VerticalBlurShader } from 'three-stdlib';\n\nconst ContactShadows = /*#__PURE__*/React.forwardRef(({\n  scale = 10,\n  frames = Infinity,\n  opacity = 1,\n  width = 1,\n  height = 1,\n  blur = 1,\n  far = 10,\n  resolution = 512,\n  smooth = true,\n  color = '#000000',\n  depthWrite = false,\n  renderOrder,\n  ...props\n}, fref) => {\n  const ref = React.useRef(null);\n  const scene = useThree(state => state.scene);\n  const gl = useThree(state => state.gl);\n  const shadowCamera = React.useRef(null);\n  width = width * (Array.isArray(scale) ? scale[0] : scale || 1);\n  height = height * (Array.isArray(scale) ? scale[1] : scale || 1);\n  const [renderTarget, planeGeometry, depthMaterial, blurPlane, horizontalBlurMaterial, verticalBlurMaterial, renderTargetBlur] = React.useMemo(() => {\n    const renderTarget = new THREE.WebGLRenderTarget(resolution, resolution);\n    const renderTargetBlur = new THREE.WebGLRenderTarget(resolution, resolution);\n    renderTargetBlur.texture.generateMipmaps = renderTarget.texture.generateMipmaps = false;\n    const planeGeometry = new THREE.PlaneGeometry(width, height).rotateX(Math.PI / 2);\n    const blurPlane = new THREE.Mesh(planeGeometry);\n    const depthMaterial = new THREE.MeshDepthMaterial();\n    depthMaterial.depthTest = depthMaterial.depthWrite = false;\n\n    depthMaterial.onBeforeCompile = shader => {\n      shader.uniforms = { ...shader.uniforms,\n        ucolor: {\n          value: new THREE.Color(color)\n        }\n      };\n      shader.fragmentShader = shader.fragmentShader.replace(`void main() {`, //\n      `uniform vec3 ucolor;\n           void main() {\n          `);\n      shader.fragmentShader = shader.fragmentShader.replace('vec4( vec3( 1.0 - fragCoordZ ), opacity );', // Colorize the shadow, multiply by the falloff so that the center can remain darker\n      'vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );');\n    };\n\n    const horizontalBlurMaterial = new THREE.ShaderMaterial(HorizontalBlurShader);\n    const verticalBlurMaterial = new THREE.ShaderMaterial(VerticalBlurShader);\n    verticalBlurMaterial.depthTest = horizontalBlurMaterial.depthTest = false;\n    return [renderTarget, planeGeometry, depthMaterial, blurPlane, horizontalBlurMaterial, verticalBlurMaterial, renderTargetBlur];\n  }, [resolution, width, height, scale, color]);\n\n  const blurShadows = blur => {\n    blurPlane.visible = true;\n    blurPlane.material = horizontalBlurMaterial;\n    horizontalBlurMaterial.uniforms.tDiffuse.value = renderTarget.texture;\n    horizontalBlurMaterial.uniforms.h.value = blur * 1 / 256;\n    gl.setRenderTarget(renderTargetBlur);\n    gl.render(blurPlane, shadowCamera.current);\n    blurPlane.material = verticalBlurMaterial;\n    verticalBlurMaterial.uniforms.tDiffuse.value = renderTargetBlur.texture;\n    verticalBlurMaterial.uniforms.v.value = blur * 1 / 256;\n    gl.setRenderTarget(renderTarget);\n    gl.render(blurPlane, shadowCamera.current);\n    blurPlane.visible = false;\n  };\n\n  let count = 0;\n  let initialBackground;\n  let initialOverrideMaterial;\n  useFrame(() => {\n    if (shadowCamera.current && (frames === Infinity || count < frames)) {\n      count++;\n      initialBackground = scene.background;\n      initialOverrideMaterial = scene.overrideMaterial;\n      ref.current.visible = false;\n      scene.background = null;\n      scene.overrideMaterial = depthMaterial;\n      gl.setRenderTarget(renderTarget);\n      gl.render(scene, shadowCamera.current);\n      blurShadows(blur);\n      if (smooth) blurShadows(blur * 0.4);\n      gl.setRenderTarget(null);\n      ref.current.visible = true;\n      scene.overrideMaterial = initialOverrideMaterial;\n      scene.background = initialBackground;\n    }\n  });\n  React.useImperativeHandle(fref, () => ref.current, []);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    \"rotation-x\": Math.PI / 2\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"mesh\", {\n    renderOrder: renderOrder,\n    geometry: planeGeometry,\n    scale: [1, -1, 1],\n    rotation: [-Math.PI / 2, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    transparent: true,\n    map: renderTarget.texture,\n    \"map-encoding\": gl.outputEncoding,\n    opacity: opacity,\n    depthWrite: depthWrite\n  })), /*#__PURE__*/React.createElement(\"orthographicCamera\", {\n    ref: shadowCamera,\n    args: [-width / 2, width / 2, height / 2, -height / 2, 0, far]\n  }));\n});\n\nexport { ContactShadows };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { Box3, Vector3, Sphere } from 'three';\nimport * as React from 'react';\n\nconst Center = /*#__PURE__*/React.forwardRef(function Center({\n  children,\n  disable,\n  disableX,\n  disableY,\n  disableZ,\n  left,\n  right,\n  top,\n  bottom,\n  front,\n  back,\n  onCentered,\n  precise = true,\n  ...props\n}, fRef) {\n  const ref = React.useRef(null);\n  const outer = React.useRef(null);\n  const inner = React.useRef(null);\n  React.useLayoutEffect(() => {\n    outer.current.matrixWorld.identity();\n    const box3 = new Box3().setFromObject(inner.current, precise);\n    const center = new Vector3();\n    const sphere = new Sphere();\n    const width = box3.max.x - box3.min.x;\n    const height = box3.max.y - box3.min.y;\n    const depth = box3.max.z - box3.min.z;\n    box3.getCenter(center);\n    box3.getBoundingSphere(sphere);\n    const vAlign = top ? height / 2 : bottom ? -height / 2 : 0;\n    const hAlign = left ? -width / 2 : right ? width / 2 : 0;\n    const dAlign = front ? depth / 2 : back ? -depth / 2 : 0;\n    outer.current.position.set(disable || disableX ? 0 : -center.x + hAlign, disable || disableY ? 0 : -center.y + vAlign, disable || disableZ ? 0 : -center.z + dAlign);\n\n    if (typeof onCentered !== 'undefined') {\n      onCentered({\n        parent: ref.current.parent,\n        container: ref.current,\n        width,\n        height,\n        depth,\n        boundingBox: box3,\n        boundingSphere: sphere,\n        center: center,\n        verticalAlignment: vAlign,\n        horizontalAlignment: hAlign,\n        depthAlignment: dAlign\n      });\n    }\n  }, [children]);\n  React.useImperativeHandle(fRef, () => ref.current, []);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref\n  }, props), /*#__PURE__*/React.createElement(\"group\", {\n    ref: outer\n  }, /*#__PURE__*/React.createElement(\"group\", {\n    ref: inner\n  }, children)));\n});\n\nexport { Center };\n","import * as THREE from 'three';\n\nfunction shaderMaterial(uniforms, vertexShader, fragmentShader, onInit) {\n  const material = class material extends THREE.ShaderMaterial {\n    constructor(parameters = {}) {\n      const entries = Object.entries(uniforms); // Create unforms and shaders\n\n      super({\n        uniforms: entries.reduce((acc, [name, value]) => {\n          const uniform = THREE.UniformsUtils.clone({\n            [name]: {\n              value\n            }\n          });\n          return { ...acc,\n            ...uniform\n          };\n        }, {}),\n        vertexShader,\n        fragmentShader\n      }); // Create getter/setters\n\n      this.key = '';\n      entries.forEach(([name]) => Object.defineProperty(this, name, {\n        get: () => this.uniforms[name].value,\n        set: v => this.uniforms[name].value = v\n      })); // Assign parameters, this might include uniforms\n\n      Object.assign(this, parameters); // Call onInit\n\n      if (onInit) onInit(this);\n    }\n\n  };\n  material.key = THREE.MathUtils.generateUUID();\n  return material;\n}\n\nexport { shaderMaterial };\n","import { shaderMaterial } from '../core/shaderMaterial.js';\n\nconst DiscardMaterial = shaderMaterial({}, 'void main() { }', 'void main() { gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0); discard;  }');\n\nexport { DiscardMaterial };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { shaderMaterial } from './shaderMaterial.js';\nimport { DiscardMaterial } from '../materials/DiscardMaterial.js';\n\nfunction isLight(object) {\n  return object.isLight;\n}\n\nfunction isGeometry(object) {\n  return !!object.geometry;\n}\n\nconst accumulativeContext = /*#__PURE__*/React.createContext(null);\nconst SoftShadowMaterial = shaderMaterial({\n  color: new THREE.Color(),\n  blend: 2.0,\n  alphaTest: 0.75,\n  opacity: 0,\n  map: null\n}, `varying vec2 vUv;\n   void main() {\n     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);\n     vUv = uv;\n   }`, `varying vec2 vUv;\n   uniform sampler2D map;\n   uniform vec3 color;\n   uniform float opacity;\n   uniform float alphaTest;\n   uniform float blend;\n   void main() {\n     vec4 sampledDiffuseColor = texture2D(map, vUv);\n     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);\n     #include <tonemapping_fragment>\n     #include <encodings_fragment>\n   }`);\nconst AccumulativeShadows = /*#__PURE__*/React.forwardRef(({\n  children,\n  temporal,\n  frames = 40,\n  limit = Infinity,\n  blend = 20,\n  scale = 10,\n  opacity = 1,\n  alphaTest = 0.75,\n  color = 'black',\n  colorBlend = 2,\n  resolution = 1024,\n  toneMapped = true,\n  ...props\n}, forwardRef) => {\n  extend({\n    SoftShadowMaterial\n  });\n  const gl = useThree(state => state.gl);\n  const scene = useThree(state => state.scene);\n  const camera = useThree(state => state.camera);\n  const invalidate = useThree(state => state.invalidate);\n  const gPlane = React.useRef(null);\n  const gLights = React.useRef(null);\n  const [plm] = React.useState(() => new ProgressiveLightMap(gl, scene, resolution));\n  React.useLayoutEffect(() => {\n    plm.configure(gPlane.current);\n  }, []);\n  const api = React.useMemo(() => ({\n    lights: new Map(),\n    temporal: !!temporal,\n    frames: Math.max(2, frames),\n    blend: Math.max(2, frames === Infinity ? blend : frames),\n    count: 0,\n    getMesh: () => gPlane.current,\n    reset: () => {\n      // Clear buffers, reset opacities, set frame count to 0\n      plm.clear();\n      const material = gPlane.current.material;\n      material.opacity = 0;\n      material.alphaTest = 0;\n      api.count = 0;\n    },\n    update: (frames = 1) => {\n      // Adapt the opacity-blend ratio to the number of frames\n      const material = gPlane.current.material;\n\n      if (!api.temporal) {\n        material.opacity = opacity;\n        material.alphaTest = alphaTest;\n      } else {\n        material.opacity = Math.min(opacity, material.opacity + opacity / api.blend);\n        material.alphaTest = Math.min(alphaTest, material.alphaTest + alphaTest / api.blend);\n      } // Switch accumulative lights on\n\n\n      gLights.current.visible = true; // Collect scene lights and meshes\n\n      plm.prepare(); // Update the lightmap and the accumulative lights\n\n      for (let i = 0; i < frames; i++) {\n        api.lights.forEach(light => light.update());\n        plm.update(camera, api.blend);\n      } // Switch lights off\n\n\n      gLights.current.visible = false; // Restore lights and meshes\n\n      plm.finish();\n    }\n  }), [plm, camera, scene, temporal, frames, blend, opacity, alphaTest]);\n  React.useLayoutEffect(() => {\n    // Reset internals, buffers, ...\n    api.reset(); // Update lightmap\n\n    if (!api.temporal && api.frames !== Infinity) api.update(api.blend);\n  }); // Expose api, allow children to set itself as the main light source\n\n  React.useImperativeHandle(forwardRef, () => api, [api]);\n  useFrame(() => {\n    if ((api.temporal || api.frames === Infinity) && api.count < api.frames && api.count < limit) {\n      invalidate();\n      api.update();\n      api.count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"group\", {\n    traverse: () => null,\n    ref: gLights\n  }, /*#__PURE__*/React.createElement(accumulativeContext.Provider, {\n    value: api\n  }, children)), /*#__PURE__*/React.createElement(\"mesh\", {\n    receiveShadow: true,\n    ref: gPlane,\n    scale: scale,\n    rotation: [-Math.PI / 2, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"planeGeometry\", null), /*#__PURE__*/React.createElement(\"softShadowMaterial\", {\n    transparent: true,\n    depthWrite: false,\n    toneMapped: toneMapped,\n    color: color,\n    blend: colorBlend,\n    map: plm.progressiveLightMap2.texture\n  })));\n});\nconst RandomizedLight = /*#__PURE__*/React.forwardRef(({\n  castShadow = true,\n  bias = 0.001,\n  mapSize = 512,\n  size = 5,\n  near = 0.5,\n  far = 500,\n  frames = 1,\n  position = [0, 0, 0],\n  radius = 1,\n  amount = 8,\n  intensity = 1,\n  ambient = 0.5,\n  ...props\n}, forwardRef) => {\n  const gLights = React.useRef(null);\n  const length = new THREE.Vector3(...position).length();\n  const parent = React.useContext(accumulativeContext);\n  const update = React.useCallback(() => {\n    let light;\n\n    if (gLights.current) {\n      for (let l = 0; l < gLights.current.children.length; l++) {\n        light = gLights.current.children[l];\n\n        if (Math.random() > ambient) {\n          light.position.set(position[0] + THREE.MathUtils.randFloatSpread(radius), position[1] + THREE.MathUtils.randFloatSpread(radius), position[2] + THREE.MathUtils.randFloatSpread(radius));\n        } else {\n          let lambda = Math.acos(2 * Math.random() - 1) - Math.PI / 2.0;\n          let phi = 2 * Math.PI * Math.random();\n          light.position.set(Math.cos(lambda) * Math.cos(phi) * length, Math.abs(Math.cos(lambda) * Math.sin(phi) * length), Math.sin(lambda) * length);\n        }\n      }\n    }\n  }, [radius, ambient, length, ...position]);\n  const api = React.useMemo(() => ({\n    update\n  }), [update]);\n  React.useImperativeHandle(forwardRef, () => api, [api]);\n  React.useLayoutEffect(() => {\n    const group = gLights.current;\n    if (parent) parent.lights.set(group.uuid, api);\n    return () => void parent.lights.delete(group.uuid);\n  }, [parent, api]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: gLights\n  }, props), Array.from({\n    length: amount\n  }, (_, index) => /*#__PURE__*/React.createElement(\"directionalLight\", {\n    key: index,\n    castShadow: castShadow,\n    \"shadow-bias\": bias,\n    \"shadow-mapSize\": [mapSize, mapSize],\n    intensity: intensity / amount\n  }, /*#__PURE__*/React.createElement(\"orthographicCamera\", {\n    attach: \"shadow-camera\",\n    args: [-size, size, size, -size, near, far]\n  }))));\n}); // Based on \"Progressive Light Map Accumulator\", by [zalo](https://github.com/zalo/)\n\nclass ProgressiveLightMap {\n  constructor(renderer, scene, res = 1024) {\n    this.renderer = renderer;\n    this.res = res;\n    this.scene = scene;\n    this.buffer1Active = false;\n    this.lights = [];\n    this.meshes = [];\n    this.object = null;\n    this.clearColor = new THREE.Color();\n    this.clearAlpha = 0; // Create the Progressive LightMap Texture\n\n    const format = /(Android|iPad|iPhone|iPod)/g.test(navigator.userAgent) ? THREE.HalfFloatType : THREE.FloatType;\n    this.progressiveLightMap1 = new THREE.WebGLRenderTarget(this.res, this.res, {\n      type: format,\n      encoding: renderer.outputEncoding\n    });\n    this.progressiveLightMap2 = new THREE.WebGLRenderTarget(this.res, this.res, {\n      type: format,\n      encoding: renderer.outputEncoding\n    }); // Inject some spicy new logic into a standard phong material\n\n    this.discardMat = new DiscardMaterial();\n    this.targetMat = new THREE.MeshLambertMaterial({\n      fog: false\n    });\n    this.previousShadowMap = {\n      value: this.progressiveLightMap1.texture\n    };\n    this.averagingWindow = {\n      value: 100\n    };\n\n    this.targetMat.onBeforeCompile = shader => {\n      // Vertex Shader: Set Vertex Positions to the Unwrapped UV Positions\n      shader.vertexShader = 'varying vec2 vUv;\\n' + shader.vertexShader.slice(0, -1) + 'vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }'; // Fragment Shader: Set Pixels to average in the Previous frame's Shadows\n\n      const bodyStart = shader.fragmentShader.indexOf('void main() {');\n      shader.fragmentShader = 'varying vec2 vUv;\\n' + shader.fragmentShader.slice(0, bodyStart) + 'uniform sampler2D previousShadowMap;\\n\tuniform float averagingWindow;\\n' + shader.fragmentShader.slice(bodyStart - 1, -1) + `\\nvec3 texelOld = texture2D(previousShadowMap, vUv).rgb;\n        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/ averagingWindow);\n      }`; // Set the Previous Frame's Texture Buffer and Averaging Window\n\n      shader.uniforms.previousShadowMap = this.previousShadowMap;\n      shader.uniforms.averagingWindow = this.averagingWindow;\n    };\n  }\n\n  clear() {\n    this.renderer.getClearColor(this.clearColor);\n    this.clearAlpha = this.renderer.getClearAlpha();\n    this.renderer.setClearColor('black', 1);\n    this.renderer.setRenderTarget(this.progressiveLightMap1);\n    this.renderer.clear();\n    this.renderer.setRenderTarget(this.progressiveLightMap2);\n    this.renderer.clear();\n    this.renderer.setRenderTarget(null);\n    this.renderer.setClearColor(this.clearColor, this.clearAlpha);\n    this.lights = [];\n    this.meshes = [];\n    this.scene.traverse(object => {\n      if (isGeometry(object)) {\n        this.meshes.push({\n          object,\n          material: object.material\n        });\n      } else if (isLight(object)) {\n        this.lights.push({\n          object,\n          intensity: object.intensity\n        });\n      }\n    });\n  }\n\n  prepare() {\n    this.lights.forEach(light => light.object.intensity = 0);\n    this.meshes.forEach(mesh => mesh.object.material = this.discardMat);\n  }\n\n  finish() {\n    this.lights.forEach(light => light.object.intensity = light.intensity);\n    this.meshes.forEach(mesh => mesh.object.material = mesh.material);\n  }\n\n  configure(object) {\n    this.object = object;\n  }\n\n  update(camera, blendWindow = 100) {\n    if (!this.object) return; // Set each object's material to the UV Unwrapped Surface Mapping Version\n\n    this.averagingWindow.value = blendWindow;\n    this.object.material = this.targetMat; // Ping-pong two surface buffers for reading/writing\n\n    const activeMap = this.buffer1Active ? this.progressiveLightMap1 : this.progressiveLightMap2;\n    const inactiveMap = this.buffer1Active ? this.progressiveLightMap2 : this.progressiveLightMap1; // Render the object's surface maps\n\n    const oldBg = this.scene.background;\n    this.scene.background = null;\n    this.renderer.setRenderTarget(activeMap);\n    this.previousShadowMap.value = inactiveMap.texture;\n    this.buffer1Active = !this.buffer1Active;\n    this.renderer.render(this.scene, camera);\n    this.renderer.setRenderTarget(null);\n    this.scene.background = oldBg;\n  }\n\n}\n\nexport { AccumulativeShadows, RandomizedLight, accumulativeContext };\n","import * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nconst isOrthographic = def => def && def.isOrthographicCamera;\n\nconst isBox3 = def => def && def.isBox3;\n\nconst context = /*#__PURE__*/React.createContext(null);\nfunction Bounds({\n  children,\n  damping = 6,\n  fit,\n  clip,\n  observe,\n  margin = 1.2,\n  eps = 0.01,\n  onFit\n}) {\n  const ref = React.useRef(null);\n  const {\n    camera,\n    invalidate,\n    size,\n    controls: controlsImpl\n  } = useThree();\n  const controls = controlsImpl;\n  const onFitRef = React.useRef(onFit);\n  onFitRef.current = onFit;\n\n  function equals(a, b) {\n    return Math.abs(a.x - b.x) < eps && Math.abs(a.y - b.y) < eps && Math.abs(a.z - b.z) < eps;\n  }\n\n  function damp(v, t, lambda, delta) {\n    v.x = THREE.MathUtils.damp(v.x, t.x, lambda, delta);\n    v.y = THREE.MathUtils.damp(v.y, t.y, lambda, delta);\n    v.z = THREE.MathUtils.damp(v.z, t.z, lambda, delta);\n  }\n\n  const [current] = React.useState(() => ({\n    animating: false,\n    focus: new THREE.Vector3(),\n    camera: new THREE.Vector3(),\n    zoom: 1\n  }));\n  const [goal] = React.useState(() => ({\n    focus: new THREE.Vector3(),\n    camera: new THREE.Vector3(),\n    zoom: 1\n  }));\n  const [box] = React.useState(() => new THREE.Box3());\n  const api = React.useMemo(() => {\n    function getSize() {\n      const size = box.getSize(new THREE.Vector3());\n      const center = box.getCenter(new THREE.Vector3());\n      const maxSize = Math.max(size.x, size.y, size.z);\n      const fitHeightDistance = isOrthographic(camera) ? maxSize * 4 : maxSize / (2 * Math.atan(Math.PI * camera.fov / 360));\n      const fitWidthDistance = isOrthographic(camera) ? maxSize * 4 : fitHeightDistance / camera.aspect;\n      const distance = margin * Math.max(fitHeightDistance, fitWidthDistance);\n      return {\n        box,\n        size,\n        center,\n        distance\n      };\n    }\n\n    return {\n      getSize,\n\n      refresh(object) {\n        if (isBox3(object)) box.copy(object);else {\n          const target = object || ref.current;\n          target.updateWorldMatrix(true, true);\n          box.setFromObject(target);\n        }\n\n        if (box.isEmpty()) {\n          const max = camera.position.length() || 10;\n          box.setFromCenterAndSize(new THREE.Vector3(), new THREE.Vector3(max, max, max));\n        }\n\n        if ((controls == null ? void 0 : controls.constructor.name) === 'OrthographicTrackballControls') {\n          // Put camera on a sphere along which it should move\n          const {\n            distance\n          } = getSize();\n          const direction = camera.position.clone().sub(controls.target).normalize().multiplyScalar(distance);\n          const newPos = controls.target.clone().add(direction);\n          camera.position.copy(newPos);\n        }\n\n        return this;\n      },\n\n      clip() {\n        const {\n          distance\n        } = getSize();\n        if (controls) controls.maxDistance = distance * 10;\n        camera.near = distance / 100;\n        camera.far = distance * 100;\n        camera.updateProjectionMatrix();\n        if (controls) controls.update();\n        invalidate();\n        return this;\n      },\n\n      to({\n        position,\n        target\n      }) {\n        current.camera.copy(camera.position);\n        const {\n          center\n        } = getSize();\n        goal.camera.set(...position);\n\n        if (target) {\n          goal.focus.set(...target);\n        } else {\n          goal.focus.copy(center);\n        }\n\n        if (damping) {\n          current.animating = true;\n        } else {\n          camera.position.set(...position);\n        }\n\n        return this;\n      },\n\n      fit() {\n        current.camera.copy(camera.position);\n        if (controls) current.focus.copy(controls.target);\n        const {\n          center,\n          distance\n        } = getSize();\n        const direction = center.clone().sub(camera.position).normalize().multiplyScalar(distance);\n        goal.camera.copy(center).sub(direction);\n        goal.focus.copy(center);\n\n        if (isOrthographic(camera)) {\n          current.zoom = camera.zoom;\n          let maxHeight = 0,\n              maxWidth = 0;\n          const vertices = [new THREE.Vector3(box.min.x, box.min.y, box.min.z), new THREE.Vector3(box.min.x, box.max.y, box.min.z), new THREE.Vector3(box.min.x, box.min.y, box.max.z), new THREE.Vector3(box.min.x, box.max.y, box.max.z), new THREE.Vector3(box.max.x, box.max.y, box.max.z), new THREE.Vector3(box.max.x, box.max.y, box.min.z), new THREE.Vector3(box.max.x, box.min.y, box.max.z), new THREE.Vector3(box.max.x, box.min.y, box.min.z)]; // Transform the center and each corner to camera space\n\n          center.applyMatrix4(camera.matrixWorldInverse);\n\n          for (const v of vertices) {\n            v.applyMatrix4(camera.matrixWorldInverse);\n            maxHeight = Math.max(maxHeight, Math.abs(v.y - center.y));\n            maxWidth = Math.max(maxWidth, Math.abs(v.x - center.x));\n          }\n\n          maxHeight *= 2;\n          maxWidth *= 2;\n          const zoomForHeight = (camera.top - camera.bottom) / maxHeight;\n          const zoomForWidth = (camera.right - camera.left) / maxWidth;\n          goal.zoom = Math.min(zoomForHeight, zoomForWidth) / margin;\n\n          if (!damping) {\n            camera.zoom = goal.zoom;\n            camera.updateProjectionMatrix();\n          }\n        }\n\n        if (damping) {\n          current.animating = true;\n        } else {\n          camera.position.copy(goal.camera);\n          camera.lookAt(goal.focus);\n\n          if (controls) {\n            controls.target.copy(goal.focus);\n            controls.update();\n          }\n        }\n\n        if (onFitRef.current) onFitRef.current(this.getSize());\n        invalidate();\n        return this;\n      }\n\n    };\n  }, [box, camera, controls, margin, damping, invalidate]);\n  React.useLayoutEffect(() => {\n    if (controls) {\n      // Try to prevent drag hijacking\n      const callback = () => current.animating = false;\n\n      controls.addEventListener('start', callback);\n      return () => controls.removeEventListener('start', callback);\n    }\n  }, [controls]); // Scale pointer on window resize\n\n  const count = React.useRef(0);\n  React.useLayoutEffect(() => {\n    if (observe || count.current++ === 0) {\n      api.refresh();\n      if (fit) api.fit();\n      if (clip) api.clip();\n    }\n  }, [size, clip, fit, observe, camera, controls]);\n  useFrame((state, delta) => {\n    if (current.animating) {\n      damp(current.focus, goal.focus, damping, delta);\n      damp(current.camera, goal.camera, damping, delta);\n      current.zoom = THREE.MathUtils.damp(current.zoom, goal.zoom, damping, delta);\n      camera.position.copy(current.camera);\n\n      if (isOrthographic(camera)) {\n        camera.zoom = current.zoom;\n        camera.updateProjectionMatrix();\n      }\n\n      if (!controls) {\n        camera.lookAt(current.focus);\n      } else {\n        controls.target.copy(current.focus);\n        controls.update();\n      }\n\n      invalidate();\n      if (isOrthographic(camera) && !(Math.abs(current.zoom - goal.zoom) < eps)) return;\n      if (!isOrthographic(camera) && !equals(current.camera, goal.camera)) return;\n      if (controls && !equals(current.focus, goal.focus)) return;\n      current.animating = false;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: ref\n  }, /*#__PURE__*/React.createElement(context.Provider, {\n    value: api\n  }, children));\n}\nfunction useBounds() {\n  return React.useContext(context);\n}\n\nexport { Bounds, useBounds };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Environment } from './Environment.js';\nimport { ContactShadows } from './ContactShadows.js';\nimport { Center } from './Center.js';\nimport { AccumulativeShadows, RandomizedLight } from './AccumulativeShadows.js';\nimport { Bounds, useBounds } from './Bounds.js';\n\nconst presets = {\n  rembrandt: {\n    main: [1, 2, 1],\n    fill: [-2, -0.5, -2]\n  },\n  portrait: {\n    main: [-1, 2, 0.5],\n    fill: [-1, 0.5, -1.5]\n  },\n  upfront: {\n    main: [0, 2, 1],\n    fill: [-1, 0.5, -1.5]\n  },\n  soft: {\n    main: [-2, 4, 4],\n    fill: [-1, 0.5, -1.5]\n  }\n};\n\nfunction Refit({\n  radius,\n  adjustCamera\n}) {\n  const api = useBounds();\n  React.useEffect(() => {\n    if (adjustCamera) api.refresh().clip().fit();\n  }, [radius, adjustCamera]);\n  return null;\n}\n\nfunction Stage({\n  children,\n  center,\n  adjustCamera = true,\n  intensity = 0.5,\n  shadows = 'contact',\n  environment = 'city',\n  preset = 'rembrandt',\n  ...props\n}) {\n  var _bias, _normalBias, _size, _offset, _amount, _radius, _ambient, _intensity;\n\n  const config = typeof preset === 'string' ? presets[preset] : preset;\n  const [{\n    radius,\n    height\n  }, set] = React.useState({\n    radius: 0,\n    width: 0,\n    height: 0,\n    depth: 0\n  });\n  const shadowBias = (_bias = shadows == null ? void 0 : shadows.bias) !== null && _bias !== void 0 ? _bias : -0.0001;\n  const normalBias = (_normalBias = shadows == null ? void 0 : shadows.normalBias) !== null && _normalBias !== void 0 ? _normalBias : 0;\n  const shadowSize = (_size = shadows == null ? void 0 : shadows.size) !== null && _size !== void 0 ? _size : 1024;\n  const shadowOffset = (_offset = shadows == null ? void 0 : shadows.offset) !== null && _offset !== void 0 ? _offset : 0;\n  const contactShadow = shadows === 'contact' || (shadows == null ? void 0 : shadows.type) === 'contact';\n  const accumulativeShadow = shadows === 'accumulative' || (shadows == null ? void 0 : shadows.type) === 'accumulative';\n  const shadowSpread = { ...(typeof shadows === 'object' ? shadows : {})\n  };\n  const environmentProps = !environment ? null : typeof environment === 'string' ? {\n    preset: environment\n  } : environment;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"ambientLight\", {\n    intensity: intensity / 3\n  }), /*#__PURE__*/React.createElement(\"spotLight\", {\n    penumbra: 1,\n    position: [config.main[0] * radius, config.main[1] * radius, config.main[2] * radius],\n    intensity: intensity * 2,\n    castShadow: !!shadows,\n    \"shadow-bias\": shadowBias,\n    \"shadow-normalBias\": normalBias,\n    \"shadow-mapSize\": shadowSize\n  }), /*#__PURE__*/React.createElement(\"pointLight\", {\n    position: [config.fill[0] * radius, config.fill[1] * radius, config.fill[2] * radius],\n    intensity: intensity\n  }), /*#__PURE__*/React.createElement(Bounds, _extends({\n    fit: !!adjustCamera,\n    clip: !!adjustCamera,\n    margin: Number(adjustCamera),\n    observe: true\n  }, props), /*#__PURE__*/React.createElement(Refit, {\n    radius: radius,\n    adjustCamera: adjustCamera\n  }), /*#__PURE__*/React.createElement(Center, _extends({}, center, {\n    position: [0, shadowOffset / 2, 0],\n    onCentered: props => {\n      const {\n        width,\n        height,\n        depth,\n        boundingSphere\n      } = props;\n      set({\n        radius: boundingSphere.radius,\n        width,\n        height,\n        depth\n      });\n      if (center != null && center.onCentered) center.onCentered(props);\n    }\n  }), children)), /*#__PURE__*/React.createElement(\"group\", {\n    position: [0, -height / 2 - shadowOffset / 2, 0]\n  }, contactShadow && /*#__PURE__*/React.createElement(ContactShadows, _extends({\n    scale: radius * 4,\n    far: radius,\n    blur: 2\n  }, shadowSpread)), accumulativeShadow && /*#__PURE__*/React.createElement(AccumulativeShadows, _extends({\n    temporal: true,\n    frames: 100,\n    alphaTest: 0.9,\n    toneMapped: true,\n    scale: radius * 4\n  }, shadowSpread), /*#__PURE__*/React.createElement(RandomizedLight, {\n    amount: (_amount = shadowSpread.amount) !== null && _amount !== void 0 ? _amount : 8,\n    radius: (_radius = shadowSpread.radius) !== null && _radius !== void 0 ? _radius : radius,\n    ambient: (_ambient = shadowSpread.ambient) !== null && _ambient !== void 0 ? _ambient : 0.5,\n    intensity: (_intensity = shadowSpread.intensity) !== null && _intensity !== void 0 ? _intensity : 1,\n    position: [config.main[0] * radius, config.main[1] * radius, config.main[2] * radius],\n    size: radius * 4,\n    bias: -shadowBias,\n    mapSize: shadowSize\n  }))), environment && /*#__PURE__*/React.createElement(Environment, environmentProps));\n}\n\nexport { Stage };\n","// This file is part of meshoptimizer library and is distributed under the terms of MIT License.\n// Copyright (C) 2016-2020, by Arseny Kapoulkine (arseny.kapoulkine@gmail.com)\nlet generated;\n\nconst MeshoptDecoder = () => {\n  if (generated) return generated; // Built with clang version 11.0.0 (https://github.com/llvm/llvm-project.git 0160ad802e899c2922bc9b29564080c22eb0908c)\n  // Built from meshoptimizer 0.14\n\n  const wasm_base = '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';\n  const wasm_simd = 'B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB'; // Uses bulk-memory and simd extensions\n\n  const detector = new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 4, 1, 96, 0, 0, 3, 3, 2, 0, 0, 5, 3, 1, 0, 1, 12, 1, 0, 10, 22, 2, 12, 0, 65, 0, 65, 0, 65, 0, 252, 10, 0, 0, 11, 7, 0, 65, 0, 253, 15, 26, 11]); // Used to unpack wasm\n\n  const wasmpack = new Uint8Array([32, 0, 65, 253, 3, 1, 2, 34, 4, 106, 6, 5, 11, 8, 7, 20, 13, 33, 12, 16, 128, 9, 116, 64, 19, 113, 127, 15, 10, 21, 22, 14, 255, 66, 24, 54, 136, 107, 18, 23, 192, 26, 114, 118, 132, 17, 77, 101, 130, 144, 27, 87, 131, 44, 45, 74, 156, 154, 70, 167]);\n\n  if (typeof WebAssembly !== 'object') {\n    // This module requires WebAssembly to function\n    return {\n      supported: false\n    };\n  }\n\n  let wasm = wasm_base;\n\n  if (WebAssembly.validate(detector)) {\n    wasm = wasm_simd;\n  }\n\n  let instance;\n  const promise = WebAssembly.instantiate(unpack(wasm), {}).then(result => {\n    instance = result.instance;\n\n    instance.exports.__wasm_call_ctors();\n  });\n\n  function unpack(data) {\n    const result = new Uint8Array(data.length);\n\n    for (let i = 0; i < data.length; ++i) {\n      const ch = data.charCodeAt(i);\n      result[i] = ch > 96 ? ch - 71 : ch > 64 ? ch - 65 : ch > 47 ? ch + 4 : ch > 46 ? 63 : 62;\n    }\n\n    let write = 0;\n\n    for (let i = 0; i < data.length; ++i) {\n      result[write++] = result[i] < 60 ? wasmpack[result[i]] : (result[i] - 60) * 64 + result[++i];\n    }\n\n    return result.buffer.slice(0, write);\n  }\n\n  function decode(fun, target, count, size, source, filter) {\n    const sbrk = instance.exports.sbrk;\n    const count4 = count + 3 & ~3; // pad for SIMD filter\n\n    const tp = sbrk(count4 * size);\n    const sp = sbrk(source.length);\n    const heap = new Uint8Array(instance.exports.memory.buffer);\n    heap.set(source, sp);\n    const res = fun(tp, count, size, sp, source.length);\n\n    if (res === 0 && filter) {\n      filter(tp, count4, size);\n    }\n\n    target.set(heap.subarray(tp, tp + count * size));\n    sbrk(tp - sbrk(0));\n\n    if (res !== 0) {\n      throw new Error(`Malformed buffer data: ${res}`);\n    }\n  }\n\n  const filters = {\n    // legacy index-based enums for glTF\n    0: '',\n    1: 'meshopt_decodeFilterOct',\n    2: 'meshopt_decodeFilterQuat',\n    3: 'meshopt_decodeFilterExp',\n    // string-based enums for glTF\n    NONE: '',\n    OCTAHEDRAL: 'meshopt_decodeFilterOct',\n    QUATERNION: 'meshopt_decodeFilterQuat',\n    EXPONENTIAL: 'meshopt_decodeFilterExp'\n  };\n  const decoders = {\n    // legacy index-based enums for glTF\n    0: 'meshopt_decodeVertexBuffer',\n    1: 'meshopt_decodeIndexBuffer',\n    2: 'meshopt_decodeIndexSequence',\n    // string-based enums for glTF\n    ATTRIBUTES: 'meshopt_decodeVertexBuffer',\n    TRIANGLES: 'meshopt_decodeIndexBuffer',\n    INDICES: 'meshopt_decodeIndexSequence'\n  };\n  generated = {\n    ready: promise,\n    supported: true,\n\n    decodeVertexBuffer(target, count, size, source, filter) {\n      decode(instance.exports.meshopt_decodeVertexBuffer, target, count, size, source, instance.exports[filters[filter]]);\n    },\n\n    decodeIndexBuffer(target, count, size, source) {\n      decode(instance.exports.meshopt_decodeIndexBuffer, target, count, size, source);\n    },\n\n    decodeIndexSequence(target, count, size, source) {\n      decode(instance.exports.meshopt_decodeIndexSequence, target, count, size, source);\n    },\n\n    decodeGltfBuffer(target, count, size, source, mode, filter) {\n      decode(instance.exports[decoders[mode]], target, count, size, source, instance.exports[filters[filter]]);\n    }\n\n  };\n  return generated;\n};\n\nexport { MeshoptDecoder };\n","import { Loader, FileLoader, BufferGeometry, BufferAttribute } from 'three';\n\nconst _taskCache = new WeakMap();\n\nclass DRACOLoader extends Loader {\n  constructor(manager) {\n    super(manager);\n    this.decoderPath = '';\n    this.decoderConfig = {};\n    this.decoderBinary = null;\n    this.decoderPending = null;\n    this.workerLimit = 4;\n    this.workerPool = [];\n    this.workerNextTaskID = 1;\n    this.workerSourceURL = '';\n    this.defaultAttributeIDs = {\n      position: 'POSITION',\n      normal: 'NORMAL',\n      color: 'COLOR',\n      uv: 'TEX_COORD'\n    };\n    this.defaultAttributeTypes = {\n      position: 'Float32Array',\n      normal: 'Float32Array',\n      color: 'Float32Array',\n      uv: 'Float32Array'\n    };\n  }\n\n  setDecoderPath(path) {\n    this.decoderPath = path;\n    return this;\n  }\n\n  setDecoderConfig(config) {\n    this.decoderConfig = config;\n    return this;\n  }\n\n  setWorkerLimit(workerLimit) {\n    this.workerLimit = workerLimit;\n    return this;\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const loader = new FileLoader(this.manager);\n    loader.setPath(this.path);\n    loader.setResponseType('arraybuffer');\n    loader.setRequestHeader(this.requestHeader);\n    loader.setWithCredentials(this.withCredentials);\n    loader.load(url, buffer => {\n      const taskConfig = {\n        attributeIDs: this.defaultAttributeIDs,\n        attributeTypes: this.defaultAttributeTypes,\n        useUniqueIDs: false\n      };\n      this.decodeGeometry(buffer, taskConfig).then(onLoad).catch(onError);\n    }, onProgress, onError);\n  }\n  /** @deprecated Kept for backward-compatibility with previous DRACOLoader versions. */\n\n\n  decodeDracoFile(buffer, callback, attributeIDs, attributeTypes) {\n    const taskConfig = {\n      attributeIDs: attributeIDs || this.defaultAttributeIDs,\n      attributeTypes: attributeTypes || this.defaultAttributeTypes,\n      useUniqueIDs: !!attributeIDs\n    };\n    this.decodeGeometry(buffer, taskConfig).then(callback);\n  }\n\n  decodeGeometry(buffer, taskConfig) {\n    // TODO: For backward-compatibility, support 'attributeTypes' objects containing\n    // references (rather than names) to typed array constructors. These must be\n    // serialized before sending them to the worker.\n    for (const attribute in taskConfig.attributeTypes) {\n      const type = taskConfig.attributeTypes[attribute];\n\n      if (type.BYTES_PER_ELEMENT !== undefined) {\n        taskConfig.attributeTypes[attribute] = type.name;\n      }\n    } //\n\n\n    const taskKey = JSON.stringify(taskConfig); // Check for an existing task using this buffer. A transferred buffer cannot be transferred\n    // again from this thread.\n\n    if (_taskCache.has(buffer)) {\n      const cachedTask = _taskCache.get(buffer);\n\n      if (cachedTask.key === taskKey) {\n        return cachedTask.promise;\n      } else if (buffer.byteLength === 0) {\n        // Technically, it would be possible to wait for the previous task to complete,\n        // transfer the buffer back, and decode again with the second configuration. That\n        // is complex, and I don't know of any reason to decode a Draco buffer twice in\n        // different ways, so this is left unimplemented.\n        throw new Error('THREE.DRACOLoader: Unable to re-decode a buffer with different ' + 'settings. Buffer has already been transferred.');\n      }\n    } //\n\n\n    let worker;\n    const taskID = this.workerNextTaskID++;\n    const taskCost = buffer.byteLength; // Obtain a worker and assign a task, and construct a geometry instance\n    // when the task completes.\n\n    const geometryPending = this._getWorker(taskID, taskCost).then(_worker => {\n      worker = _worker;\n      return new Promise((resolve, reject) => {\n        worker._callbacks[taskID] = {\n          resolve,\n          reject\n        };\n        worker.postMessage({\n          type: 'decode',\n          id: taskID,\n          taskConfig,\n          buffer\n        }, [buffer]); // this.debug();\n      });\n    }).then(message => this._createGeometry(message.geometry)); // Remove task from the task list.\n    // Note: replaced '.finally()' with '.catch().then()' block - iOS 11 support (#19416)\n\n\n    geometryPending.catch(() => true).then(() => {\n      if (worker && taskID) {\n        this._releaseTask(worker, taskID); // this.debug();\n\n      }\n    }); // Cache the task result.\n\n    _taskCache.set(buffer, {\n      key: taskKey,\n      promise: geometryPending\n    });\n\n    return geometryPending;\n  }\n\n  _createGeometry(geometryData) {\n    const geometry = new BufferGeometry();\n\n    if (geometryData.index) {\n      geometry.setIndex(new BufferAttribute(geometryData.index.array, 1));\n    }\n\n    for (let i = 0; i < geometryData.attributes.length; i++) {\n      const attribute = geometryData.attributes[i];\n      const name = attribute.name;\n      const array = attribute.array;\n      const itemSize = attribute.itemSize;\n      geometry.setAttribute(name, new BufferAttribute(array, itemSize));\n    }\n\n    return geometry;\n  }\n\n  _loadLibrary(url, responseType) {\n    const loader = new FileLoader(this.manager);\n    loader.setPath(this.decoderPath);\n    loader.setResponseType(responseType);\n    loader.setWithCredentials(this.withCredentials);\n    return new Promise((resolve, reject) => {\n      loader.load(url, resolve, undefined, reject);\n    });\n  }\n\n  preload() {\n    this._initDecoder();\n\n    return this;\n  }\n\n  _initDecoder() {\n    if (this.decoderPending) return this.decoderPending;\n    const useJS = typeof WebAssembly !== 'object' || this.decoderConfig.type === 'js';\n    const librariesPending = [];\n\n    if (useJS) {\n      librariesPending.push(this._loadLibrary('draco_decoder.js', 'text'));\n    } else {\n      librariesPending.push(this._loadLibrary('draco_wasm_wrapper.js', 'text'));\n      librariesPending.push(this._loadLibrary('draco_decoder.wasm', 'arraybuffer'));\n    }\n\n    this.decoderPending = Promise.all(librariesPending).then(libraries => {\n      const jsContent = libraries[0];\n\n      if (!useJS) {\n        this.decoderConfig.wasmBinary = libraries[1];\n      }\n\n      const fn = DRACOWorker.toString();\n      const body = ['/* draco decoder */', jsContent, '', '/* worker */', fn.substring(fn.indexOf('{') + 1, fn.lastIndexOf('}'))].join('\\n');\n      this.workerSourceURL = URL.createObjectURL(new Blob([body]));\n    });\n    return this.decoderPending;\n  }\n\n  _getWorker(taskID, taskCost) {\n    return this._initDecoder().then(() => {\n      if (this.workerPool.length < this.workerLimit) {\n        const worker = new Worker(this.workerSourceURL);\n        worker._callbacks = {};\n        worker._taskCosts = {};\n        worker._taskLoad = 0;\n        worker.postMessage({\n          type: 'init',\n          decoderConfig: this.decoderConfig\n        });\n\n        worker.onmessage = function (e) {\n          const message = e.data;\n\n          switch (message.type) {\n            case 'decode':\n              worker._callbacks[message.id].resolve(message);\n\n              break;\n\n            case 'error':\n              worker._callbacks[message.id].reject(message);\n\n              break;\n\n            default:\n              console.error('THREE.DRACOLoader: Unexpected message, \"' + message.type + '\"');\n          }\n        };\n\n        this.workerPool.push(worker);\n      } else {\n        this.workerPool.sort(function (a, b) {\n          return a._taskLoad > b._taskLoad ? -1 : 1;\n        });\n      }\n\n      const worker = this.workerPool[this.workerPool.length - 1];\n      worker._taskCosts[taskID] = taskCost;\n      worker._taskLoad += taskCost;\n      return worker;\n    });\n  }\n\n  _releaseTask(worker, taskID) {\n    worker._taskLoad -= worker._taskCosts[taskID];\n    delete worker._callbacks[taskID];\n    delete worker._taskCosts[taskID];\n  }\n\n  debug() {\n    console.log('Task load: ', this.workerPool.map(worker => worker._taskLoad));\n  }\n\n  dispose() {\n    for (let i = 0; i < this.workerPool.length; ++i) {\n      this.workerPool[i].terminate();\n    }\n\n    this.workerPool.length = 0;\n    return this;\n  }\n\n}\n/* WEB WORKER */\n\n\nfunction DRACOWorker() {\n  let decoderConfig;\n  let decoderPending;\n\n  onmessage = function (e) {\n    const message = e.data;\n\n    switch (message.type) {\n      case 'init':\n        decoderConfig = message.decoderConfig;\n        decoderPending = new Promise(function (resolve\n        /*, reject*/\n        ) {\n          decoderConfig.onModuleLoaded = function (draco) {\n            // Module is Promise-like. Wrap before resolving to avoid loop.\n            resolve({\n              draco: draco\n            });\n          };\n\n          DracoDecoderModule(decoderConfig); // eslint-disable-line no-undef\n        });\n        break;\n\n      case 'decode':\n        const buffer = message.buffer;\n        const taskConfig = message.taskConfig;\n        decoderPending.then(module => {\n          const draco = module.draco;\n          const decoder = new draco.Decoder();\n          const decoderBuffer = new draco.DecoderBuffer();\n          decoderBuffer.Init(new Int8Array(buffer), buffer.byteLength);\n\n          try {\n            const geometry = decodeGeometry(draco, decoder, decoderBuffer, taskConfig);\n            const buffers = geometry.attributes.map(attr => attr.array.buffer);\n            if (geometry.index) buffers.push(geometry.index.array.buffer);\n            self.postMessage({\n              type: 'decode',\n              id: message.id,\n              geometry\n            }, buffers);\n          } catch (error) {\n            console.error(error);\n            self.postMessage({\n              type: 'error',\n              id: message.id,\n              error: error.message\n            });\n          } finally {\n            draco.destroy(decoderBuffer);\n            draco.destroy(decoder);\n          }\n        });\n        break;\n    }\n  };\n\n  function decodeGeometry(draco, decoder, decoderBuffer, taskConfig) {\n    const attributeIDs = taskConfig.attributeIDs;\n    const attributeTypes = taskConfig.attributeTypes;\n    let dracoGeometry;\n    let decodingStatus;\n    const geometryType = decoder.GetEncodedGeometryType(decoderBuffer);\n\n    if (geometryType === draco.TRIANGULAR_MESH) {\n      dracoGeometry = new draco.Mesh();\n      decodingStatus = decoder.DecodeBufferToMesh(decoderBuffer, dracoGeometry);\n    } else if (geometryType === draco.POINT_CLOUD) {\n      dracoGeometry = new draco.PointCloud();\n      decodingStatus = decoder.DecodeBufferToPointCloud(decoderBuffer, dracoGeometry);\n    } else {\n      throw new Error('THREE.DRACOLoader: Unexpected geometry type.');\n    }\n\n    if (!decodingStatus.ok() || dracoGeometry.ptr === 0) {\n      throw new Error('THREE.DRACOLoader: Decoding failed: ' + decodingStatus.error_msg());\n    }\n\n    const geometry = {\n      index: null,\n      attributes: []\n    }; // Gather all vertex attributes.\n\n    for (const attributeName in attributeIDs) {\n      const attributeType = self[attributeTypes[attributeName]];\n      let attribute;\n      let attributeID; // A Draco file may be created with default vertex attributes, whose attribute IDs\n      // are mapped 1:1 from their semantic name (POSITION, NORMAL, ...). Alternatively,\n      // a Draco file may contain a custom set of attributes, identified by known unique\n      // IDs. glTF files always do the latter, and `.drc` files typically do the former.\n\n      if (taskConfig.useUniqueIDs) {\n        attributeID = attributeIDs[attributeName];\n        attribute = decoder.GetAttributeByUniqueId(dracoGeometry, attributeID);\n      } else {\n        attributeID = decoder.GetAttributeId(dracoGeometry, draco[attributeIDs[attributeName]]);\n        if (attributeID === -1) continue;\n        attribute = decoder.GetAttribute(dracoGeometry, attributeID);\n      }\n\n      geometry.attributes.push(decodeAttribute(draco, decoder, dracoGeometry, attributeName, attributeType, attribute));\n    } // Add index.\n\n\n    if (geometryType === draco.TRIANGULAR_MESH) {\n      geometry.index = decodeIndex(draco, decoder, dracoGeometry);\n    }\n\n    draco.destroy(dracoGeometry);\n    return geometry;\n  }\n\n  function decodeIndex(draco, decoder, dracoGeometry) {\n    const numFaces = dracoGeometry.num_faces();\n    const numIndices = numFaces * 3;\n    const byteLength = numIndices * 4;\n\n    const ptr = draco._malloc(byteLength);\n\n    decoder.GetTrianglesUInt32Array(dracoGeometry, byteLength, ptr);\n    const index = new Uint32Array(draco.HEAPF32.buffer, ptr, numIndices).slice();\n\n    draco._free(ptr);\n\n    return {\n      array: index,\n      itemSize: 1\n    };\n  }\n\n  function decodeAttribute(draco, decoder, dracoGeometry, attributeName, attributeType, attribute) {\n    const numComponents = attribute.num_components();\n    const numPoints = dracoGeometry.num_points();\n    const numValues = numPoints * numComponents;\n    const byteLength = numValues * attributeType.BYTES_PER_ELEMENT;\n    const dataType = getDracoDataType(draco, attributeType);\n\n    const ptr = draco._malloc(byteLength);\n\n    decoder.GetAttributeDataArrayForAllPoints(dracoGeometry, attribute, dataType, byteLength, ptr);\n    const array = new attributeType(draco.HEAPF32.buffer, ptr, numValues).slice();\n\n    draco._free(ptr);\n\n    return {\n      name: attributeName,\n      array: array,\n      itemSize: numComponents\n    };\n  }\n\n  function getDracoDataType(draco, attributeType) {\n    switch (attributeType) {\n      case Float32Array:\n        return draco.DT_FLOAT32;\n\n      case Int8Array:\n        return draco.DT_INT8;\n\n      case Int16Array:\n        return draco.DT_INT16;\n\n      case Int32Array:\n        return draco.DT_INT32;\n\n      case Uint8Array:\n        return draco.DT_UINT8;\n\n      case Uint16Array:\n        return draco.DT_UINT16;\n\n      case Uint32Array:\n        return draco.DT_UINT32;\n    }\n  }\n}\n\nexport { DRACOLoader };\n","import { Loader, LoaderUtils, FileLoader, Color, SpotLight, PointLight, DirectionalLight, MeshBasicMaterial, sRGBEncoding, MeshPhysicalMaterial, Vector2, TangentSpaceNormalMap, Quaternion, TextureLoader, ImageBitmapLoader, InterleavedBuffer, InterleavedBufferAttribute, BufferAttribute, LinearFilter, LinearMipmapLinearFilter, RepeatWrapping, PointsMaterial, Material, LineBasicMaterial, MeshStandardMaterial, DoubleSide, PropertyBinding, BufferGeometry, SkinnedMesh, Mesh, LineSegments, Line, LineLoop, Points, Group, PerspectiveCamera, MathUtils, OrthographicCamera, InterpolateLinear, AnimationClip, Bone, Object3D, Matrix4, Skeleton, TriangleFanDrawMode, NearestFilter, NearestMipmapNearestFilter, LinearMipmapNearestFilter, NearestMipmapLinearFilter, ClampToEdgeWrapping, MirroredRepeatWrapping, InterpolateDiscrete, FrontSide, Texture, TriangleStripDrawMode, VectorKeyframeTrack, QuaternionKeyframeTrack, NumberKeyframeTrack, Box3, Vector3, Sphere, Interpolant } from 'three';\n\nclass GLTFLoader extends Loader {\n  constructor(manager) {\n    super(manager);\n    this.dracoLoader = null;\n    this.ktx2Loader = null;\n    this.meshoptDecoder = null;\n    this.pluginCallbacks = [];\n    this.register(function (parser) {\n      return new GLTFMaterialsClearcoatExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFTextureBasisUExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFTextureWebPExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsSheenExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsTransmissionExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsVolumeExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsIorExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsEmissiveStrengthExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsSpecularExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsIridescenceExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFLightsExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMeshoptCompression(parser);\n    });\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const scope = this;\n    let resourcePath;\n\n    if (this.resourcePath !== '') {\n      resourcePath = this.resourcePath;\n    } else if (this.path !== '') {\n      resourcePath = this.path;\n    } else {\n      resourcePath = LoaderUtils.extractUrlBase(url);\n    } // Tells the LoadingManager to track an extra item, which resolves after\n    // the model is fully loaded. This means the count of items loaded will\n    // be incorrect, but ensures manager.onLoad() does not fire early.\n\n\n    this.manager.itemStart(url);\n\n    const _onError = function (e) {\n      if (onError) {\n        onError(e);\n      } else {\n        console.error(e);\n      }\n\n      scope.manager.itemError(url);\n      scope.manager.itemEnd(url);\n    };\n\n    const loader = new FileLoader(this.manager);\n    loader.setPath(this.path);\n    loader.setResponseType('arraybuffer');\n    loader.setRequestHeader(this.requestHeader);\n    loader.setWithCredentials(this.withCredentials);\n    loader.load(url, function (data) {\n      try {\n        scope.parse(data, resourcePath, function (gltf) {\n          onLoad(gltf);\n          scope.manager.itemEnd(url);\n        }, _onError);\n      } catch (e) {\n        _onError(e);\n      }\n    }, onProgress, _onError);\n  }\n\n  setDRACOLoader(dracoLoader) {\n    this.dracoLoader = dracoLoader;\n    return this;\n  }\n\n  setDDSLoader() {\n    throw new Error('THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".');\n  }\n\n  setKTX2Loader(ktx2Loader) {\n    this.ktx2Loader = ktx2Loader;\n    return this;\n  }\n\n  setMeshoptDecoder(meshoptDecoder) {\n    this.meshoptDecoder = meshoptDecoder;\n    return this;\n  }\n\n  register(callback) {\n    if (this.pluginCallbacks.indexOf(callback) === -1) {\n      this.pluginCallbacks.push(callback);\n    }\n\n    return this;\n  }\n\n  unregister(callback) {\n    if (this.pluginCallbacks.indexOf(callback) !== -1) {\n      this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(callback), 1);\n    }\n\n    return this;\n  }\n\n  parse(data, path, onLoad, onError) {\n    let content;\n    const extensions = {};\n    const plugins = {};\n\n    if (typeof data === 'string') {\n      content = data;\n    } else {\n      const magic = LoaderUtils.decodeText(new Uint8Array(data, 0, 4));\n\n      if (magic === BINARY_EXTENSION_HEADER_MAGIC) {\n        try {\n          extensions[EXTENSIONS.KHR_BINARY_GLTF] = new GLTFBinaryExtension(data);\n        } catch (error) {\n          if (onError) onError(error);\n          return;\n        }\n\n        content = extensions[EXTENSIONS.KHR_BINARY_GLTF].content;\n      } else {\n        content = LoaderUtils.decodeText(new Uint8Array(data));\n      }\n    }\n\n    const json = JSON.parse(content);\n\n    if (json.asset === undefined || json.asset.version[0] < 2) {\n      if (onError) onError(new Error('THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.'));\n      return;\n    }\n\n    const parser = new GLTFParser(json, {\n      path: path || this.resourcePath || '',\n      crossOrigin: this.crossOrigin,\n      requestHeader: this.requestHeader,\n      manager: this.manager,\n      ktx2Loader: this.ktx2Loader,\n      meshoptDecoder: this.meshoptDecoder\n    });\n    parser.fileLoader.setRequestHeader(this.requestHeader);\n\n    for (let i = 0; i < this.pluginCallbacks.length; i++) {\n      const plugin = this.pluginCallbacks[i](parser);\n      plugins[plugin.name] = plugin; // Workaround to avoid determining as unknown extension\n      // in addUnknownExtensionsToUserData().\n      // Remove this workaround if we move all the existing\n      // extension handlers to plugin system\n\n      extensions[plugin.name] = true;\n    }\n\n    if (json.extensionsUsed) {\n      for (let i = 0; i < json.extensionsUsed.length; ++i) {\n        const extensionName = json.extensionsUsed[i];\n        const extensionsRequired = json.extensionsRequired || [];\n\n        switch (extensionName) {\n          case EXTENSIONS.KHR_MATERIALS_UNLIT:\n            extensions[extensionName] = new GLTFMaterialsUnlitExtension();\n            break;\n\n          case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n            extensions[extensionName] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n            break;\n\n          case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n            extensions[extensionName] = new GLTFDracoMeshCompressionExtension(json, this.dracoLoader);\n            break;\n\n          case EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n            extensions[extensionName] = new GLTFTextureTransformExtension();\n            break;\n\n          case EXTENSIONS.KHR_MESH_QUANTIZATION:\n            extensions[extensionName] = new GLTFMeshQuantizationExtension();\n            break;\n\n          default:\n            if (extensionsRequired.indexOf(extensionName) >= 0 && plugins[extensionName] === undefined) {\n              console.warn('THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".');\n            }\n\n        }\n      }\n    }\n\n    parser.setExtensions(extensions);\n    parser.setPlugins(plugins);\n    parser.parse(onLoad, onError);\n  }\n\n  parseAsync(data, path) {\n    const scope = this;\n    return new Promise(function (resolve, reject) {\n      scope.parse(data, path, resolve, reject);\n    });\n  }\n\n}\n/* GLTFREGISTRY */\n\n\nfunction GLTFRegistry() {\n  let objects = {};\n  return {\n    get: function (key) {\n      return objects[key];\n    },\n    add: function (key, object) {\n      objects[key] = object;\n    },\n    remove: function (key) {\n      delete objects[key];\n    },\n    removeAll: function () {\n      objects = {};\n    }\n  };\n}\n/*********************************/\n\n/********** EXTENSIONS ***********/\n\n/*********************************/\n\n\nconst EXTENSIONS = {\n  KHR_BINARY_GLTF: 'KHR_binary_glTF',\n  KHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n  KHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n  KHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n  KHR_MATERIALS_IOR: 'KHR_materials_ior',\n  KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n  KHR_MATERIALS_SHEEN: 'KHR_materials_sheen',\n  KHR_MATERIALS_SPECULAR: 'KHR_materials_specular',\n  KHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n  KHR_MATERIALS_IRIDESCENCE: 'KHR_materials_iridescence',\n  KHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n  KHR_MATERIALS_VOLUME: 'KHR_materials_volume',\n  KHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n  KHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n  KHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n  KHR_MATERIALS_EMISSIVE_STRENGTH: 'KHR_materials_emissive_strength',\n  EXT_TEXTURE_WEBP: 'EXT_texture_webp',\n  EXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression'\n};\n/**\n * Punctual Lights Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n */\n\nclass GLTFLightsExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL; // Object3D instance caches\n\n    this.cache = {\n      refs: {},\n      uses: {}\n    };\n  }\n\n  _markDefs() {\n    const parser = this.parser;\n    const nodeDefs = this.parser.json.nodes || [];\n\n    for (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      const nodeDef = nodeDefs[nodeIndex];\n\n      if (nodeDef.extensions && nodeDef.extensions[this.name] && nodeDef.extensions[this.name].light !== undefined) {\n        parser._addNodeRef(this.cache, nodeDef.extensions[this.name].light);\n      }\n    }\n  }\n\n  _loadLight(lightIndex) {\n    const parser = this.parser;\n    const cacheKey = 'light:' + lightIndex;\n    let dependency = parser.cache.get(cacheKey);\n    if (dependency) return dependency;\n    const json = parser.json;\n    const extensions = json.extensions && json.extensions[this.name] || {};\n    const lightDefs = extensions.lights || [];\n    const lightDef = lightDefs[lightIndex];\n    let lightNode;\n    const color = new Color(0xffffff);\n    if (lightDef.color !== undefined) color.fromArray(lightDef.color);\n    const range = lightDef.range !== undefined ? lightDef.range : 0;\n\n    switch (lightDef.type) {\n      case 'directional':\n        lightNode = new DirectionalLight(color);\n        lightNode.target.position.set(0, 0, -1);\n        lightNode.add(lightNode.target);\n        break;\n\n      case 'point':\n        lightNode = new PointLight(color);\n        lightNode.distance = range;\n        break;\n\n      case 'spot':\n        lightNode = new SpotLight(color);\n        lightNode.distance = range; // Handle spotlight properties.\n\n        lightDef.spot = lightDef.spot || {};\n        lightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n        lightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n        lightNode.angle = lightDef.spot.outerConeAngle;\n        lightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n        lightNode.target.position.set(0, 0, -1);\n        lightNode.add(lightNode.target);\n        break;\n\n      default:\n        throw new Error('THREE.GLTFLoader: Unexpected light type: ' + lightDef.type);\n    } // Some lights (e.g. spot) default to a position other than the origin. Reset the position\n    // here, because node-level parsing will only override position if explicitly specified.\n\n\n    lightNode.position.set(0, 0, 0);\n    lightNode.decay = 2;\n    if (lightDef.intensity !== undefined) lightNode.intensity = lightDef.intensity;\n    lightNode.name = parser.createUniqueName(lightDef.name || 'light_' + lightIndex);\n    dependency = Promise.resolve(lightNode);\n    parser.cache.add(cacheKey, dependency);\n    return dependency;\n  }\n\n  createNodeAttachment(nodeIndex) {\n    const self = this;\n    const parser = this.parser;\n    const json = parser.json;\n    const nodeDef = json.nodes[nodeIndex];\n    const lightDef = nodeDef.extensions && nodeDef.extensions[this.name] || {};\n    const lightIndex = lightDef.light;\n    if (lightIndex === undefined) return null;\n    return this._loadLight(lightIndex).then(function (light) {\n      return parser._getNodeRef(self.cache, lightIndex, light);\n    });\n  }\n\n}\n/**\n * Unlit Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n */\n\n\nclass GLTFMaterialsUnlitExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n  }\n\n  getMaterialType() {\n    return MeshBasicMaterial;\n  }\n\n  extendParams(materialParams, materialDef, parser) {\n    const pending = [];\n    materialParams.color = new Color(1.0, 1.0, 1.0);\n    materialParams.opacity = 1.0;\n    const metallicRoughness = materialDef.pbrMetallicRoughness;\n\n    if (metallicRoughness) {\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        const array = metallicRoughness.baseColorFactor;\n        materialParams.color.fromArray(array);\n        materialParams.opacity = array[3];\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture, sRGBEncoding));\n      }\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Materials Emissive Strength Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/blob/5768b3ce0ef32bc39cdf1bef10b948586635ead3/extensions/2.0/Khronos/KHR_materials_emissive_strength/README.md\n */\n\n\nclass GLTFMaterialsEmissiveStrengthExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const emissiveStrength = materialDef.extensions[this.name].emissiveStrength;\n\n    if (emissiveStrength !== undefined) {\n      materialParams.emissiveIntensity = emissiveStrength;\n    }\n\n    return Promise.resolve();\n  }\n\n}\n/**\n * Clearcoat Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n */\n\n\nclass GLTFMaterialsClearcoatExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n\n    if (extension.clearcoatFactor !== undefined) {\n      materialParams.clearcoat = extension.clearcoatFactor;\n    }\n\n    if (extension.clearcoatTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatMap', extension.clearcoatTexture));\n    }\n\n    if (extension.clearcoatRoughnessFactor !== undefined) {\n      materialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n    }\n\n    if (extension.clearcoatRoughnessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture));\n    }\n\n    if (extension.clearcoatNormalTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture));\n\n      if (extension.clearcoatNormalTexture.scale !== undefined) {\n        const scale = extension.clearcoatNormalTexture.scale;\n        materialParams.clearcoatNormalScale = new Vector2(scale, scale);\n      }\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Iridescence Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_iridescence\n */\n\n\nclass GLTFMaterialsIridescenceExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_IRIDESCENCE;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n\n    if (extension.iridescenceFactor !== undefined) {\n      materialParams.iridescence = extension.iridescenceFactor;\n    }\n\n    if (extension.iridescenceTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'iridescenceMap', extension.iridescenceTexture));\n    }\n\n    if (extension.iridescenceIor !== undefined) {\n      materialParams.iridescenceIOR = extension.iridescenceIor;\n    }\n\n    if (materialParams.iridescenceThicknessRange === undefined) {\n      materialParams.iridescenceThicknessRange = [100, 400];\n    }\n\n    if (extension.iridescenceThicknessMinimum !== undefined) {\n      materialParams.iridescenceThicknessRange[0] = extension.iridescenceThicknessMinimum;\n    }\n\n    if (extension.iridescenceThicknessMaximum !== undefined) {\n      materialParams.iridescenceThicknessRange[1] = extension.iridescenceThicknessMaximum;\n    }\n\n    if (extension.iridescenceThicknessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'iridescenceThicknessMap', extension.iridescenceThicknessTexture));\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Sheen Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Khronos/KHR_materials_sheen\n */\n\n\nclass GLTFMaterialsSheenExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_SHEEN;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    materialParams.sheenColor = new Color(0, 0, 0);\n    materialParams.sheenRoughness = 0;\n    materialParams.sheen = 1;\n    const extension = materialDef.extensions[this.name];\n\n    if (extension.sheenColorFactor !== undefined) {\n      materialParams.sheenColor.fromArray(extension.sheenColorFactor);\n    }\n\n    if (extension.sheenRoughnessFactor !== undefined) {\n      materialParams.sheenRoughness = extension.sheenRoughnessFactor;\n    }\n\n    if (extension.sheenColorTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'sheenColorMap', extension.sheenColorTexture, sRGBEncoding));\n    }\n\n    if (extension.sheenRoughnessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'sheenRoughnessMap', extension.sheenRoughnessTexture));\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Transmission Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n */\n\n\nclass GLTFMaterialsTransmissionExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n\n    if (extension.transmissionFactor !== undefined) {\n      materialParams.transmission = extension.transmissionFactor;\n    }\n\n    if (extension.transmissionTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'transmissionMap', extension.transmissionTexture));\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Materials Volume Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume\n */\n\n\nclass GLTFMaterialsVolumeExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_VOLUME;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n    materialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0;\n\n    if (extension.thicknessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'thicknessMap', extension.thicknessTexture));\n    }\n\n    materialParams.attenuationDistance = extension.attenuationDistance || Infinity;\n    const colorArray = extension.attenuationColor || [1, 1, 1];\n    materialParams.attenuationColor = new Color(colorArray[0], colorArray[1], colorArray[2]);\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Materials ior Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior\n */\n\n\nclass GLTFMaterialsIorExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_IOR;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const extension = materialDef.extensions[this.name];\n    materialParams.ior = extension.ior !== undefined ? extension.ior : 1.5;\n    return Promise.resolve();\n  }\n\n}\n/**\n * Materials specular Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular\n */\n\n\nclass GLTFMaterialsSpecularExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_SPECULAR;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n    materialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0;\n\n    if (extension.specularTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'specularIntensityMap', extension.specularTexture));\n    }\n\n    const colorArray = extension.specularColorFactor || [1, 1, 1];\n    materialParams.specularColor = new Color(colorArray[0], colorArray[1], colorArray[2]);\n\n    if (extension.specularColorTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'specularColorMap', extension.specularColorTexture, sRGBEncoding));\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * BasisU Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n */\n\n\nclass GLTFTextureBasisUExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n  }\n\n  loadTexture(textureIndex) {\n    const parser = this.parser;\n    const json = parser.json;\n    const textureDef = json.textures[textureIndex];\n\n    if (!textureDef.extensions || !textureDef.extensions[this.name]) {\n      return null;\n    }\n\n    const extension = textureDef.extensions[this.name];\n    const loader = parser.options.ktx2Loader;\n\n    if (!loader) {\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n        throw new Error('THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures');\n      } else {\n        // Assumes that the extension is optional and that a fallback texture is present\n        return null;\n      }\n    }\n\n    return parser.loadTextureImage(textureIndex, extension.source, loader);\n  }\n\n}\n/**\n * WebP Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n */\n\n\nclass GLTFTextureWebPExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n    this.isSupported = null;\n  }\n\n  loadTexture(textureIndex) {\n    const name = this.name;\n    const parser = this.parser;\n    const json = parser.json;\n    const textureDef = json.textures[textureIndex];\n\n    if (!textureDef.extensions || !textureDef.extensions[name]) {\n      return null;\n    }\n\n    const extension = textureDef.extensions[name];\n    const source = json.images[extension.source];\n    let loader = parser.textureLoader;\n\n    if (source.uri) {\n      const handler = parser.options.manager.getHandler(source.uri);\n      if (handler !== null) loader = handler;\n    }\n\n    return this.detectSupport().then(function (isSupported) {\n      if (isSupported) return parser.loadTextureImage(textureIndex, extension.source, loader);\n\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(name) >= 0) {\n        throw new Error('THREE.GLTFLoader: WebP required by asset but unsupported.');\n      } // Fall back to PNG or JPEG.\n\n\n      return parser.loadTexture(textureIndex);\n    });\n  }\n\n  detectSupport() {\n    if (!this.isSupported) {\n      this.isSupported = new Promise(function (resolve) {\n        const image = new Image(); // Lossy test image. Support for lossy images doesn't guarantee support for all\n        // WebP images, unfortunately.\n\n        image.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n        image.onload = image.onerror = function () {\n          resolve(image.height === 1);\n        };\n      });\n    }\n\n    return this.isSupported;\n  }\n\n}\n/**\n * meshopt BufferView Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n */\n\n\nclass GLTFMeshoptCompression {\n  constructor(parser) {\n    this.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n    this.parser = parser;\n  }\n\n  loadBufferView(index) {\n    const json = this.parser.json;\n    const bufferView = json.bufferViews[index];\n\n    if (bufferView.extensions && bufferView.extensions[this.name]) {\n      const extensionDef = bufferView.extensions[this.name];\n      const buffer = this.parser.getDependency('buffer', extensionDef.buffer);\n      const decoder = this.parser.options.meshoptDecoder;\n\n      if (!decoder || !decoder.supported) {\n        if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n          throw new Error('THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files');\n        } else {\n          // Assumes that the extension is optional and that fallback buffer data is present\n          return null;\n        }\n      }\n\n      return buffer.then(function (res) {\n        const byteOffset = extensionDef.byteOffset || 0;\n        const byteLength = extensionDef.byteLength || 0;\n        const count = extensionDef.count;\n        const stride = extensionDef.byteStride;\n        const source = new Uint8Array(res, byteOffset, byteLength);\n\n        if (decoder.decodeGltfBufferAsync) {\n          return decoder.decodeGltfBufferAsync(count, stride, source, extensionDef.mode, extensionDef.filter).then(function (res) {\n            return res.buffer;\n          });\n        } else {\n          // Support for MeshoptDecoder 0.18 or earlier, without decodeGltfBufferAsync\n          return decoder.ready.then(function () {\n            const result = new ArrayBuffer(count * stride);\n            decoder.decodeGltfBuffer(new Uint8Array(result), count, stride, source, extensionDef.mode, extensionDef.filter);\n            return result;\n          });\n        }\n      });\n    } else {\n      return null;\n    }\n  }\n\n}\n/* BINARY EXTENSION */\n\n\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\nconst BINARY_EXTENSION_HEADER_LENGTH = 12;\nconst BINARY_EXTENSION_CHUNK_TYPES = {\n  JSON: 0x4e4f534a,\n  BIN: 0x004e4942\n};\n\nclass GLTFBinaryExtension {\n  constructor(data) {\n    this.name = EXTENSIONS.KHR_BINARY_GLTF;\n    this.content = null;\n    this.body = null;\n    const headerView = new DataView(data, 0, BINARY_EXTENSION_HEADER_LENGTH);\n    this.header = {\n      magic: LoaderUtils.decodeText(new Uint8Array(data.slice(0, 4))),\n      version: headerView.getUint32(4, true),\n      length: headerView.getUint32(8, true)\n    };\n\n    if (this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC) {\n      throw new Error('THREE.GLTFLoader: Unsupported glTF-Binary header.');\n    } else if (this.header.version < 2.0) {\n      throw new Error('THREE.GLTFLoader: Legacy binary file detected.');\n    }\n\n    const chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\n    const chunkView = new DataView(data, BINARY_EXTENSION_HEADER_LENGTH);\n    let chunkIndex = 0;\n\n    while (chunkIndex < chunkContentsLength) {\n      const chunkLength = chunkView.getUint32(chunkIndex, true);\n      chunkIndex += 4;\n      const chunkType = chunkView.getUint32(chunkIndex, true);\n      chunkIndex += 4;\n\n      if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON) {\n        const contentArray = new Uint8Array(data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength);\n        this.content = LoaderUtils.decodeText(contentArray);\n      } else if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN) {\n        const byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n        this.body = data.slice(byteOffset, byteOffset + chunkLength);\n      } // Clients must ignore chunks with unknown types.\n\n\n      chunkIndex += chunkLength;\n    }\n\n    if (this.content === null) {\n      throw new Error('THREE.GLTFLoader: JSON content not found.');\n    }\n  }\n\n}\n/**\n * DRACO Mesh Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n */\n\n\nclass GLTFDracoMeshCompressionExtension {\n  constructor(json, dracoLoader) {\n    if (!dracoLoader) {\n      throw new Error('THREE.GLTFLoader: No DRACOLoader instance provided.');\n    }\n\n    this.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n    this.json = json;\n    this.dracoLoader = dracoLoader;\n    this.dracoLoader.preload();\n  }\n\n  decodePrimitive(primitive, parser) {\n    const json = this.json;\n    const dracoLoader = this.dracoLoader;\n    const bufferViewIndex = primitive.extensions[this.name].bufferView;\n    const gltfAttributeMap = primitive.extensions[this.name].attributes;\n    const threeAttributeMap = {};\n    const attributeNormalizedMap = {};\n    const attributeTypeMap = {};\n\n    for (const attributeName in gltfAttributeMap) {\n      const threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n      threeAttributeMap[threeAttributeName] = gltfAttributeMap[attributeName];\n    }\n\n    for (const attributeName in primitive.attributes) {\n      const threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n\n      if (gltfAttributeMap[attributeName] !== undefined) {\n        const accessorDef = json.accessors[primitive.attributes[attributeName]];\n        const componentType = WEBGL_COMPONENT_TYPES[accessorDef.componentType];\n        attributeTypeMap[threeAttributeName] = componentType.name;\n        attributeNormalizedMap[threeAttributeName] = accessorDef.normalized === true;\n      }\n    }\n\n    return parser.getDependency('bufferView', bufferViewIndex).then(function (bufferView) {\n      return new Promise(function (resolve) {\n        dracoLoader.decodeDracoFile(bufferView, function (geometry) {\n          for (const attributeName in geometry.attributes) {\n            const attribute = geometry.attributes[attributeName];\n            const normalized = attributeNormalizedMap[attributeName];\n            if (normalized !== undefined) attribute.normalized = normalized;\n          }\n\n          resolve(geometry);\n        }, threeAttributeMap, attributeTypeMap);\n      });\n    });\n  }\n\n}\n/**\n * Texture Transform Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n */\n\n\nclass GLTFTextureTransformExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n  }\n\n  extendTexture(texture, transform) {\n    if (transform.texCoord !== undefined) {\n      console.warn('THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.');\n    }\n\n    if (transform.offset === undefined && transform.rotation === undefined && transform.scale === undefined) {\n      // See https://github.com/mrdoob/three.js/issues/21819.\n      return texture;\n    }\n\n    texture = texture.clone();\n\n    if (transform.offset !== undefined) {\n      texture.offset.fromArray(transform.offset);\n    }\n\n    if (transform.rotation !== undefined) {\n      texture.rotation = transform.rotation;\n    }\n\n    if (transform.scale !== undefined) {\n      texture.repeat.fromArray(transform.scale);\n    }\n\n    texture.needsUpdate = true;\n    return texture;\n  }\n\n}\n/**\n * Specular-Glossiness Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Archived/KHR_materials_pbrSpecularGlossiness\n */\n\n/**\n * A sub class of StandardMaterial with some of the functionality\n * changed via the `onBeforeCompile` callback\n * @pailhead\n */\n\n\nclass GLTFMeshStandardSGMaterial extends MeshStandardMaterial {\n  constructor(params) {\n    super();\n    this.isGLTFSpecularGlossinessMaterial = true; //various chunks that need replacing\n\n    const specularMapParsFragmentChunk = ['#ifdef USE_SPECULARMAP', '\tuniform sampler2D specularMap;', '#endif'].join('\\n');\n    const glossinessMapParsFragmentChunk = ['#ifdef USE_GLOSSINESSMAP', '\tuniform sampler2D glossinessMap;', '#endif'].join('\\n');\n    const specularMapFragmentChunk = ['vec3 specularFactor = specular;', '#ifdef USE_SPECULARMAP', '\tvec4 texelSpecular = texture2D( specularMap, vUv );', '\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tspecularFactor *= texelSpecular.rgb;', '#endif'].join('\\n');\n    const glossinessMapFragmentChunk = ['float glossinessFactor = glossiness;', '#ifdef USE_GLOSSINESSMAP', '\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );', '\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tglossinessFactor *= texelGlossiness.a;', '#endif'].join('\\n');\n    const lightPhysicalFragmentChunk = ['PhysicalMaterial material;', 'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );', 'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );', 'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );', 'material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.', 'material.roughness += geometryRoughness;', 'material.roughness = min( material.roughness, 1.0 );', 'material.specularColor = specularFactor;'].join('\\n');\n    const uniforms = {\n      specular: {\n        value: new Color().setHex(0xffffff)\n      },\n      glossiness: {\n        value: 1\n      },\n      specularMap: {\n        value: null\n      },\n      glossinessMap: {\n        value: null\n      }\n    };\n    this._extraUniforms = uniforms;\n\n    this.onBeforeCompile = function (shader) {\n      for (const uniformName in uniforms) {\n        shader.uniforms[uniformName] = uniforms[uniformName];\n      }\n\n      shader.fragmentShader = shader.fragmentShader.replace('uniform float roughness;', 'uniform vec3 specular;').replace('uniform float metalness;', 'uniform float glossiness;').replace('#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk).replace('#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk).replace('#include <roughnessmap_fragment>', specularMapFragmentChunk).replace('#include <metalnessmap_fragment>', glossinessMapFragmentChunk).replace('#include <lights_physical_fragment>', lightPhysicalFragmentChunk);\n    };\n\n    Object.defineProperties(this, {\n      specular: {\n        get: function () {\n          return uniforms.specular.value;\n        },\n        set: function (v) {\n          uniforms.specular.value = v;\n        }\n      },\n      specularMap: {\n        get: function () {\n          return uniforms.specularMap.value;\n        },\n        set: function (v) {\n          uniforms.specularMap.value = v;\n\n          if (v) {\n            this.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\n          } else {\n            delete this.defines.USE_SPECULARMAP;\n          }\n        }\n      },\n      glossiness: {\n        get: function () {\n          return uniforms.glossiness.value;\n        },\n        set: function (v) {\n          uniforms.glossiness.value = v;\n        }\n      },\n      glossinessMap: {\n        get: function () {\n          return uniforms.glossinessMap.value;\n        },\n        set: function (v) {\n          uniforms.glossinessMap.value = v;\n\n          if (v) {\n            this.defines.USE_GLOSSINESSMAP = '';\n            this.defines.USE_UV = '';\n          } else {\n            delete this.defines.USE_GLOSSINESSMAP;\n            delete this.defines.USE_UV;\n          }\n        }\n      }\n    });\n    delete this.metalness;\n    delete this.roughness;\n    delete this.metalnessMap;\n    delete this.roughnessMap;\n    this.setValues(params);\n  }\n\n  copy(source) {\n    super.copy(source);\n    this.specularMap = source.specularMap;\n    this.specular.copy(source.specular);\n    this.glossinessMap = source.glossinessMap;\n    this.glossiness = source.glossiness;\n    delete this.metalness;\n    delete this.roughness;\n    delete this.metalnessMap;\n    delete this.roughnessMap;\n    return this;\n  }\n\n}\n\nclass GLTFMaterialsPbrSpecularGlossinessExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS;\n    this.specularGlossinessParams = ['color', 'map', 'lightMap', 'lightMapIntensity', 'aoMap', 'aoMapIntensity', 'emissive', 'emissiveIntensity', 'emissiveMap', 'bumpMap', 'bumpScale', 'normalMap', 'normalMapType', 'displacementMap', 'displacementScale', 'displacementBias', 'specularMap', 'specular', 'glossinessMap', 'glossiness', 'alphaMap', 'envMap', 'envMapIntensity', 'refractionRatio'];\n  }\n\n  getMaterialType() {\n    return GLTFMeshStandardSGMaterial;\n  }\n\n  extendParams(materialParams, materialDef, parser) {\n    const pbrSpecularGlossiness = materialDef.extensions[this.name];\n    materialParams.color = new Color(1.0, 1.0, 1.0);\n    materialParams.opacity = 1.0;\n    const pending = [];\n\n    if (Array.isArray(pbrSpecularGlossiness.diffuseFactor)) {\n      const array = pbrSpecularGlossiness.diffuseFactor;\n      materialParams.color.fromArray(array);\n      materialParams.opacity = array[3];\n    }\n\n    if (pbrSpecularGlossiness.diffuseTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'map', pbrSpecularGlossiness.diffuseTexture, sRGBEncoding));\n    }\n\n    materialParams.emissive = new Color(0.0, 0.0, 0.0);\n    materialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n    materialParams.specular = new Color(1.0, 1.0, 1.0);\n\n    if (Array.isArray(pbrSpecularGlossiness.specularFactor)) {\n      materialParams.specular.fromArray(pbrSpecularGlossiness.specularFactor);\n    }\n\n    if (pbrSpecularGlossiness.specularGlossinessTexture !== undefined) {\n      const specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n      pending.push(parser.assignTexture(materialParams, 'glossinessMap', specGlossMapDef));\n      pending.push(parser.assignTexture(materialParams, 'specularMap', specGlossMapDef, sRGBEncoding));\n    }\n\n    return Promise.all(pending);\n  }\n\n  createMaterial(materialParams) {\n    const material = new GLTFMeshStandardSGMaterial(materialParams);\n    material.fog = true;\n    material.color = materialParams.color;\n    material.map = materialParams.map === undefined ? null : materialParams.map;\n    material.lightMap = null;\n    material.lightMapIntensity = 1.0;\n    material.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n    material.aoMapIntensity = 1.0;\n    material.emissive = materialParams.emissive;\n    material.emissiveIntensity = materialParams.emissiveIntensity === undefined ? 1.0 : materialParams.emissiveIntensity;\n    material.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n    material.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n    material.bumpScale = 1;\n    material.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n    material.normalMapType = TangentSpaceNormalMap;\n    if (materialParams.normalScale) material.normalScale = materialParams.normalScale;\n    material.displacementMap = null;\n    material.displacementScale = 1;\n    material.displacementBias = 0;\n    material.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n    material.specular = materialParams.specular;\n    material.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n    material.glossiness = materialParams.glossiness;\n    material.alphaMap = null;\n    material.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n    material.envMapIntensity = 1.0;\n    material.refractionRatio = 0.98;\n    return material;\n  }\n\n}\n/**\n * Mesh Quantization Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n */\n\n\nclass GLTFMeshQuantizationExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n  }\n\n}\n/*********************************/\n\n/********** INTERPOLATION ********/\n\n/*********************************/\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\n\n\nclass GLTFCubicSplineInterpolant extends Interpolant {\n  constructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n    super(parameterPositions, sampleValues, sampleSize, resultBuffer);\n  }\n\n  copySampleValue_(index) {\n    // Copies a sample value to the result buffer. See description of glTF\n    // CUBICSPLINE values layout in interpolate_() function below.\n    const result = this.resultBuffer,\n          values = this.sampleValues,\n          valueSize = this.valueSize,\n          offset = index * valueSize * 3 + valueSize;\n\n    for (let i = 0; i !== valueSize; i++) {\n      result[i] = values[offset + i];\n    }\n\n    return result;\n  }\n\n  interpolate_(i1, t0, t, t1) {\n    const result = this.resultBuffer;\n    const values = this.sampleValues;\n    const stride = this.valueSize;\n    const stride2 = stride * 2;\n    const stride3 = stride * 3;\n    const td = t1 - t0;\n    const p = (t - t0) / td;\n    const pp = p * p;\n    const ppp = pp * p;\n    const offset1 = i1 * stride3;\n    const offset0 = offset1 - stride3;\n    const s2 = -2 * ppp + 3 * pp;\n    const s3 = ppp - pp;\n    const s0 = 1 - s2;\n    const s1 = s3 - pp + p; // Layout of keyframe output values for CUBICSPLINE animations:\n    //   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\n    for (let i = 0; i !== stride; i++) {\n      const p0 = values[offset0 + i + stride]; // splineVertex_k\n\n      const m0 = values[offset0 + i + stride2] * td; // outTangent_k * (t_k+1 - t_k)\n\n      const p1 = values[offset1 + i + stride]; // splineVertex_k+1\n\n      const m1 = values[offset1 + i] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n      result[i] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n    }\n\n    return result;\n  }\n\n}\n\nconst _q = new Quaternion();\n\nclass GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant {\n  interpolate_(i1, t0, t, t1) {\n    const result = super.interpolate_(i1, t0, t, t1);\n\n    _q.fromArray(result).normalize().toArray(result);\n\n    return result;\n  }\n\n}\n/*********************************/\n\n/********** INTERNALS ************/\n\n/*********************************/\n\n/* CONSTANTS */\n\n\nconst WEBGL_CONSTANTS = {\n  FLOAT: 5126,\n  //FLOAT_MAT2: 35674,\n  FLOAT_MAT3: 35675,\n  FLOAT_MAT4: 35676,\n  FLOAT_VEC2: 35664,\n  FLOAT_VEC3: 35665,\n  FLOAT_VEC4: 35666,\n  LINEAR: 9729,\n  REPEAT: 10497,\n  SAMPLER_2D: 35678,\n  POINTS: 0,\n  LINES: 1,\n  LINE_LOOP: 2,\n  LINE_STRIP: 3,\n  TRIANGLES: 4,\n  TRIANGLE_STRIP: 5,\n  TRIANGLE_FAN: 6,\n  UNSIGNED_BYTE: 5121,\n  UNSIGNED_SHORT: 5123\n};\nconst WEBGL_COMPONENT_TYPES = {\n  5120: Int8Array,\n  5121: Uint8Array,\n  5122: Int16Array,\n  5123: Uint16Array,\n  5125: Uint32Array,\n  5126: Float32Array\n};\nconst WEBGL_FILTERS = {\n  9728: NearestFilter,\n  9729: LinearFilter,\n  9984: NearestMipmapNearestFilter,\n  9985: LinearMipmapNearestFilter,\n  9986: NearestMipmapLinearFilter,\n  9987: LinearMipmapLinearFilter\n};\nconst WEBGL_WRAPPINGS = {\n  33071: ClampToEdgeWrapping,\n  33648: MirroredRepeatWrapping,\n  10497: RepeatWrapping\n};\nconst WEBGL_TYPE_SIZES = {\n  SCALAR: 1,\n  VEC2: 2,\n  VEC3: 3,\n  VEC4: 4,\n  MAT2: 4,\n  MAT3: 9,\n  MAT4: 16\n};\nconst ATTRIBUTES = {\n  POSITION: 'position',\n  NORMAL: 'normal',\n  TANGENT: 'tangent',\n  TEXCOORD_0: 'uv',\n  TEXCOORD_1: 'uv2',\n  COLOR_0: 'color',\n  WEIGHTS_0: 'skinWeight',\n  JOINTS_0: 'skinIndex'\n};\nconst PATH_PROPERTIES = {\n  scale: 'scale',\n  translation: 'position',\n  rotation: 'quaternion',\n  weights: 'morphTargetInfluences'\n};\nconst INTERPOLATION = {\n  CUBICSPLINE: undefined,\n  // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n  // keyframe track will be initialized with a default interpolation type, then modified.\n  LINEAR: InterpolateLinear,\n  STEP: InterpolateDiscrete\n};\nconst ALPHA_MODES = {\n  OPAQUE: 'OPAQUE',\n  MASK: 'MASK',\n  BLEND: 'BLEND'\n};\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n */\n\nfunction createDefaultMaterial(cache) {\n  if (cache['DefaultMaterial'] === undefined) {\n    cache['DefaultMaterial'] = new MeshStandardMaterial({\n      color: 0xffffff,\n      emissive: 0x000000,\n      metalness: 1,\n      roughness: 1,\n      transparent: false,\n      depthTest: true,\n      side: FrontSide\n    });\n  }\n\n  return cache['DefaultMaterial'];\n}\n\nfunction addUnknownExtensionsToUserData(knownExtensions, object, objectDef) {\n  // Add unknown glTF extensions to an object's userData.\n  for (const name in objectDef.extensions) {\n    if (knownExtensions[name] === undefined) {\n      object.userData.gltfExtensions = object.userData.gltfExtensions || {};\n      object.userData.gltfExtensions[name] = objectDef.extensions[name];\n    }\n  }\n}\n/**\n * @param {Object3D|Material|BufferGeometry} object\n * @param {GLTF.definition} gltfDef\n */\n\n\nfunction assignExtrasToUserData(object, gltfDef) {\n  if (gltfDef.extras !== undefined) {\n    if (typeof gltfDef.extras === 'object') {\n      Object.assign(object.userData, gltfDef.extras);\n    } else {\n      console.warn('THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras);\n    }\n  }\n}\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n *\n * @param {BufferGeometry} geometry\n * @param {Array<GLTF.Target>} targets\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\n\n\nfunction addMorphTargets(geometry, targets, parser) {\n  let hasMorphPosition = false;\n  let hasMorphNormal = false;\n  let hasMorphColor = false;\n\n  for (let i = 0, il = targets.length; i < il; i++) {\n    const target = targets[i];\n    if (target.POSITION !== undefined) hasMorphPosition = true;\n    if (target.NORMAL !== undefined) hasMorphNormal = true;\n    if (target.COLOR_0 !== undefined) hasMorphColor = true;\n    if (hasMorphPosition && hasMorphNormal && hasMorphColor) break;\n  }\n\n  if (!hasMorphPosition && !hasMorphNormal && !hasMorphColor) return Promise.resolve(geometry);\n  const pendingPositionAccessors = [];\n  const pendingNormalAccessors = [];\n  const pendingColorAccessors = [];\n\n  for (let i = 0, il = targets.length; i < il; i++) {\n    const target = targets[i];\n\n    if (hasMorphPosition) {\n      const pendingAccessor = target.POSITION !== undefined ? parser.getDependency('accessor', target.POSITION) : geometry.attributes.position;\n      pendingPositionAccessors.push(pendingAccessor);\n    }\n\n    if (hasMorphNormal) {\n      const pendingAccessor = target.NORMAL !== undefined ? parser.getDependency('accessor', target.NORMAL) : geometry.attributes.normal;\n      pendingNormalAccessors.push(pendingAccessor);\n    }\n\n    if (hasMorphColor) {\n      const pendingAccessor = target.COLOR_0 !== undefined ? parser.getDependency('accessor', target.COLOR_0) : geometry.attributes.color;\n      pendingColorAccessors.push(pendingAccessor);\n    }\n  }\n\n  return Promise.all([Promise.all(pendingPositionAccessors), Promise.all(pendingNormalAccessors), Promise.all(pendingColorAccessors)]).then(function (accessors) {\n    const morphPositions = accessors[0];\n    const morphNormals = accessors[1];\n    const morphColors = accessors[2];\n    if (hasMorphPosition) geometry.morphAttributes.position = morphPositions;\n    if (hasMorphNormal) geometry.morphAttributes.normal = morphNormals;\n    if (hasMorphColor) geometry.morphAttributes.color = morphColors;\n    geometry.morphTargetsRelative = true;\n    return geometry;\n  });\n}\n/**\n * @param {Mesh} mesh\n * @param {GLTF.Mesh} meshDef\n */\n\n\nfunction updateMorphTargets(mesh, meshDef) {\n  mesh.updateMorphTargets();\n\n  if (meshDef.weights !== undefined) {\n    for (let i = 0, il = meshDef.weights.length; i < il; i++) {\n      mesh.morphTargetInfluences[i] = meshDef.weights[i];\n    }\n  } // .extras has user-defined data, so check that .extras.targetNames is an array.\n\n\n  if (meshDef.extras && Array.isArray(meshDef.extras.targetNames)) {\n    const targetNames = meshDef.extras.targetNames;\n\n    if (mesh.morphTargetInfluences.length === targetNames.length) {\n      mesh.morphTargetDictionary = {};\n\n      for (let i = 0, il = targetNames.length; i < il; i++) {\n        mesh.morphTargetDictionary[targetNames[i]] = i;\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.');\n    }\n  }\n}\n\nfunction createPrimitiveKey(primitiveDef) {\n  const dracoExtension = primitiveDef.extensions && primitiveDef.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];\n  let geometryKey;\n\n  if (dracoExtension) {\n    geometryKey = 'draco:' + dracoExtension.bufferView + ':' + dracoExtension.indices + ':' + createAttributesKey(dracoExtension.attributes);\n  } else {\n    geometryKey = primitiveDef.indices + ':' + createAttributesKey(primitiveDef.attributes) + ':' + primitiveDef.mode;\n  }\n\n  return geometryKey;\n}\n\nfunction createAttributesKey(attributes) {\n  let attributesKey = '';\n  const keys = Object.keys(attributes).sort();\n\n  for (let i = 0, il = keys.length; i < il; i++) {\n    attributesKey += keys[i] + ':' + attributes[keys[i]] + ';';\n  }\n\n  return attributesKey;\n}\n\nfunction getNormalizedComponentScale(constructor) {\n  // Reference:\n  // https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n  switch (constructor) {\n    case Int8Array:\n      return 1 / 127;\n\n    case Uint8Array:\n      return 1 / 255;\n\n    case Int16Array:\n      return 1 / 32767;\n\n    case Uint16Array:\n      return 1 / 65535;\n\n    default:\n      throw new Error('THREE.GLTFLoader: Unsupported normalized accessor component type.');\n  }\n}\n\nfunction getImageURIMimeType(uri) {\n  if (uri.search(/\\.jpe?g($|\\?)/i) > 0 || uri.search(/^data\\:image\\/jpeg/) === 0) return 'image/jpeg';\n  if (uri.search(/\\.webp($|\\?)/i) > 0 || uri.search(/^data\\:image\\/webp/) === 0) return 'image/webp';\n  return 'image/png';\n}\n/* GLTF PARSER */\n\n\nclass GLTFParser {\n  constructor(json = {}, options = {}) {\n    var _navigator$userAgent, _navigator$userAgent2;\n\n    this.json = json;\n    this.extensions = {};\n    this.plugins = {};\n    this.options = options; // loader object cache\n\n    this.cache = new GLTFRegistry(); // associations between Three.js objects and glTF elements\n\n    this.associations = new Map(); // BufferGeometry caching\n\n    this.primitiveCache = {}; // Object3D instance caches\n\n    this.meshCache = {\n      refs: {},\n      uses: {}\n    };\n    this.cameraCache = {\n      refs: {},\n      uses: {}\n    };\n    this.lightCache = {\n      refs: {},\n      uses: {}\n    };\n    this.sourceCache = {};\n    this.textureCache = {}; // Track node names, to ensure no duplicates\n\n    this.nodeNamesUsed = {}; // Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n    // expensive work of uploading a texture to the GPU off the main thread.\n\n    const isSafari = typeof navigator !== 'undefined' && /^((?!chrome|android).)*safari/i.test(navigator.userAgent) === true;\n    const isFirefox = typeof navigator !== 'undefined' && ((_navigator$userAgent = navigator.userAgent) === null || _navigator$userAgent === void 0 ? void 0 : _navigator$userAgent.indexOf('Firefox')) > -1;\n    const firefoxVersion = typeof navigator !== 'undefined' && isFirefox ? (_navigator$userAgent2 = navigator.userAgent) === null || _navigator$userAgent2 === void 0 ? void 0 : _navigator$userAgent2.match(/Firefox\\/([0-9]+)\\./)[1] : -1;\n\n    if (typeof createImageBitmap === 'undefined' || isSafari || isFirefox && firefoxVersion < 98) {\n      this.textureLoader = new TextureLoader(this.options.manager);\n    } else {\n      this.textureLoader = new ImageBitmapLoader(this.options.manager);\n    }\n\n    this.textureLoader.setCrossOrigin(this.options.crossOrigin);\n    this.textureLoader.setRequestHeader(this.options.requestHeader);\n    this.fileLoader = new FileLoader(this.options.manager);\n    this.fileLoader.setResponseType('arraybuffer');\n\n    if (this.options.crossOrigin === 'use-credentials') {\n      this.fileLoader.setWithCredentials(true);\n    }\n  }\n\n  setExtensions(extensions) {\n    this.extensions = extensions;\n  }\n\n  setPlugins(plugins) {\n    this.plugins = plugins;\n  }\n\n  parse(onLoad, onError) {\n    const parser = this;\n    const json = this.json;\n    const extensions = this.extensions; // Clear the loader cache\n\n    this.cache.removeAll(); // Mark the special nodes/meshes in json for efficient parse\n\n    this._invokeAll(function (ext) {\n      return ext._markDefs && ext._markDefs();\n    });\n\n    Promise.all(this._invokeAll(function (ext) {\n      return ext.beforeRoot && ext.beforeRoot();\n    })).then(function () {\n      return Promise.all([parser.getDependencies('scene'), parser.getDependencies('animation'), parser.getDependencies('camera')]);\n    }).then(function (dependencies) {\n      const result = {\n        scene: dependencies[0][json.scene || 0],\n        scenes: dependencies[0],\n        animations: dependencies[1],\n        cameras: dependencies[2],\n        asset: json.asset,\n        parser: parser,\n        userData: {}\n      };\n      addUnknownExtensionsToUserData(extensions, result, json);\n      assignExtrasToUserData(result, json);\n      Promise.all(parser._invokeAll(function (ext) {\n        return ext.afterRoot && ext.afterRoot(result);\n      })).then(function () {\n        onLoad(result);\n      });\n    }).catch(onError);\n  }\n  /**\n   * Marks the special nodes/meshes in json for efficient parse.\n   */\n\n\n  _markDefs() {\n    const nodeDefs = this.json.nodes || [];\n    const skinDefs = this.json.skins || [];\n    const meshDefs = this.json.meshes || []; // Nothing in the node definition indicates whether it is a Bone or an\n    // Object3D. Use the skins' joint references to mark bones.\n\n    for (let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex++) {\n      const joints = skinDefs[skinIndex].joints;\n\n      for (let i = 0, il = joints.length; i < il; i++) {\n        nodeDefs[joints[i]].isBone = true;\n      }\n    } // Iterate over all nodes, marking references to shared resources,\n    // as well as skeleton joints.\n\n\n    for (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      const nodeDef = nodeDefs[nodeIndex];\n\n      if (nodeDef.mesh !== undefined) {\n        this._addNodeRef(this.meshCache, nodeDef.mesh); // Nothing in the mesh definition indicates whether it is\n        // a SkinnedMesh or Mesh. Use the node's mesh reference\n        // to mark SkinnedMesh if node has skin.\n\n\n        if (nodeDef.skin !== undefined) {\n          meshDefs[nodeDef.mesh].isSkinnedMesh = true;\n        }\n      }\n\n      if (nodeDef.camera !== undefined) {\n        this._addNodeRef(this.cameraCache, nodeDef.camera);\n      }\n    }\n  }\n  /**\n   * Counts references to shared node / Object3D resources. These resources\n   * can be reused, or \"instantiated\", at multiple nodes in the scene\n   * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n   * be marked. Non-scenegraph resources (like Materials, Geometries, and\n   * Textures) can be reused directly and are not marked here.\n   *\n   * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n   */\n\n\n  _addNodeRef(cache, index) {\n    if (index === undefined) return;\n\n    if (cache.refs[index] === undefined) {\n      cache.refs[index] = cache.uses[index] = 0;\n    }\n\n    cache.refs[index]++;\n  }\n  /** Returns a reference to a shared resource, cloning it if necessary. */\n\n\n  _getNodeRef(cache, index, object) {\n    if (cache.refs[index] <= 1) return object;\n    const ref = object.clone(); // Propagates mappings to the cloned object, prevents mappings on the\n    // original object from being lost.\n\n    const updateMappings = (original, clone) => {\n      const mappings = this.associations.get(original);\n\n      if (mappings != null) {\n        this.associations.set(clone, mappings);\n      }\n\n      for (const [i, child] of original.children.entries()) {\n        updateMappings(child, clone.children[i]);\n      }\n    };\n\n    updateMappings(object, ref);\n    ref.name += '_instance_' + cache.uses[index]++;\n    return ref;\n  }\n\n  _invokeOne(func) {\n    const extensions = Object.values(this.plugins);\n    extensions.push(this);\n\n    for (let i = 0; i < extensions.length; i++) {\n      const result = func(extensions[i]);\n      if (result) return result;\n    }\n\n    return null;\n  }\n\n  _invokeAll(func) {\n    const extensions = Object.values(this.plugins);\n    extensions.unshift(this);\n    const pending = [];\n\n    for (let i = 0; i < extensions.length; i++) {\n      const result = func(extensions[i]);\n      if (result) pending.push(result);\n    }\n\n    return pending;\n  }\n  /**\n   * Requests the specified dependency asynchronously, with caching.\n   * @param {string} type\n   * @param {number} index\n   * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n   */\n\n\n  getDependency(type, index) {\n    const cacheKey = type + ':' + index;\n    let dependency = this.cache.get(cacheKey);\n\n    if (!dependency) {\n      switch (type) {\n        case 'scene':\n          dependency = this.loadScene(index);\n          break;\n\n        case 'node':\n          dependency = this.loadNode(index);\n          break;\n\n        case 'mesh':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMesh && ext.loadMesh(index);\n          });\n          break;\n\n        case 'accessor':\n          dependency = this.loadAccessor(index);\n          break;\n\n        case 'bufferView':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadBufferView && ext.loadBufferView(index);\n          });\n          break;\n\n        case 'buffer':\n          dependency = this.loadBuffer(index);\n          break;\n\n        case 'material':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMaterial && ext.loadMaterial(index);\n          });\n          break;\n\n        case 'texture':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadTexture && ext.loadTexture(index);\n          });\n          break;\n\n        case 'skin':\n          dependency = this.loadSkin(index);\n          break;\n\n        case 'animation':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadAnimation && ext.loadAnimation(index);\n          });\n          break;\n\n        case 'camera':\n          dependency = this.loadCamera(index);\n          break;\n\n        default:\n          throw new Error('Unknown type: ' + type);\n      }\n\n      this.cache.add(cacheKey, dependency);\n    }\n\n    return dependency;\n  }\n  /**\n   * Requests all dependencies of the specified type asynchronously, with caching.\n   * @param {string} type\n   * @return {Promise<Array<Object>>}\n   */\n\n\n  getDependencies(type) {\n    let dependencies = this.cache.get(type);\n\n    if (!dependencies) {\n      const parser = this;\n      const defs = this.json[type + (type === 'mesh' ? 'es' : 's')] || [];\n      dependencies = Promise.all(defs.map(function (def, index) {\n        return parser.getDependency(type, index);\n      }));\n      this.cache.add(type, dependencies);\n    }\n\n    return dependencies;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n\n\n  loadBuffer(bufferIndex) {\n    const bufferDef = this.json.buffers[bufferIndex];\n    const loader = this.fileLoader;\n\n    if (bufferDef.type && bufferDef.type !== 'arraybuffer') {\n      throw new Error('THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.');\n    } // If present, GLB container is required to be the first buffer.\n\n\n    if (bufferDef.uri === undefined && bufferIndex === 0) {\n      return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);\n    }\n\n    const options = this.options;\n    return new Promise(function (resolve, reject) {\n      loader.load(LoaderUtils.resolveURL(bufferDef.uri, options.path), resolve, undefined, function () {\n        reject(new Error('THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".'));\n      });\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferViewIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n\n\n  loadBufferView(bufferViewIndex) {\n    const bufferViewDef = this.json.bufferViews[bufferViewIndex];\n    return this.getDependency('buffer', bufferViewDef.buffer).then(function (buffer) {\n      const byteLength = bufferViewDef.byteLength || 0;\n      const byteOffset = bufferViewDef.byteOffset || 0;\n      return buffer.slice(byteOffset, byteOffset + byteLength);\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n   * @param {number} accessorIndex\n   * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n   */\n\n\n  loadAccessor(accessorIndex) {\n    const parser = this;\n    const json = this.json;\n    const accessorDef = this.json.accessors[accessorIndex];\n\n    if (accessorDef.bufferView === undefined && accessorDef.sparse === undefined) {\n      // Ignore empty accessors, which may be used to declare runtime\n      // information about attributes coming from another source (e.g. Draco\n      // compression extension).\n      return Promise.resolve(null);\n    }\n\n    const pendingBufferViews = [];\n\n    if (accessorDef.bufferView !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.bufferView));\n    } else {\n      pendingBufferViews.push(null);\n    }\n\n    if (accessorDef.sparse !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.indices.bufferView));\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.values.bufferView));\n    }\n\n    return Promise.all(pendingBufferViews).then(function (bufferViews) {\n      const bufferView = bufferViews[0];\n      const itemSize = WEBGL_TYPE_SIZES[accessorDef.type];\n      const TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType]; // For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\n      const elementBytes = TypedArray.BYTES_PER_ELEMENT;\n      const itemBytes = elementBytes * itemSize;\n      const byteOffset = accessorDef.byteOffset || 0;\n      const byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[accessorDef.bufferView].byteStride : undefined;\n      const normalized = accessorDef.normalized === true;\n      let array, bufferAttribute; // The buffer is not interleaved if the stride is the item size in bytes.\n\n      if (byteStride && byteStride !== itemBytes) {\n        // Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n        // This makes sure that IBA.count reflects accessor.count properly\n        const ibSlice = Math.floor(byteOffset / byteStride);\n        const ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n        let ib = parser.cache.get(ibCacheKey);\n\n        if (!ib) {\n          array = new TypedArray(bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes); // Integer parameters to IB/IBA are in array elements, not bytes.\n\n          ib = new InterleavedBuffer(array, byteStride / elementBytes);\n          parser.cache.add(ibCacheKey, ib);\n        }\n\n        bufferAttribute = new InterleavedBufferAttribute(ib, itemSize, byteOffset % byteStride / elementBytes, normalized);\n      } else {\n        if (bufferView === null) {\n          array = new TypedArray(accessorDef.count * itemSize);\n        } else {\n          array = new TypedArray(bufferView, byteOffset, accessorDef.count * itemSize);\n        }\n\n        bufferAttribute = new BufferAttribute(array, itemSize, normalized);\n      } // https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\n\n      if (accessorDef.sparse !== undefined) {\n        const itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n        const TypedArrayIndices = WEBGL_COMPONENT_TYPES[accessorDef.sparse.indices.componentType];\n        const byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n        const byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n        const sparseIndices = new TypedArrayIndices(bufferViews[1], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices);\n        const sparseValues = new TypedArray(bufferViews[2], byteOffsetValues, accessorDef.sparse.count * itemSize);\n\n        if (bufferView !== null) {\n          // Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n          bufferAttribute = new BufferAttribute(bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized);\n        }\n\n        for (let i = 0, il = sparseIndices.length; i < il; i++) {\n          const index = sparseIndices[i];\n          bufferAttribute.setX(index, sparseValues[i * itemSize]);\n          if (itemSize >= 2) bufferAttribute.setY(index, sparseValues[i * itemSize + 1]);\n          if (itemSize >= 3) bufferAttribute.setZ(index, sparseValues[i * itemSize + 2]);\n          if (itemSize >= 4) bufferAttribute.setW(index, sparseValues[i * itemSize + 3]);\n          if (itemSize >= 5) throw new Error('THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.');\n        }\n      }\n\n      return bufferAttribute;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n   * @param {number} textureIndex\n   * @return {Promise<THREE.Texture>}\n   */\n\n\n  loadTexture(textureIndex) {\n    const json = this.json;\n    const options = this.options;\n    const textureDef = json.textures[textureIndex];\n    const sourceIndex = textureDef.source;\n    const sourceDef = json.images[sourceIndex];\n    let loader = this.textureLoader;\n\n    if (sourceDef.uri) {\n      const handler = options.manager.getHandler(sourceDef.uri);\n      if (handler !== null) loader = handler;\n    }\n\n    return this.loadTextureImage(textureIndex, sourceIndex, loader);\n  }\n\n  loadTextureImage(textureIndex, sourceIndex, loader) {\n    const parser = this;\n    const json = this.json;\n    const textureDef = json.textures[textureIndex];\n    const sourceDef = json.images[sourceIndex];\n    const cacheKey = (sourceDef.uri || sourceDef.bufferView) + ':' + textureDef.sampler;\n\n    if (this.textureCache[cacheKey]) {\n      // See https://github.com/mrdoob/three.js/issues/21559.\n      return this.textureCache[cacheKey];\n    }\n\n    const promise = this.loadImageSource(sourceIndex, loader).then(function (texture) {\n      texture.flipY = false;\n      if (textureDef.name) texture.name = textureDef.name;\n      const samplers = json.samplers || {};\n      const sampler = samplers[textureDef.sampler] || {};\n      texture.magFilter = WEBGL_FILTERS[sampler.magFilter] || LinearFilter;\n      texture.minFilter = WEBGL_FILTERS[sampler.minFilter] || LinearMipmapLinearFilter;\n      texture.wrapS = WEBGL_WRAPPINGS[sampler.wrapS] || RepeatWrapping;\n      texture.wrapT = WEBGL_WRAPPINGS[sampler.wrapT] || RepeatWrapping;\n      parser.associations.set(texture, {\n        textures: textureIndex\n      });\n      return texture;\n    }).catch(function () {\n      return null;\n    });\n    this.textureCache[cacheKey] = promise;\n    return promise;\n  }\n\n  loadImageSource(sourceIndex, loader) {\n    const parser = this;\n    const json = this.json;\n    const options = this.options;\n\n    if (this.sourceCache[sourceIndex] !== undefined) {\n      return this.sourceCache[sourceIndex].then(texture => texture.clone());\n    }\n\n    const sourceDef = json.images[sourceIndex];\n    const URL = self.URL || self.webkitURL;\n    let sourceURI = sourceDef.uri || '';\n    let isObjectURL = false;\n\n    if (sourceDef.bufferView !== undefined) {\n      // Load binary image data from bufferView, if provided.\n      sourceURI = parser.getDependency('bufferView', sourceDef.bufferView).then(function (bufferView) {\n        isObjectURL = true;\n        const blob = new Blob([bufferView], {\n          type: sourceDef.mimeType\n        });\n        sourceURI = URL.createObjectURL(blob);\n        return sourceURI;\n      });\n    } else if (sourceDef.uri === undefined) {\n      throw new Error('THREE.GLTFLoader: Image ' + sourceIndex + ' is missing URI and bufferView');\n    }\n\n    const promise = Promise.resolve(sourceURI).then(function (sourceURI) {\n      return new Promise(function (resolve, reject) {\n        let onLoad = resolve;\n\n        if (loader.isImageBitmapLoader === true) {\n          onLoad = function (imageBitmap) {\n            const texture = new Texture(imageBitmap);\n            texture.needsUpdate = true;\n            resolve(texture);\n          };\n        }\n\n        loader.load(LoaderUtils.resolveURL(sourceURI, options.path), onLoad, undefined, reject);\n      });\n    }).then(function (texture) {\n      // Clean up resources and configure Texture.\n      if (isObjectURL === true) {\n        URL.revokeObjectURL(sourceURI);\n      }\n\n      texture.userData.mimeType = sourceDef.mimeType || getImageURIMimeType(sourceDef.uri);\n      return texture;\n    }).catch(function (error) {\n      console.error(\"THREE.GLTFLoader: Couldn't load texture\", sourceURI);\n      throw error;\n    });\n    this.sourceCache[sourceIndex] = promise;\n    return promise;\n  }\n  /**\n   * Asynchronously assigns a texture to the given material parameters.\n   * @param {Object} materialParams\n   * @param {string} mapName\n   * @param {Object} mapDef\n   * @return {Promise<Texture>}\n   */\n\n\n  assignTexture(materialParams, mapName, mapDef, encoding) {\n    const parser = this;\n    return this.getDependency('texture', mapDef.index).then(function (texture) {\n      // Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n      // However, we will copy UV set 0 to UV set 1 on demand for aoMap\n      if (mapDef.texCoord !== undefined && mapDef.texCoord != 0 && !(mapName === 'aoMap' && mapDef.texCoord == 1)) {\n        console.warn('THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.');\n      }\n\n      if (parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]) {\n        const transform = mapDef.extensions !== undefined ? mapDef.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] : undefined;\n\n        if (transform) {\n          const gltfReference = parser.associations.get(texture);\n          texture = parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(texture, transform);\n          parser.associations.set(texture, gltfReference);\n        }\n      }\n\n      if (encoding !== undefined) {\n        texture.encoding = encoding;\n      }\n\n      materialParams[mapName] = texture;\n      return texture;\n    });\n  }\n  /**\n   * Assigns final material to a Mesh, Line, or Points instance. The instance\n   * already has a material (generated from the glTF material options alone)\n   * but reuse of the same glTF material may require multiple threejs materials\n   * to accommodate different primitive types, defines, etc. New materials will\n   * be created if necessary, and reused from a cache.\n   * @param  {Object3D} mesh Mesh, Line, or Points instance.\n   */\n\n\n  assignFinalMaterial(mesh) {\n    const geometry = mesh.geometry;\n    let material = mesh.material;\n    const useDerivativeTangents = geometry.attributes.tangent === undefined;\n    const useVertexColors = geometry.attributes.color !== undefined;\n    const useFlatShading = geometry.attributes.normal === undefined;\n\n    if (mesh.isPoints) {\n      const cacheKey = 'PointsMaterial:' + material.uuid;\n      let pointsMaterial = this.cache.get(cacheKey);\n\n      if (!pointsMaterial) {\n        pointsMaterial = new PointsMaterial();\n        Material.prototype.copy.call(pointsMaterial, material);\n        pointsMaterial.color.copy(material.color);\n        pointsMaterial.map = material.map;\n        pointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n        this.cache.add(cacheKey, pointsMaterial);\n      }\n\n      material = pointsMaterial;\n    } else if (mesh.isLine) {\n      const cacheKey = 'LineBasicMaterial:' + material.uuid;\n      let lineMaterial = this.cache.get(cacheKey);\n\n      if (!lineMaterial) {\n        lineMaterial = new LineBasicMaterial();\n        Material.prototype.copy.call(lineMaterial, material);\n        lineMaterial.color.copy(material.color);\n        this.cache.add(cacheKey, lineMaterial);\n      }\n\n      material = lineMaterial;\n    } // Clone the material if it will be modified\n\n\n    if (useDerivativeTangents || useVertexColors || useFlatShading) {\n      let cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n      if (material.isGLTFSpecularGlossinessMaterial) cacheKey += 'specular-glossiness:';\n      if (useDerivativeTangents) cacheKey += 'derivative-tangents:';\n      if (useVertexColors) cacheKey += 'vertex-colors:';\n      if (useFlatShading) cacheKey += 'flat-shading:';\n      let cachedMaterial = this.cache.get(cacheKey);\n\n      if (!cachedMaterial) {\n        cachedMaterial = material.clone();\n        if (useVertexColors) cachedMaterial.vertexColors = true;\n        if (useFlatShading) cachedMaterial.flatShading = true;\n\n        if (useDerivativeTangents) {\n          // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n          if (cachedMaterial.normalScale) cachedMaterial.normalScale.y *= -1;\n          if (cachedMaterial.clearcoatNormalScale) cachedMaterial.clearcoatNormalScale.y *= -1;\n        }\n\n        this.cache.add(cacheKey, cachedMaterial);\n        this.associations.set(cachedMaterial, this.associations.get(material));\n      }\n\n      material = cachedMaterial;\n    } // workarounds for mesh and geometry\n\n\n    if (material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined) {\n      geometry.setAttribute('uv2', geometry.attributes.uv);\n    }\n\n    mesh.material = material;\n  }\n\n  getMaterialType() {\n    return MeshStandardMaterial;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n   * @param {number} materialIndex\n   * @return {Promise<Material>}\n   */\n\n\n  loadMaterial(materialIndex) {\n    const parser = this;\n    const json = this.json;\n    const extensions = this.extensions;\n    const materialDef = json.materials[materialIndex];\n    let materialType;\n    const materialParams = {};\n    const materialExtensions = materialDef.extensions || {};\n    const pending = [];\n\n    if (materialExtensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]) {\n      const sgExtension = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];\n      materialType = sgExtension.getMaterialType();\n      pending.push(sgExtension.extendParams(materialParams, materialDef, parser));\n    } else if (materialExtensions[EXTENSIONS.KHR_MATERIALS_UNLIT]) {\n      const kmuExtension = extensions[EXTENSIONS.KHR_MATERIALS_UNLIT];\n      materialType = kmuExtension.getMaterialType();\n      pending.push(kmuExtension.extendParams(materialParams, materialDef, parser));\n    } else {\n      // Specification:\n      // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n      const metallicRoughness = materialDef.pbrMetallicRoughness || {};\n      materialParams.color = new Color(1.0, 1.0, 1.0);\n      materialParams.opacity = 1.0;\n\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        const array = metallicRoughness.baseColorFactor;\n        materialParams.color.fromArray(array);\n        materialParams.opacity = array[3];\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture, sRGBEncoding));\n      }\n\n      materialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n      materialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n      if (metallicRoughness.metallicRoughnessTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture));\n        pending.push(parser.assignTexture(materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture));\n      }\n\n      materialType = this._invokeOne(function (ext) {\n        return ext.getMaterialType && ext.getMaterialType(materialIndex);\n      });\n      pending.push(Promise.all(this._invokeAll(function (ext) {\n        return ext.extendMaterialParams && ext.extendMaterialParams(materialIndex, materialParams);\n      })));\n    }\n\n    if (materialDef.doubleSided === true) {\n      materialParams.side = DoubleSide;\n    }\n\n    const alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n    if (alphaMode === ALPHA_MODES.BLEND) {\n      materialParams.transparent = true; // See: https://github.com/mrdoob/three.js/issues/17706\n\n      materialParams.depthWrite = false;\n    } else {\n      materialParams.transparent = false;\n\n      if (alphaMode === ALPHA_MODES.MASK) {\n        materialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n      }\n    }\n\n    if (materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'normalMap', materialDef.normalTexture));\n      materialParams.normalScale = new Vector2(1, 1);\n\n      if (materialDef.normalTexture.scale !== undefined) {\n        const scale = materialDef.normalTexture.scale;\n        materialParams.normalScale.set(scale, scale);\n      }\n    }\n\n    if (materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'aoMap', materialDef.occlusionTexture));\n\n      if (materialDef.occlusionTexture.strength !== undefined) {\n        materialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n      }\n    }\n\n    if (materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial) {\n      materialParams.emissive = new Color().fromArray(materialDef.emissiveFactor);\n    }\n\n    if (materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'emissiveMap', materialDef.emissiveTexture, sRGBEncoding));\n    }\n\n    return Promise.all(pending).then(function () {\n      let material;\n\n      if (materialType === GLTFMeshStandardSGMaterial) {\n        material = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(materialParams);\n      } else {\n        material = new materialType(materialParams);\n      }\n\n      if (materialDef.name) material.name = materialDef.name;\n      assignExtrasToUserData(material, materialDef);\n      parser.associations.set(material, {\n        materials: materialIndex\n      });\n      if (materialDef.extensions) addUnknownExtensionsToUserData(extensions, material, materialDef);\n      return material;\n    });\n  }\n  /** When Object3D instances are targeted by animation, they need unique names. */\n\n\n  createUniqueName(originalName) {\n    const sanitizedName = PropertyBinding.sanitizeNodeName(originalName || '');\n    let name = sanitizedName;\n\n    for (let i = 1; this.nodeNamesUsed[name]; ++i) {\n      name = sanitizedName + '_' + i;\n    }\n\n    this.nodeNamesUsed[name] = true;\n    return name;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n   *\n   * Creates BufferGeometries from primitives.\n   *\n   * @param {Array<GLTF.Primitive>} primitives\n   * @return {Promise<Array<BufferGeometry>>}\n   */\n\n\n  loadGeometries(primitives) {\n    const parser = this;\n    const extensions = this.extensions;\n    const cache = this.primitiveCache;\n\n    function createDracoPrimitive(primitive) {\n      return extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(primitive, parser).then(function (geometry) {\n        return addPrimitiveAttributes(geometry, primitive, parser);\n      });\n    }\n\n    const pending = [];\n\n    for (let i = 0, il = primitives.length; i < il; i++) {\n      const primitive = primitives[i];\n      const cacheKey = createPrimitiveKey(primitive); // See if we've already created this geometry\n\n      const cached = cache[cacheKey];\n\n      if (cached) {\n        // Use the cached geometry if it exists\n        pending.push(cached.promise);\n      } else {\n        let geometryPromise;\n\n        if (primitive.extensions && primitive.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]) {\n          // Use DRACO geometry if available\n          geometryPromise = createDracoPrimitive(primitive);\n        } else {\n          // Otherwise create a new geometry\n          geometryPromise = addPrimitiveAttributes(new BufferGeometry(), primitive, parser);\n        } // Cache this geometry\n\n\n        cache[cacheKey] = {\n          primitive: primitive,\n          promise: geometryPromise\n        };\n        pending.push(geometryPromise);\n      }\n    }\n\n    return Promise.all(pending);\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n   * @param {number} meshIndex\n   * @return {Promise<Group|Mesh|SkinnedMesh>}\n   */\n\n\n  loadMesh(meshIndex) {\n    const parser = this;\n    const json = this.json;\n    const extensions = this.extensions;\n    const meshDef = json.meshes[meshIndex];\n    const primitives = meshDef.primitives;\n    const pending = [];\n\n    for (let i = 0, il = primitives.length; i < il; i++) {\n      const material = primitives[i].material === undefined ? createDefaultMaterial(this.cache) : this.getDependency('material', primitives[i].material);\n      pending.push(material);\n    }\n\n    pending.push(parser.loadGeometries(primitives));\n    return Promise.all(pending).then(function (results) {\n      const materials = results.slice(0, results.length - 1);\n      const geometries = results[results.length - 1];\n      const meshes = [];\n\n      for (let i = 0, il = geometries.length; i < il; i++) {\n        const geometry = geometries[i];\n        const primitive = primitives[i]; // 1. create Mesh\n\n        let mesh;\n        const material = materials[i];\n\n        if (primitive.mode === WEBGL_CONSTANTS.TRIANGLES || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN || primitive.mode === undefined) {\n          // .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n          mesh = meshDef.isSkinnedMesh === true ? new SkinnedMesh(geometry, material) : new Mesh(geometry, material);\n\n          if (mesh.isSkinnedMesh === true && !mesh.geometry.attributes.skinWeight.normalized) {\n            // we normalize floating point skin weight array to fix malformed assets (see #15319)\n            // it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n            mesh.normalizeSkinWeights();\n          }\n\n          if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleStripDrawMode);\n          } else if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleFanDrawMode);\n          }\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINES) {\n          mesh = new LineSegments(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_STRIP) {\n          mesh = new Line(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_LOOP) {\n          mesh = new LineLoop(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.POINTS) {\n          mesh = new Points(geometry, material);\n        } else {\n          throw new Error('THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode);\n        }\n\n        if (Object.keys(mesh.geometry.morphAttributes).length > 0) {\n          updateMorphTargets(mesh, meshDef);\n        }\n\n        mesh.name = parser.createUniqueName(meshDef.name || 'mesh_' + meshIndex);\n        assignExtrasToUserData(mesh, meshDef);\n        if (primitive.extensions) addUnknownExtensionsToUserData(extensions, mesh, primitive);\n        parser.assignFinalMaterial(mesh);\n        meshes.push(mesh);\n      }\n\n      for (let i = 0, il = meshes.length; i < il; i++) {\n        parser.associations.set(meshes[i], {\n          meshes: meshIndex,\n          primitives: i\n        });\n      }\n\n      if (meshes.length === 1) {\n        return meshes[0];\n      }\n\n      const group = new Group();\n      parser.associations.set(group, {\n        meshes: meshIndex\n      });\n\n      for (let i = 0, il = meshes.length; i < il; i++) {\n        group.add(meshes[i]);\n      }\n\n      return group;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n   * @param {number} cameraIndex\n   * @return {Promise<THREE.Camera>}\n   */\n\n\n  loadCamera(cameraIndex) {\n    let camera;\n    const cameraDef = this.json.cameras[cameraIndex];\n    const params = cameraDef[cameraDef.type];\n\n    if (!params) {\n      console.warn('THREE.GLTFLoader: Missing camera parameters.');\n      return;\n    }\n\n    if (cameraDef.type === 'perspective') {\n      camera = new PerspectiveCamera(MathUtils.radToDeg(params.yfov), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6);\n    } else if (cameraDef.type === 'orthographic') {\n      camera = new OrthographicCamera(-params.xmag, params.xmag, params.ymag, -params.ymag, params.znear, params.zfar);\n    }\n\n    if (cameraDef.name) camera.name = this.createUniqueName(cameraDef.name);\n    assignExtrasToUserData(camera, cameraDef);\n    return Promise.resolve(camera);\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n   * @param {number} skinIndex\n   * @return {Promise<Object>}\n   */\n\n\n  loadSkin(skinIndex) {\n    const skinDef = this.json.skins[skinIndex];\n    const skinEntry = {\n      joints: skinDef.joints\n    };\n\n    if (skinDef.inverseBindMatrices === undefined) {\n      return Promise.resolve(skinEntry);\n    }\n\n    return this.getDependency('accessor', skinDef.inverseBindMatrices).then(function (accessor) {\n      skinEntry.inverseBindMatrices = accessor;\n      return skinEntry;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n   * @param {number} animationIndex\n   * @return {Promise<AnimationClip>}\n   */\n\n\n  loadAnimation(animationIndex) {\n    const json = this.json;\n    const animationDef = json.animations[animationIndex];\n    const pendingNodes = [];\n    const pendingInputAccessors = [];\n    const pendingOutputAccessors = [];\n    const pendingSamplers = [];\n    const pendingTargets = [];\n\n    for (let i = 0, il = animationDef.channels.length; i < il; i++) {\n      const channel = animationDef.channels[i];\n      const sampler = animationDef.samplers[channel.sampler];\n      const target = channel.target;\n      const name = target.node;\n      const input = animationDef.parameters !== undefined ? animationDef.parameters[sampler.input] : sampler.input;\n      const output = animationDef.parameters !== undefined ? animationDef.parameters[sampler.output] : sampler.output;\n      pendingNodes.push(this.getDependency('node', name));\n      pendingInputAccessors.push(this.getDependency('accessor', input));\n      pendingOutputAccessors.push(this.getDependency('accessor', output));\n      pendingSamplers.push(sampler);\n      pendingTargets.push(target);\n    }\n\n    return Promise.all([Promise.all(pendingNodes), Promise.all(pendingInputAccessors), Promise.all(pendingOutputAccessors), Promise.all(pendingSamplers), Promise.all(pendingTargets)]).then(function (dependencies) {\n      const nodes = dependencies[0];\n      const inputAccessors = dependencies[1];\n      const outputAccessors = dependencies[2];\n      const samplers = dependencies[3];\n      const targets = dependencies[4];\n      const tracks = [];\n\n      for (let i = 0, il = nodes.length; i < il; i++) {\n        const node = nodes[i];\n        const inputAccessor = inputAccessors[i];\n        const outputAccessor = outputAccessors[i];\n        const sampler = samplers[i];\n        const target = targets[i];\n        if (node === undefined) continue;\n        node.updateMatrix();\n        let TypedKeyframeTrack;\n\n        switch (PATH_PROPERTIES[target.path]) {\n          case PATH_PROPERTIES.weights:\n            TypedKeyframeTrack = NumberKeyframeTrack;\n            break;\n\n          case PATH_PROPERTIES.rotation:\n            TypedKeyframeTrack = QuaternionKeyframeTrack;\n            break;\n\n          case PATH_PROPERTIES.position:\n          case PATH_PROPERTIES.scale:\n          default:\n            TypedKeyframeTrack = VectorKeyframeTrack;\n            break;\n        }\n\n        const targetName = node.name ? node.name : node.uuid;\n        const interpolation = sampler.interpolation !== undefined ? INTERPOLATION[sampler.interpolation] : InterpolateLinear;\n        const targetNames = [];\n\n        if (PATH_PROPERTIES[target.path] === PATH_PROPERTIES.weights) {\n          node.traverse(function (object) {\n            if (object.morphTargetInfluences) {\n              targetNames.push(object.name ? object.name : object.uuid);\n            }\n          });\n        } else {\n          targetNames.push(targetName);\n        }\n\n        let outputArray = outputAccessor.array;\n\n        if (outputAccessor.normalized) {\n          const scale = getNormalizedComponentScale(outputArray.constructor);\n          const scaled = new Float32Array(outputArray.length);\n\n          for (let j = 0, jl = outputArray.length; j < jl; j++) {\n            scaled[j] = outputArray[j] * scale;\n          }\n\n          outputArray = scaled;\n        }\n\n        for (let j = 0, jl = targetNames.length; j < jl; j++) {\n          const track = new TypedKeyframeTrack(targetNames[j] + '.' + PATH_PROPERTIES[target.path], inputAccessor.array, outputArray, interpolation); // Override interpolation with custom factory method.\n\n          if (sampler.interpolation === 'CUBICSPLINE') {\n            track.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline(result) {\n              // A CUBICSPLINE keyframe in glTF has three output values for each input value,\n              // representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n              // must be divided by three to get the interpolant's sampleSize argument.\n              const interpolantType = this instanceof QuaternionKeyframeTrack ? GLTFCubicSplineQuaternionInterpolant : GLTFCubicSplineInterpolant;\n              return new interpolantType(this.times, this.values, this.getValueSize() / 3, result);\n            }; // Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\n\n            track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n          }\n\n          tracks.push(track);\n        }\n      }\n\n      const name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n      return new AnimationClip(name, undefined, tracks);\n    });\n  }\n\n  createNodeMesh(nodeIndex) {\n    const json = this.json;\n    const parser = this;\n    const nodeDef = json.nodes[nodeIndex];\n    if (nodeDef.mesh === undefined) return null;\n    return parser.getDependency('mesh', nodeDef.mesh).then(function (mesh) {\n      const node = parser._getNodeRef(parser.meshCache, nodeDef.mesh, mesh); // if weights are provided on the node, override weights on the mesh.\n\n\n      if (nodeDef.weights !== undefined) {\n        node.traverse(function (o) {\n          if (!o.isMesh) return;\n\n          for (let i = 0, il = nodeDef.weights.length; i < il; i++) {\n            o.morphTargetInfluences[i] = nodeDef.weights[i];\n          }\n        });\n      }\n\n      return node;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n   * @param {number} nodeIndex\n   * @return {Promise<Object3D>}\n   */\n\n\n  loadNode(nodeIndex) {\n    const json = this.json;\n    const extensions = this.extensions;\n    const parser = this;\n    const nodeDef = json.nodes[nodeIndex]; // reserve node's name before its dependencies, so the root has the intended name.\n\n    const nodeName = nodeDef.name ? parser.createUniqueName(nodeDef.name) : '';\n    return function () {\n      const pending = [];\n\n      const meshPromise = parser._invokeOne(function (ext) {\n        return ext.createNodeMesh && ext.createNodeMesh(nodeIndex);\n      });\n\n      if (meshPromise) {\n        pending.push(meshPromise);\n      }\n\n      if (nodeDef.camera !== undefined) {\n        pending.push(parser.getDependency('camera', nodeDef.camera).then(function (camera) {\n          return parser._getNodeRef(parser.cameraCache, nodeDef.camera, camera);\n        }));\n      }\n\n      parser._invokeAll(function (ext) {\n        return ext.createNodeAttachment && ext.createNodeAttachment(nodeIndex);\n      }).forEach(function (promise) {\n        pending.push(promise);\n      });\n\n      return Promise.all(pending);\n    }().then(function (objects) {\n      let node; // .isBone isn't in glTF spec. See ._markDefs\n\n      if (nodeDef.isBone === true) {\n        node = new Bone();\n      } else if (objects.length > 1) {\n        node = new Group();\n      } else if (objects.length === 1) {\n        node = objects[0];\n      } else {\n        node = new Object3D();\n      }\n\n      if (node !== objects[0]) {\n        for (let i = 0, il = objects.length; i < il; i++) {\n          node.add(objects[i]);\n        }\n      }\n\n      if (nodeDef.name) {\n        node.userData.name = nodeDef.name;\n        node.name = nodeName;\n      }\n\n      assignExtrasToUserData(node, nodeDef);\n      if (nodeDef.extensions) addUnknownExtensionsToUserData(extensions, node, nodeDef);\n\n      if (nodeDef.matrix !== undefined) {\n        const matrix = new Matrix4();\n        matrix.fromArray(nodeDef.matrix);\n        node.applyMatrix4(matrix);\n      } else {\n        if (nodeDef.translation !== undefined) {\n          node.position.fromArray(nodeDef.translation);\n        }\n\n        if (nodeDef.rotation !== undefined) {\n          node.quaternion.fromArray(nodeDef.rotation);\n        }\n\n        if (nodeDef.scale !== undefined) {\n          node.scale.fromArray(nodeDef.scale);\n        }\n      }\n\n      if (!parser.associations.has(node)) {\n        parser.associations.set(node, {});\n      }\n\n      parser.associations.get(node).nodes = nodeIndex;\n      return node;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n   * @param {number} sceneIndex\n   * @return {Promise<Group>}\n   */\n\n\n  loadScene(sceneIndex) {\n    const json = this.json;\n    const extensions = this.extensions;\n    const sceneDef = this.json.scenes[sceneIndex];\n    const parser = this; // Loader returns Group, not Scene.\n    // See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\n    const scene = new Group();\n    if (sceneDef.name) scene.name = parser.createUniqueName(sceneDef.name);\n    assignExtrasToUserData(scene, sceneDef);\n    if (sceneDef.extensions) addUnknownExtensionsToUserData(extensions, scene, sceneDef);\n    const nodeIds = sceneDef.nodes || [];\n    const pending = [];\n\n    for (let i = 0, il = nodeIds.length; i < il; i++) {\n      pending.push(buildNodeHierarchy(nodeIds[i], scene, json, parser));\n    }\n\n    return Promise.all(pending).then(function () {\n      // Removes dangling associations, associations that reference a node that\n      // didn't make it into the scene.\n      const reduceAssociations = node => {\n        const reducedAssociations = new Map();\n\n        for (const [key, value] of parser.associations) {\n          if (key instanceof Material || key instanceof Texture) {\n            reducedAssociations.set(key, value);\n          }\n        }\n\n        node.traverse(node => {\n          const mappings = parser.associations.get(node);\n\n          if (mappings != null) {\n            reducedAssociations.set(node, mappings);\n          }\n        });\n        return reducedAssociations;\n      };\n\n      parser.associations = reduceAssociations(scene);\n      return scene;\n    });\n  }\n\n}\n\nfunction buildNodeHierarchy(nodeId, parentObject, json, parser) {\n  const nodeDef = json.nodes[nodeId];\n  return parser.getDependency('node', nodeId).then(function (node) {\n    if (nodeDef.skin === undefined) return node; // build skeleton here as well\n\n    let skinEntry;\n    return parser.getDependency('skin', nodeDef.skin).then(function (skin) {\n      skinEntry = skin;\n      const pendingJoints = [];\n\n      for (let i = 0, il = skinEntry.joints.length; i < il; i++) {\n        pendingJoints.push(parser.getDependency('node', skinEntry.joints[i]));\n      }\n\n      return Promise.all(pendingJoints);\n    }).then(function (jointNodes) {\n      node.traverse(function (mesh) {\n        if (!mesh.isMesh) return;\n        const bones = [];\n        const boneInverses = [];\n\n        for (let j = 0, jl = jointNodes.length; j < jl; j++) {\n          const jointNode = jointNodes[j];\n\n          if (jointNode) {\n            bones.push(jointNode);\n            const mat = new Matrix4();\n\n            if (skinEntry.inverseBindMatrices !== undefined) {\n              mat.fromArray(skinEntry.inverseBindMatrices.array, j * 16);\n            }\n\n            boneInverses.push(mat);\n          } else {\n            console.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[j]);\n          }\n        }\n\n        mesh.bind(new Skeleton(bones, boneInverses), mesh.matrixWorld);\n      });\n      return node;\n    });\n  }).then(function (node) {\n    // build node hierachy\n    parentObject.add(node);\n    const pending = [];\n\n    if (nodeDef.children) {\n      const children = nodeDef.children;\n\n      for (let i = 0, il = children.length; i < il; i++) {\n        const child = children[i];\n        pending.push(buildNodeHierarchy(child, node, json, parser));\n      }\n    }\n\n    return Promise.all(pending);\n  });\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\n\n\nfunction computeBounds(geometry, primitiveDef, parser) {\n  const attributes = primitiveDef.attributes;\n  const box = new Box3();\n\n  if (attributes.POSITION !== undefined) {\n    const accessor = parser.json.accessors[attributes.POSITION];\n    const min = accessor.min;\n    const max = accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n    if (min !== undefined && max !== undefined) {\n      box.set(new Vector3(min[0], min[1], min[2]), new Vector3(max[0], max[1], max[2]));\n\n      if (accessor.normalized) {\n        const boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType]);\n        box.min.multiplyScalar(boxScale);\n        box.max.multiplyScalar(boxScale);\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n      return;\n    }\n  } else {\n    return;\n  }\n\n  const targets = primitiveDef.targets;\n\n  if (targets !== undefined) {\n    const maxDisplacement = new Vector3();\n    const vector = new Vector3();\n\n    for (let i = 0, il = targets.length; i < il; i++) {\n      const target = targets[i];\n\n      if (target.POSITION !== undefined) {\n        const accessor = parser.json.accessors[target.POSITION];\n        const min = accessor.min;\n        const max = accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n        if (min !== undefined && max !== undefined) {\n          // we need to get max of absolute components because target weight is [-1,1]\n          vector.setX(Math.max(Math.abs(min[0]), Math.abs(max[0])));\n          vector.setY(Math.max(Math.abs(min[1]), Math.abs(max[1])));\n          vector.setZ(Math.max(Math.abs(min[2]), Math.abs(max[2])));\n\n          if (accessor.normalized) {\n            const boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType]);\n            vector.multiplyScalar(boxScale);\n          } // Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n          // to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n          // are used to implement key-frame animations and as such only two are active at a time - this results in very large\n          // boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\n\n          maxDisplacement.max(vector);\n        } else {\n          console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n        }\n      }\n    } // As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\n\n    box.expandByVector(maxDisplacement);\n  }\n\n  geometry.boundingBox = box;\n  const sphere = new Sphere();\n  box.getCenter(sphere.center);\n  sphere.radius = box.min.distanceTo(box.max) / 2;\n  geometry.boundingSphere = sphere;\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\n\n\nfunction addPrimitiveAttributes(geometry, primitiveDef, parser) {\n  const attributes = primitiveDef.attributes;\n  const pending = [];\n\n  function assignAttributeAccessor(accessorIndex, attributeName) {\n    return parser.getDependency('accessor', accessorIndex).then(function (accessor) {\n      geometry.setAttribute(attributeName, accessor);\n    });\n  }\n\n  for (const gltfAttributeName in attributes) {\n    const threeAttributeName = ATTRIBUTES[gltfAttributeName] || gltfAttributeName.toLowerCase(); // Skip attributes already provided by e.g. Draco extension.\n\n    if (threeAttributeName in geometry.attributes) continue;\n    pending.push(assignAttributeAccessor(attributes[gltfAttributeName], threeAttributeName));\n  }\n\n  if (primitiveDef.indices !== undefined && !geometry.index) {\n    const accessor = parser.getDependency('accessor', primitiveDef.indices).then(function (accessor) {\n      geometry.setIndex(accessor);\n    });\n    pending.push(accessor);\n  }\n\n  assignExtrasToUserData(geometry, primitiveDef);\n  computeBounds(geometry, primitiveDef, parser);\n  return Promise.all(pending).then(function () {\n    return primitiveDef.targets !== undefined ? addMorphTargets(geometry, primitiveDef.targets, parser) : geometry;\n  });\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {Number} drawMode\n * @return {BufferGeometry}\n */\n\n\nfunction toTrianglesDrawMode(geometry, drawMode) {\n  let index = geometry.getIndex(); // generate index if not present\n\n  if (index === null) {\n    const indices = [];\n    const position = geometry.getAttribute('position');\n\n    if (position !== undefined) {\n      for (let i = 0; i < position.count; i++) {\n        indices.push(i);\n      }\n\n      geometry.setIndex(indices);\n      index = geometry.getIndex();\n    } else {\n      console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.');\n      return geometry;\n    }\n  } //\n\n\n  const numberOfTriangles = index.count - 2;\n  const newIndices = [];\n\n  if (drawMode === TriangleFanDrawMode) {\n    // gl.TRIANGLE_FAN\n    for (let i = 1; i <= numberOfTriangles; i++) {\n      newIndices.push(index.getX(0));\n      newIndices.push(index.getX(i));\n      newIndices.push(index.getX(i + 1));\n    }\n  } else {\n    // gl.TRIANGLE_STRIP\n    for (let i = 0; i < numberOfTriangles; i++) {\n      if (i % 2 === 0) {\n        newIndices.push(index.getX(i));\n        newIndices.push(index.getX(i + 1));\n        newIndices.push(index.getX(i + 2));\n      } else {\n        newIndices.push(index.getX(i + 2));\n        newIndices.push(index.getX(i + 1));\n        newIndices.push(index.getX(i));\n      }\n    }\n  }\n\n  if (newIndices.length / 3 !== numberOfTriangles) {\n    console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.');\n  } // build final geometry\n\n\n  const newGeometry = geometry.clone();\n  newGeometry.setIndex(newIndices);\n  return newGeometry;\n}\n\nexport { GLTFLoader };\n","import { GLTFLoader, DRACOLoader, MeshoptDecoder } from 'three-stdlib';\nimport { useLoader } from '@react-three/fiber';\n\n// @ts-ignore\nlet dracoLoader = null;\n\nfunction extensions(useDraco, useMeshopt, extendLoader) {\n  return loader => {\n    if (extendLoader) {\n      extendLoader(loader);\n    }\n\n    if (useDraco) {\n      if (!dracoLoader) {\n        dracoLoader = new DRACOLoader();\n      }\n\n      dracoLoader.setDecoderPath(typeof useDraco === 'string' ? useDraco : 'https://www.gstatic.com/draco/versioned/decoders/1.5.5/');\n      loader.setDRACOLoader(dracoLoader);\n    }\n\n    if (useMeshopt) {\n      loader.setMeshoptDecoder(typeof MeshoptDecoder === 'function' ? MeshoptDecoder() : MeshoptDecoder);\n    }\n  };\n}\n\nfunction useGLTF(path, useDraco = true, useMeshOpt = true, extendLoader) {\n  const gltf = useLoader(GLTFLoader, path, extensions(useDraco, useMeshOpt, extendLoader));\n  return gltf;\n}\n\nuseGLTF.preload = (path, useDraco = true, useMeshOpt = true, extendLoader) => useLoader.preload(GLTFLoader, path, extensions(useDraco, useMeshOpt, extendLoader));\n\nuseGLTF.clear = input => useLoader.clear(GLTFLoader, input);\n\nexport { useGLTF };\n","let updateQueue = makeQueue();\nconst raf = fn => schedule(fn, updateQueue);\nlet writeQueue = makeQueue();\n\nraf.write = fn => schedule(fn, writeQueue);\n\nlet onStartQueue = makeQueue();\n\nraf.onStart = fn => schedule(fn, onStartQueue);\n\nlet onFrameQueue = makeQueue();\n\nraf.onFrame = fn => schedule(fn, onFrameQueue);\n\nlet onFinishQueue = makeQueue();\n\nraf.onFinish = fn => schedule(fn, onFinishQueue);\n\nlet timeouts = [];\n\nraf.setTimeout = (handler, ms) => {\n  let time = raf.now() + ms;\n\n  let cancel = () => {\n    let i = timeouts.findIndex(t => t.cancel == cancel);\n    if (~i) timeouts.splice(i, 1);\n    pendingCount -= ~i ? 1 : 0;\n  };\n\n  let timeout = {\n    time,\n    handler,\n    cancel\n  };\n  timeouts.splice(findTimeout(time), 0, timeout);\n  pendingCount += 1;\n  start();\n  return timeout;\n};\n\nlet findTimeout = time => ~(~timeouts.findIndex(t => t.time > time) || ~timeouts.length);\n\nraf.cancel = fn => {\n  onStartQueue.delete(fn);\n  onFrameQueue.delete(fn);\n  onFinishQueue.delete(fn);\n  updateQueue.delete(fn);\n  writeQueue.delete(fn);\n};\n\nraf.sync = fn => {\n  sync = true;\n  raf.batchedUpdates(fn);\n  sync = false;\n};\n\nraf.throttle = fn => {\n  let lastArgs;\n\n  function queuedFn() {\n    try {\n      fn(...lastArgs);\n    } finally {\n      lastArgs = null;\n    }\n  }\n\n  function throttled(...args) {\n    lastArgs = args;\n    raf.onStart(queuedFn);\n  }\n\n  throttled.handler = fn;\n\n  throttled.cancel = () => {\n    onStartQueue.delete(queuedFn);\n    lastArgs = null;\n  };\n\n  return throttled;\n};\n\nlet nativeRaf = typeof window != 'undefined' ? window.requestAnimationFrame : () => {};\n\nraf.use = impl => nativeRaf = impl;\n\nraf.now = typeof performance != 'undefined' ? () => performance.now() : Date.now;\n\nraf.batchedUpdates = fn => fn();\n\nraf.catch = console.error;\nraf.frameLoop = 'always';\n\nraf.advance = () => {\n  if (raf.frameLoop !== 'demand') {\n    console.warn('Cannot call the manual advancement of rafz whilst frameLoop is not set as demand');\n  } else {\n    update();\n  }\n};\n\nlet ts = -1;\nlet pendingCount = 0;\nlet sync = false;\n\nfunction schedule(fn, queue) {\n  if (sync) {\n    queue.delete(fn);\n    fn(0);\n  } else {\n    queue.add(fn);\n    start();\n  }\n}\n\nfunction start() {\n  if (ts < 0) {\n    ts = 0;\n\n    if (raf.frameLoop !== 'demand') {\n      nativeRaf(loop);\n    }\n  }\n}\n\nfunction stop() {\n  ts = -1;\n}\n\nfunction loop() {\n  if (~ts) {\n    nativeRaf(loop);\n    raf.batchedUpdates(update);\n  }\n}\n\nfunction update() {\n  let prevTs = ts;\n  ts = raf.now();\n  let count = findTimeout(ts);\n\n  if (count) {\n    eachSafely(timeouts.splice(0, count), t => t.handler());\n    pendingCount -= count;\n  }\n\n  if (!pendingCount) {\n    stop();\n    return;\n  }\n\n  onStartQueue.flush();\n  updateQueue.flush(prevTs ? Math.min(64, ts - prevTs) : 16.667);\n  onFrameQueue.flush();\n  writeQueue.flush();\n  onFinishQueue.flush();\n}\n\nfunction makeQueue() {\n  let next = new Set();\n  let current = next;\n  return {\n    add(fn) {\n      pendingCount += current == next && !next.has(fn) ? 1 : 0;\n      next.add(fn);\n    },\n\n    delete(fn) {\n      pendingCount -= current == next && next.has(fn) ? 1 : 0;\n      return next.delete(fn);\n    },\n\n    flush(arg) {\n      if (current.size) {\n        next = new Set();\n        pendingCount -= current.size;\n        eachSafely(current, fn => fn(arg) && next.add(fn));\n        pendingCount += next.size;\n        current = next;\n      }\n    }\n\n  };\n}\n\nfunction eachSafely(values, each) {\n  values.forEach(value => {\n    try {\n      each(value);\n    } catch (e) {\n      raf.catch(e);\n    }\n  });\n}\n\nconst __raf = {\n  count() {\n    return pendingCount;\n  },\n\n  isRunning() {\n    return ts >= 0;\n  },\n\n  clear() {\n    ts = -1;\n    timeouts = [];\n    onStartQueue = makeQueue();\n    updateQueue = makeQueue();\n    onFrameQueue = makeQueue();\n    writeQueue = makeQueue();\n    onFinishQueue = makeQueue();\n    pendingCount = 0;\n  }\n\n};\n\nexport { __raf, raf };\n","import { raf } from '@react-spring/rafz';\nexport { raf } from '@react-spring/rafz';\nimport { useRef, useEffect, useLayoutEffect, useState } from 'react';\n\nfunction noop() {}\nconst defineHidden = (obj, key, value) => Object.defineProperty(obj, key, {\n  value,\n  writable: true,\n  configurable: true\n});\nconst is = {\n  arr: Array.isArray,\n  obj: a => !!a && a.constructor.name === 'Object',\n  fun: a => typeof a === 'function',\n  str: a => typeof a === 'string',\n  num: a => typeof a === 'number',\n  und: a => a === undefined\n};\nfunction isEqual(a, b) {\n  if (is.arr(a)) {\n    if (!is.arr(b) || a.length !== b.length) return false;\n\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n\n    return true;\n  }\n\n  return a === b;\n}\nconst each = (obj, fn) => obj.forEach(fn);\nfunction eachProp(obj, fn, ctx) {\n  if (is.arr(obj)) {\n    for (let i = 0; i < obj.length; i++) {\n      fn.call(ctx, obj[i], `${i}`);\n    }\n\n    return;\n  }\n\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      fn.call(ctx, obj[key], key);\n    }\n  }\n}\nconst toArray = a => is.und(a) ? [] : is.arr(a) ? a : [a];\nfunction flush(queue, iterator) {\n  if (queue.size) {\n    const items = Array.from(queue);\n    queue.clear();\n    each(items, iterator);\n  }\n}\nconst flushCalls = (queue, ...args) => flush(queue, fn => fn(...args));\nconst isSSR = () => typeof window === 'undefined' || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\n\nlet createStringInterpolator$1;\nlet to;\nlet colors$1 = null;\nlet skipAnimation = false;\nlet willAdvance = noop;\nconst assign = globals => {\n  if (globals.to) to = globals.to;\n  if (globals.now) raf.now = globals.now;\n  if (globals.colors !== undefined) colors$1 = globals.colors;\n  if (globals.skipAnimation != null) skipAnimation = globals.skipAnimation;\n  if (globals.createStringInterpolator) createStringInterpolator$1 = globals.createStringInterpolator;\n  if (globals.requestAnimationFrame) raf.use(globals.requestAnimationFrame);\n  if (globals.batchedUpdates) raf.batchedUpdates = globals.batchedUpdates;\n  if (globals.willAdvance) willAdvance = globals.willAdvance;\n  if (globals.frameLoop) raf.frameLoop = globals.frameLoop;\n};\n\nvar globals = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  get createStringInterpolator () { return createStringInterpolator$1; },\n  get to () { return to; },\n  get colors () { return colors$1; },\n  get skipAnimation () { return skipAnimation; },\n  get willAdvance () { return willAdvance; },\n  assign: assign\n});\n\nconst startQueue = new Set();\nlet currentFrame = [];\nlet prevFrame = [];\nlet priority = 0;\nconst frameLoop = {\n  get idle() {\n    return !startQueue.size && !currentFrame.length;\n  },\n\n  start(animation) {\n    if (priority > animation.priority) {\n      startQueue.add(animation);\n      raf.onStart(flushStartQueue);\n    } else {\n      startSafely(animation);\n      raf(advance);\n    }\n  },\n\n  advance,\n\n  sort(animation) {\n    if (priority) {\n      raf.onFrame(() => frameLoop.sort(animation));\n    } else {\n      const prevIndex = currentFrame.indexOf(animation);\n\n      if (~prevIndex) {\n        currentFrame.splice(prevIndex, 1);\n        startUnsafely(animation);\n      }\n    }\n  },\n\n  clear() {\n    currentFrame = [];\n    startQueue.clear();\n  }\n\n};\n\nfunction flushStartQueue() {\n  startQueue.forEach(startSafely);\n  startQueue.clear();\n  raf(advance);\n}\n\nfunction startSafely(animation) {\n  if (!currentFrame.includes(animation)) startUnsafely(animation);\n}\n\nfunction startUnsafely(animation) {\n  currentFrame.splice(findIndex(currentFrame, other => other.priority > animation.priority), 0, animation);\n}\n\nfunction advance(dt) {\n  const nextFrame = prevFrame;\n\n  for (let i = 0; i < currentFrame.length; i++) {\n    const animation = currentFrame[i];\n    priority = animation.priority;\n\n    if (!animation.idle) {\n      willAdvance(animation);\n      animation.advance(dt);\n\n      if (!animation.idle) {\n        nextFrame.push(animation);\n      }\n    }\n  }\n\n  priority = 0;\n  prevFrame = currentFrame;\n  prevFrame.length = 0;\n  currentFrame = nextFrame;\n  return currentFrame.length > 0;\n}\n\nfunction findIndex(arr, test) {\n  const index = arr.findIndex(test);\n  return index < 0 ? arr.length : index;\n}\n\nconst clamp = (min, max, v) => Math.min(Math.max(v, min), max);\n\nconst colors = {\n  transparent: 0x00000000,\n  aliceblue: 0xf0f8ffff,\n  antiquewhite: 0xfaebd7ff,\n  aqua: 0x00ffffff,\n  aquamarine: 0x7fffd4ff,\n  azure: 0xf0ffffff,\n  beige: 0xf5f5dcff,\n  bisque: 0xffe4c4ff,\n  black: 0x000000ff,\n  blanchedalmond: 0xffebcdff,\n  blue: 0x0000ffff,\n  blueviolet: 0x8a2be2ff,\n  brown: 0xa52a2aff,\n  burlywood: 0xdeb887ff,\n  burntsienna: 0xea7e5dff,\n  cadetblue: 0x5f9ea0ff,\n  chartreuse: 0x7fff00ff,\n  chocolate: 0xd2691eff,\n  coral: 0xff7f50ff,\n  cornflowerblue: 0x6495edff,\n  cornsilk: 0xfff8dcff,\n  crimson: 0xdc143cff,\n  cyan: 0x00ffffff,\n  darkblue: 0x00008bff,\n  darkcyan: 0x008b8bff,\n  darkgoldenrod: 0xb8860bff,\n  darkgray: 0xa9a9a9ff,\n  darkgreen: 0x006400ff,\n  darkgrey: 0xa9a9a9ff,\n  darkkhaki: 0xbdb76bff,\n  darkmagenta: 0x8b008bff,\n  darkolivegreen: 0x556b2fff,\n  darkorange: 0xff8c00ff,\n  darkorchid: 0x9932ccff,\n  darkred: 0x8b0000ff,\n  darksalmon: 0xe9967aff,\n  darkseagreen: 0x8fbc8fff,\n  darkslateblue: 0x483d8bff,\n  darkslategray: 0x2f4f4fff,\n  darkslategrey: 0x2f4f4fff,\n  darkturquoise: 0x00ced1ff,\n  darkviolet: 0x9400d3ff,\n  deeppink: 0xff1493ff,\n  deepskyblue: 0x00bfffff,\n  dimgray: 0x696969ff,\n  dimgrey: 0x696969ff,\n  dodgerblue: 0x1e90ffff,\n  firebrick: 0xb22222ff,\n  floralwhite: 0xfffaf0ff,\n  forestgreen: 0x228b22ff,\n  fuchsia: 0xff00ffff,\n  gainsboro: 0xdcdcdcff,\n  ghostwhite: 0xf8f8ffff,\n  gold: 0xffd700ff,\n  goldenrod: 0xdaa520ff,\n  gray: 0x808080ff,\n  green: 0x008000ff,\n  greenyellow: 0xadff2fff,\n  grey: 0x808080ff,\n  honeydew: 0xf0fff0ff,\n  hotpink: 0xff69b4ff,\n  indianred: 0xcd5c5cff,\n  indigo: 0x4b0082ff,\n  ivory: 0xfffff0ff,\n  khaki: 0xf0e68cff,\n  lavender: 0xe6e6faff,\n  lavenderblush: 0xfff0f5ff,\n  lawngreen: 0x7cfc00ff,\n  lemonchiffon: 0xfffacdff,\n  lightblue: 0xadd8e6ff,\n  lightcoral: 0xf08080ff,\n  lightcyan: 0xe0ffffff,\n  lightgoldenrodyellow: 0xfafad2ff,\n  lightgray: 0xd3d3d3ff,\n  lightgreen: 0x90ee90ff,\n  lightgrey: 0xd3d3d3ff,\n  lightpink: 0xffb6c1ff,\n  lightsalmon: 0xffa07aff,\n  lightseagreen: 0x20b2aaff,\n  lightskyblue: 0x87cefaff,\n  lightslategray: 0x778899ff,\n  lightslategrey: 0x778899ff,\n  lightsteelblue: 0xb0c4deff,\n  lightyellow: 0xffffe0ff,\n  lime: 0x00ff00ff,\n  limegreen: 0x32cd32ff,\n  linen: 0xfaf0e6ff,\n  magenta: 0xff00ffff,\n  maroon: 0x800000ff,\n  mediumaquamarine: 0x66cdaaff,\n  mediumblue: 0x0000cdff,\n  mediumorchid: 0xba55d3ff,\n  mediumpurple: 0x9370dbff,\n  mediumseagreen: 0x3cb371ff,\n  mediumslateblue: 0x7b68eeff,\n  mediumspringgreen: 0x00fa9aff,\n  mediumturquoise: 0x48d1ccff,\n  mediumvioletred: 0xc71585ff,\n  midnightblue: 0x191970ff,\n  mintcream: 0xf5fffaff,\n  mistyrose: 0xffe4e1ff,\n  moccasin: 0xffe4b5ff,\n  navajowhite: 0xffdeadff,\n  navy: 0x000080ff,\n  oldlace: 0xfdf5e6ff,\n  olive: 0x808000ff,\n  olivedrab: 0x6b8e23ff,\n  orange: 0xffa500ff,\n  orangered: 0xff4500ff,\n  orchid: 0xda70d6ff,\n  palegoldenrod: 0xeee8aaff,\n  palegreen: 0x98fb98ff,\n  paleturquoise: 0xafeeeeff,\n  palevioletred: 0xdb7093ff,\n  papayawhip: 0xffefd5ff,\n  peachpuff: 0xffdab9ff,\n  peru: 0xcd853fff,\n  pink: 0xffc0cbff,\n  plum: 0xdda0ddff,\n  powderblue: 0xb0e0e6ff,\n  purple: 0x800080ff,\n  rebeccapurple: 0x663399ff,\n  red: 0xff0000ff,\n  rosybrown: 0xbc8f8fff,\n  royalblue: 0x4169e1ff,\n  saddlebrown: 0x8b4513ff,\n  salmon: 0xfa8072ff,\n  sandybrown: 0xf4a460ff,\n  seagreen: 0x2e8b57ff,\n  seashell: 0xfff5eeff,\n  sienna: 0xa0522dff,\n  silver: 0xc0c0c0ff,\n  skyblue: 0x87ceebff,\n  slateblue: 0x6a5acdff,\n  slategray: 0x708090ff,\n  slategrey: 0x708090ff,\n  snow: 0xfffafaff,\n  springgreen: 0x00ff7fff,\n  steelblue: 0x4682b4ff,\n  tan: 0xd2b48cff,\n  teal: 0x008080ff,\n  thistle: 0xd8bfd8ff,\n  tomato: 0xff6347ff,\n  turquoise: 0x40e0d0ff,\n  violet: 0xee82eeff,\n  wheat: 0xf5deb3ff,\n  white: 0xffffffff,\n  whitesmoke: 0xf5f5f5ff,\n  yellow: 0xffff00ff,\n  yellowgreen: 0x9acd32ff\n};\n\nconst NUMBER = '[-+]?\\\\d*\\\\.?\\\\d+';\nconst PERCENTAGE = NUMBER + '%';\n\nfunction call(...parts) {\n  return '\\\\(\\\\s*(' + parts.join(')\\\\s*,\\\\s*(') + ')\\\\s*\\\\)';\n}\n\nconst rgb = new RegExp('rgb' + call(NUMBER, NUMBER, NUMBER));\nconst rgba = new RegExp('rgba' + call(NUMBER, NUMBER, NUMBER, NUMBER));\nconst hsl = new RegExp('hsl' + call(NUMBER, PERCENTAGE, PERCENTAGE));\nconst hsla = new RegExp('hsla' + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));\nconst hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nconst hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nconst hex6 = /^#([0-9a-fA-F]{6})$/;\nconst hex8 = /^#([0-9a-fA-F]{8})$/;\n\nfunction normalizeColor(color) {\n  let match;\n\n  if (typeof color === 'number') {\n    return color >>> 0 === color && color >= 0 && color <= 0xffffffff ? color : null;\n  }\n\n  if (match = hex6.exec(color)) return parseInt(match[1] + 'ff', 16) >>> 0;\n\n  if (colors$1 && colors$1[color] !== undefined) {\n    return colors$1[color];\n  }\n\n  if (match = rgb.exec(color)) {\n    return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | 0x000000ff) >>> 0;\n  }\n\n  if (match = rgba.exec(color)) {\n    return (parse255(match[1]) << 24 | parse255(match[2]) << 16 | parse255(match[3]) << 8 | parse1(match[4])) >>> 0;\n  }\n\n  if (match = hex3.exec(color)) {\n    return parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + 'ff', 16) >>> 0;\n  }\n\n  if (match = hex8.exec(color)) return parseInt(match[1], 16) >>> 0;\n\n  if (match = hex4.exec(color)) {\n    return parseInt(match[1] + match[1] + match[2] + match[2] + match[3] + match[3] + match[4] + match[4], 16) >>> 0;\n  }\n\n  if (match = hsl.exec(color)) {\n    return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | 0x000000ff) >>> 0;\n  }\n\n  if (match = hsla.exec(color)) {\n    return (hslToRgb(parse360(match[1]), parsePercentage(match[2]), parsePercentage(match[3])) | parse1(match[4])) >>> 0;\n  }\n\n  return null;\n}\n\nfunction hue2rgb(p, q, t) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\n\nfunction hslToRgb(h, s, l) {\n  const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  const p = 2 * l - q;\n  const r = hue2rgb(p, q, h + 1 / 3);\n  const g = hue2rgb(p, q, h);\n  const b = hue2rgb(p, q, h - 1 / 3);\n  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b * 255) << 8;\n}\n\nfunction parse255(str) {\n  const int = parseInt(str, 10);\n  if (int < 0) return 0;\n  if (int > 255) return 255;\n  return int;\n}\n\nfunction parse360(str) {\n  const int = parseFloat(str);\n  return (int % 360 + 360) % 360 / 360;\n}\n\nfunction parse1(str) {\n  const num = parseFloat(str);\n  if (num < 0) return 0;\n  if (num > 1) return 255;\n  return Math.round(num * 255);\n}\n\nfunction parsePercentage(str) {\n  const int = parseFloat(str);\n  if (int < 0) return 0;\n  if (int > 100) return 1;\n  return int / 100;\n}\n\nfunction colorToRgba(input) {\n  let int32Color = normalizeColor(input);\n  if (int32Color === null) return input;\n  int32Color = int32Color || 0;\n  let r = (int32Color & 0xff000000) >>> 24;\n  let g = (int32Color & 0x00ff0000) >>> 16;\n  let b = (int32Color & 0x0000ff00) >>> 8;\n  let a = (int32Color & 0x000000ff) / 255;\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\nconst createInterpolator = (range, output, extrapolate) => {\n  if (is.fun(range)) {\n    return range;\n  }\n\n  if (is.arr(range)) {\n    return createInterpolator({\n      range,\n      output: output,\n      extrapolate\n    });\n  }\n\n  if (is.str(range.output[0])) {\n    return createStringInterpolator$1(range);\n  }\n\n  const config = range;\n  const outputRange = config.output;\n  const inputRange = config.range || [0, 1];\n  const extrapolateLeft = config.extrapolateLeft || config.extrapolate || 'extend';\n  const extrapolateRight = config.extrapolateRight || config.extrapolate || 'extend';\n\n  const easing = config.easing || (t => t);\n\n  return input => {\n    const range = findRange(input, inputRange);\n    return interpolate(input, inputRange[range], inputRange[range + 1], outputRange[range], outputRange[range + 1], easing, extrapolateLeft, extrapolateRight, config.map);\n  };\n};\n\nfunction interpolate(input, inputMin, inputMax, outputMin, outputMax, easing, extrapolateLeft, extrapolateRight, map) {\n  let result = map ? map(input) : input;\n\n  if (result < inputMin) {\n    if (extrapolateLeft === 'identity') return result;else if (extrapolateLeft === 'clamp') result = inputMin;\n  }\n\n  if (result > inputMax) {\n    if (extrapolateRight === 'identity') return result;else if (extrapolateRight === 'clamp') result = inputMax;\n  }\n\n  if (outputMin === outputMax) return outputMin;\n  if (inputMin === inputMax) return input <= inputMin ? outputMin : outputMax;\n  if (inputMin === -Infinity) result = -result;else if (inputMax === Infinity) result = result - inputMin;else result = (result - inputMin) / (inputMax - inputMin);\n  result = easing(result);\n  if (outputMin === -Infinity) result = -result;else if (outputMax === Infinity) result = result + outputMin;else result = result * (outputMax - outputMin) + outputMin;\n  return result;\n}\n\nfunction findRange(input, inputRange) {\n  for (var i = 1; i < inputRange.length - 1; ++i) if (inputRange[i] >= input) break;\n\n  return i - 1;\n}\n\nconst steps = (steps, direction = 'end') => progress => {\n  progress = direction === 'end' ? Math.min(progress, 0.999) : Math.max(progress, 0.001);\n  const expanded = progress * steps;\n  const rounded = direction === 'end' ? Math.floor(expanded) : Math.ceil(expanded);\n  return clamp(0, 1, rounded / steps);\n};\n\nconst c1 = 1.70158;\nconst c2 = c1 * 1.525;\nconst c3 = c1 + 1;\nconst c4 = 2 * Math.PI / 3;\nconst c5 = 2 * Math.PI / 4.5;\n\nconst bounceOut = x => {\n  const n1 = 7.5625;\n  const d1 = 2.75;\n\n  if (x < 1 / d1) {\n    return n1 * x * x;\n  } else if (x < 2 / d1) {\n    return n1 * (x -= 1.5 / d1) * x + 0.75;\n  } else if (x < 2.5 / d1) {\n    return n1 * (x -= 2.25 / d1) * x + 0.9375;\n  } else {\n    return n1 * (x -= 2.625 / d1) * x + 0.984375;\n  }\n};\n\nconst easings = {\n  linear: x => x,\n  easeInQuad: x => x * x,\n  easeOutQuad: x => 1 - (1 - x) * (1 - x),\n  easeInOutQuad: x => x < 0.5 ? 2 * x * x : 1 - Math.pow(-2 * x + 2, 2) / 2,\n  easeInCubic: x => x * x * x,\n  easeOutCubic: x => 1 - Math.pow(1 - x, 3),\n  easeInOutCubic: x => x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2,\n  easeInQuart: x => x * x * x * x,\n  easeOutQuart: x => 1 - Math.pow(1 - x, 4),\n  easeInOutQuart: x => x < 0.5 ? 8 * x * x * x * x : 1 - Math.pow(-2 * x + 2, 4) / 2,\n  easeInQuint: x => x * x * x * x * x,\n  easeOutQuint: x => 1 - Math.pow(1 - x, 5),\n  easeInOutQuint: x => x < 0.5 ? 16 * x * x * x * x * x : 1 - Math.pow(-2 * x + 2, 5) / 2,\n  easeInSine: x => 1 - Math.cos(x * Math.PI / 2),\n  easeOutSine: x => Math.sin(x * Math.PI / 2),\n  easeInOutSine: x => -(Math.cos(Math.PI * x) - 1) / 2,\n  easeInExpo: x => x === 0 ? 0 : Math.pow(2, 10 * x - 10),\n  easeOutExpo: x => x === 1 ? 1 : 1 - Math.pow(2, -10 * x),\n  easeInOutExpo: x => x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ? Math.pow(2, 20 * x - 10) / 2 : (2 - Math.pow(2, -20 * x + 10)) / 2,\n  easeInCirc: x => 1 - Math.sqrt(1 - Math.pow(x, 2)),\n  easeOutCirc: x => Math.sqrt(1 - Math.pow(x - 1, 2)),\n  easeInOutCirc: x => x < 0.5 ? (1 - Math.sqrt(1 - Math.pow(2 * x, 2))) / 2 : (Math.sqrt(1 - Math.pow(-2 * x + 2, 2)) + 1) / 2,\n  easeInBack: x => c3 * x * x * x - c1 * x * x,\n  easeOutBack: x => 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2),\n  easeInOutBack: x => x < 0.5 ? Math.pow(2 * x, 2) * ((c2 + 1) * 2 * x - c2) / 2 : (Math.pow(2 * x - 2, 2) * ((c2 + 1) * (x * 2 - 2) + c2) + 2) / 2,\n  easeInElastic: x => x === 0 ? 0 : x === 1 ? 1 : -Math.pow(2, 10 * x - 10) * Math.sin((x * 10 - 10.75) * c4),\n  easeOutElastic: x => x === 0 ? 0 : x === 1 ? 1 : Math.pow(2, -10 * x) * Math.sin((x * 10 - 0.75) * c4) + 1,\n  easeInOutElastic: x => x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ? -(Math.pow(2, 20 * x - 10) * Math.sin((20 * x - 11.125) * c5)) / 2 : Math.pow(2, -20 * x + 10) * Math.sin((20 * x - 11.125) * c5) / 2 + 1,\n  easeInBounce: x => 1 - bounceOut(1 - x),\n  easeOutBounce: bounceOut,\n  easeInOutBounce: x => x < 0.5 ? (1 - bounceOut(1 - 2 * x)) / 2 : (1 + bounceOut(2 * x - 1)) / 2,\n  steps\n};\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nconst $get = Symbol.for('FluidValue.get');\nconst $observers = Symbol.for('FluidValue.observers');\n\nconst hasFluidValue = arg => Boolean(arg && arg[$get]);\n\nconst getFluidValue = arg => arg && arg[$get] ? arg[$get]() : arg;\n\nconst getFluidObservers = target => target[$observers] || null;\n\nfunction callFluidObserver(observer, event) {\n  if (observer.eventObserved) {\n    observer.eventObserved(event);\n  } else {\n    observer(event);\n  }\n}\n\nfunction callFluidObservers(target, event) {\n  let observers = target[$observers];\n\n  if (observers) {\n    observers.forEach(observer => {\n      callFluidObserver(observer, event);\n    });\n  }\n}\n\nclass FluidValue {\n  constructor(get) {\n    this[$get] = void 0;\n    this[$observers] = void 0;\n\n    if (!get && !(get = this.get)) {\n      throw Error('Unknown getter');\n    }\n\n    setFluidGetter(this, get);\n  }\n\n}\n\nconst setFluidGetter = (target, get) => setHidden(target, $get, get);\n\nfunction addFluidObserver(target, observer) {\n  if (target[$get]) {\n    let observers = target[$observers];\n\n    if (!observers) {\n      setHidden(target, $observers, observers = new Set());\n    }\n\n    if (!observers.has(observer)) {\n      observers.add(observer);\n\n      if (target.observerAdded) {\n        target.observerAdded(observers.size, observer);\n      }\n    }\n  }\n\n  return observer;\n}\n\nfunction removeFluidObserver(target, observer) {\n  let observers = target[$observers];\n\n  if (observers && observers.has(observer)) {\n    const count = observers.size - 1;\n\n    if (count) {\n      observers.delete(observer);\n    } else {\n      target[$observers] = null;\n    }\n\n    if (target.observerRemoved) {\n      target.observerRemoved(count, observer);\n    }\n  }\n}\n\nconst setHidden = (target, key, value) => Object.defineProperty(target, key, {\n  value,\n  writable: true,\n  configurable: true\n});\n\nconst numberRegex = /[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nconst colorRegex = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi;\nconst unitRegex = new RegExp(`(${numberRegex.source})(%|[a-z]+)`, 'i');\nconst rgbaRegex = /rgba\\(([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+)\\)/gi;\nconst cssVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\n\nconst variableToRgba = input => {\n  const [token, fallback] = parseCSSVariable(input);\n\n  if (!token || isSSR()) {\n    return input;\n  }\n\n  const value = window.getComputedStyle(document.documentElement).getPropertyValue(token);\n\n  if (value) {\n    return value.trim();\n  } else if (fallback && fallback.startsWith('--')) {\n    const _value = window.getComputedStyle(document.documentElement).getPropertyValue(fallback);\n\n    if (_value) {\n      return _value;\n    } else {\n      return input;\n    }\n  } else if (fallback && cssVariableRegex.test(fallback)) {\n    return variableToRgba(fallback);\n  } else if (fallback) {\n    return fallback;\n  }\n\n  return input;\n};\n\nconst parseCSSVariable = current => {\n  const match = cssVariableRegex.exec(current);\n  if (!match) return [,];\n  const [, token, fallback] = match;\n  return [token, fallback];\n};\n\nlet namedColorRegex;\n\nconst rgbaRound = (_, p1, p2, p3, p4) => `rgba(${Math.round(p1)}, ${Math.round(p2)}, ${Math.round(p3)}, ${p4})`;\n\nconst createStringInterpolator = config => {\n  if (!namedColorRegex) namedColorRegex = colors$1 ? new RegExp(`(${Object.keys(colors$1).join('|')})(?!\\\\w)`, 'g') : /^\\b$/;\n  const output = config.output.map(value => {\n    return getFluidValue(value).replace(cssVariableRegex, variableToRgba).replace(colorRegex, colorToRgba).replace(namedColorRegex, colorToRgba);\n  });\n  const keyframes = output.map(value => value.match(numberRegex).map(Number));\n  const outputRanges = keyframes[0].map((_, i) => keyframes.map(values => {\n    if (!(i in values)) {\n      throw Error('The arity of each \"output\" value must be equal');\n    }\n\n    return values[i];\n  }));\n  const interpolators = outputRanges.map(output => createInterpolator(_extends({}, config, {\n    output\n  })));\n  return input => {\n    var _output$find;\n\n    const missingUnit = !unitRegex.test(output[0]) && ((_output$find = output.find(value => unitRegex.test(value))) == null ? void 0 : _output$find.replace(numberRegex, ''));\n    let i = 0;\n    return output[0].replace(numberRegex, () => `${interpolators[i++](input)}${missingUnit || ''}`).replace(rgbaRegex, rgbaRound);\n  };\n};\n\nconst prefix = 'react-spring: ';\nconst once = fn => {\n  const func = fn;\n  let called = false;\n\n  if (typeof func != 'function') {\n    throw new TypeError(`${prefix}once requires a function parameter`);\n  }\n\n  return (...args) => {\n    if (!called) {\n      func(...args);\n      called = true;\n    }\n  };\n};\nconst warnInterpolate = once(console.warn);\nfunction deprecateInterpolate() {\n  warnInterpolate(`${prefix}The \"interpolate\" function is deprecated in v9 (use \"to\" instead)`);\n}\nconst warnDirectCall = once(console.warn);\nfunction deprecateDirectCall() {\n  warnDirectCall(`${prefix}Directly calling start instead of using the api object is deprecated in v9 (use \".start\" instead), this will be removed in later 0.X.0 versions`);\n}\n\nfunction isAnimatedString(value) {\n  return is.str(value) && (value[0] == '#' || /\\d/.test(value) || !isSSR() && cssVariableRegex.test(value) || value in (colors$1 || {}));\n}\n\nlet observer;\nconst resizeHandlers = new WeakMap();\n\nconst handleObservation = entries => entries.forEach(({\n  target,\n  contentRect\n}) => {\n  var _resizeHandlers$get;\n\n  return (_resizeHandlers$get = resizeHandlers.get(target)) == null ? void 0 : _resizeHandlers$get.forEach(handler => handler(contentRect));\n});\n\nfunction resizeElement(handler, target) {\n  if (!observer) {\n    if (typeof ResizeObserver !== 'undefined') {\n      observer = new ResizeObserver(handleObservation);\n    }\n  }\n\n  let elementHandlers = resizeHandlers.get(target);\n\n  if (!elementHandlers) {\n    elementHandlers = new Set();\n    resizeHandlers.set(target, elementHandlers);\n  }\n\n  elementHandlers.add(handler);\n\n  if (observer) {\n    observer.observe(target);\n  }\n\n  return () => {\n    const elementHandlers = resizeHandlers.get(target);\n    if (!elementHandlers) return;\n    elementHandlers.delete(handler);\n\n    if (!elementHandlers.size && observer) {\n      observer.unobserve(target);\n    }\n  };\n}\n\nconst listeners = new Set();\nlet cleanupWindowResizeHandler;\n\nconst createResizeHandler = () => {\n  const handleResize = () => {\n    listeners.forEach(callback => callback({\n      width: window.innerWidth,\n      height: window.innerHeight\n    }));\n  };\n\n  window.addEventListener('resize', handleResize);\n  return () => {\n    window.removeEventListener('resize', handleResize);\n  };\n};\n\nconst resizeWindow = callback => {\n  listeners.add(callback);\n\n  if (!cleanupWindowResizeHandler) {\n    cleanupWindowResizeHandler = createResizeHandler();\n  }\n\n  return () => {\n    listeners.delete(callback);\n\n    if (!listeners.size && cleanupWindowResizeHandler) {\n      cleanupWindowResizeHandler();\n      cleanupWindowResizeHandler = undefined;\n    }\n  };\n};\n\nconst onResize = (callback, {\n  container: _container = document.documentElement\n} = {}) => {\n  if (_container === document.documentElement) {\n    return resizeWindow(callback);\n  } else {\n    return resizeElement(callback, _container);\n  }\n};\n\nconst progress = (min, max, value) => max - min === 0 ? 1 : (value - min) / (max - min);\n\nconst SCROLL_KEYS = {\n  x: {\n    length: 'Width',\n    position: 'Left'\n  },\n  y: {\n    length: 'Height',\n    position: 'Top'\n  }\n};\nclass ScrollHandler {\n  constructor(callback, container) {\n    this.callback = void 0;\n    this.container = void 0;\n    this.info = void 0;\n\n    this.createAxis = () => ({\n      current: 0,\n      progress: 0,\n      scrollLength: 0\n    });\n\n    this.updateAxis = axisName => {\n      const axis = this.info[axisName];\n      const {\n        length,\n        position\n      } = SCROLL_KEYS[axisName];\n      axis.current = this.container[`scroll${position}`];\n      axis.scrollLength = this.container['scroll' + length] - this.container['client' + length];\n      axis.progress = progress(0, axis.scrollLength, axis.current);\n    };\n\n    this.update = () => {\n      this.updateAxis('x');\n      this.updateAxis('y');\n    };\n\n    this.sendEvent = () => {\n      this.callback(this.info);\n    };\n\n    this.advance = () => {\n      this.update();\n      this.sendEvent();\n    };\n\n    this.callback = callback;\n    this.container = container;\n    this.info = {\n      time: 0,\n      x: this.createAxis(),\n      y: this.createAxis()\n    };\n  }\n\n}\n\nconst scrollListeners = new WeakMap();\nconst resizeListeners = new WeakMap();\nconst onScrollHandlers = new WeakMap();\n\nconst getTarget = container => container === document.documentElement ? window : container;\n\nconst onScroll = (callback, {\n  container: _container = document.documentElement\n} = {}) => {\n  let containerHandlers = onScrollHandlers.get(_container);\n\n  if (!containerHandlers) {\n    containerHandlers = new Set();\n    onScrollHandlers.set(_container, containerHandlers);\n  }\n\n  const containerHandler = new ScrollHandler(callback, _container);\n  containerHandlers.add(containerHandler);\n\n  if (!scrollListeners.has(_container)) {\n    const listener = () => {\n      var _containerHandlers;\n\n      (_containerHandlers = containerHandlers) == null ? void 0 : _containerHandlers.forEach(handler => handler.advance());\n      return true;\n    };\n\n    scrollListeners.set(_container, listener);\n    const target = getTarget(_container);\n    window.addEventListener('resize', listener, {\n      passive: true\n    });\n\n    if (_container !== document.documentElement) {\n      resizeListeners.set(_container, onResize(listener, {\n        container: _container\n      }));\n    }\n\n    target.addEventListener('scroll', listener, {\n      passive: true\n    });\n  }\n\n  const animateScroll = scrollListeners.get(_container);\n  raf(animateScroll);\n  return () => {\n    raf.cancel(animateScroll);\n    const containerHandlers = onScrollHandlers.get(_container);\n    if (!containerHandlers) return;\n    containerHandlers.delete(containerHandler);\n    if (containerHandlers.size) return;\n    const listener = scrollListeners.get(_container);\n    scrollListeners.delete(_container);\n\n    if (listener) {\n      var _resizeListeners$get;\n\n      getTarget(_container).removeEventListener('scroll', listener);\n      window.removeEventListener('resize', listener);\n      (_resizeListeners$get = resizeListeners.get(_container)) == null ? void 0 : _resizeListeners$get();\n    }\n  };\n};\n\nfunction useConstant(init) {\n  const ref = useRef(null);\n\n  if (ref.current === null) {\n    ref.current = init();\n  }\n\n  return ref.current;\n}\n\nconst useIsomorphicLayoutEffect = isSSR() ? useEffect : useLayoutEffect;\n\nconst useIsMounted = () => {\n  const isMounted = useRef(false);\n  useIsomorphicLayoutEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  return isMounted;\n};\n\nfunction useForceUpdate() {\n  const update = useState()[1];\n  const isMounted = useIsMounted();\n  return () => {\n    if (isMounted.current) {\n      update(Math.random());\n    }\n  };\n}\n\nfunction useMemoOne(getResult, inputs) {\n  const [initial] = useState(() => ({\n    inputs,\n    result: getResult()\n  }));\n  const committed = useRef();\n  const prevCache = committed.current;\n  let cache = prevCache;\n\n  if (cache) {\n    const useCache = Boolean(inputs && cache.inputs && areInputsEqual(inputs, cache.inputs));\n\n    if (!useCache) {\n      cache = {\n        inputs,\n        result: getResult()\n      };\n    }\n  } else {\n    cache = initial;\n  }\n\n  useEffect(() => {\n    committed.current = cache;\n\n    if (prevCache == initial) {\n      initial.inputs = initial.result = undefined;\n    }\n  }, [cache]);\n  return cache.result;\n}\n\nfunction areInputsEqual(next, prev) {\n  if (next.length !== prev.length) {\n    return false;\n  }\n\n  for (let i = 0; i < next.length; i++) {\n    if (next[i] !== prev[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nconst useOnce = effect => useEffect(effect, emptyDeps);\nconst emptyDeps = [];\n\nfunction usePrev(value) {\n  const prevRef = useRef();\n  useEffect(() => {\n    prevRef.current = value;\n  });\n  return prevRef.current;\n}\n\nconst useReducedMotion = () => {\n  const [reducedMotion, setReducedMotion] = useState(null);\n  useIsomorphicLayoutEffect(() => {\n    const mql = window.matchMedia('(prefers-reduced-motion)');\n\n    const handleMediaChange = e => {\n      setReducedMotion(e.matches);\n      assign({\n        skipAnimation: e.matches\n      });\n    };\n\n    handleMediaChange(mql);\n    mql.addEventListener('change', handleMediaChange);\n    return () => {\n      mql.removeEventListener('change', handleMediaChange);\n    };\n  }, []);\n  return reducedMotion;\n};\n\nexport { FluidValue, globals as Globals, addFluidObserver, callFluidObserver, callFluidObservers, clamp, colorToRgba, colors, createInterpolator, createStringInterpolator, defineHidden, deprecateDirectCall, deprecateInterpolate, each, eachProp, easings, flush, flushCalls, frameLoop, getFluidObservers, getFluidValue, hasFluidValue, hex3, hex4, hex6, hex8, hsl, hsla, is, isAnimatedString, isEqual, isSSR, noop, onResize, onScroll, once, prefix, removeFluidObserver, rgb, rgba, setFluidGetter, toArray, useConstant, useForceUpdate, useIsomorphicLayoutEffect, useMemoOne, useOnce, usePrev, useReducedMotion };\n","import { defineHidden, is, createInterpolator, eachProp, hasFluidValue, getFluidValue, each, isAnimatedString, useForceUpdate, useIsomorphicLayoutEffect, addFluidObserver, removeFluidObserver, raf, useOnce } from '@react-spring/shared';\nimport * as React from 'react';\nimport { forwardRef, useRef, useCallback, useEffect } from 'react';\n\nconst $node = Symbol.for('Animated:node');\nconst isAnimated = value => !!value && value[$node] === value;\nconst getAnimated = owner => owner && owner[$node];\nconst setAnimated = (owner, node) => defineHidden(owner, $node, node);\nconst getPayload = owner => owner && owner[$node] && owner[$node].getPayload();\nclass Animated {\n  constructor() {\n    this.payload = void 0;\n    setAnimated(this, this);\n  }\n\n  getPayload() {\n    return this.payload || [];\n  }\n\n}\n\nclass AnimatedValue extends Animated {\n  constructor(_value) {\n    super();\n    this.done = true;\n    this.elapsedTime = void 0;\n    this.lastPosition = void 0;\n    this.lastVelocity = void 0;\n    this.v0 = void 0;\n    this.durationProgress = 0;\n    this._value = _value;\n\n    if (is.num(this._value)) {\n      this.lastPosition = this._value;\n    }\n  }\n\n  static create(value) {\n    return new AnimatedValue(value);\n  }\n\n  getPayload() {\n    return [this];\n  }\n\n  getValue() {\n    return this._value;\n  }\n\n  setValue(value, step) {\n    if (is.num(value)) {\n      this.lastPosition = value;\n\n      if (step) {\n        value = Math.round(value / step) * step;\n\n        if (this.done) {\n          this.lastPosition = value;\n        }\n      }\n    }\n\n    if (this._value === value) {\n      return false;\n    }\n\n    this._value = value;\n    return true;\n  }\n\n  reset() {\n    const {\n      done\n    } = this;\n    this.done = false;\n\n    if (is.num(this._value)) {\n      this.elapsedTime = 0;\n      this.durationProgress = 0;\n      this.lastPosition = this._value;\n      if (done) this.lastVelocity = null;\n      this.v0 = null;\n    }\n  }\n\n}\n\nclass AnimatedString extends AnimatedValue {\n  constructor(value) {\n    super(0);\n    this._string = null;\n    this._toString = void 0;\n    this._toString = createInterpolator({\n      output: [value, value]\n    });\n  }\n\n  static create(value) {\n    return new AnimatedString(value);\n  }\n\n  getValue() {\n    let value = this._string;\n    return value == null ? this._string = this._toString(this._value) : value;\n  }\n\n  setValue(value) {\n    if (is.str(value)) {\n      if (value == this._string) {\n        return false;\n      }\n\n      this._string = value;\n      this._value = 1;\n    } else if (super.setValue(value)) {\n      this._string = null;\n    } else {\n      return false;\n    }\n\n    return true;\n  }\n\n  reset(goal) {\n    if (goal) {\n      this._toString = createInterpolator({\n        output: [this.getValue(), goal]\n      });\n    }\n\n    this._value = 0;\n    super.reset();\n  }\n\n}\n\nconst TreeContext = {\n  dependencies: null\n};\n\nclass AnimatedObject extends Animated {\n  constructor(source) {\n    super();\n    this.source = source;\n    this.setValue(source);\n  }\n\n  getValue(animated) {\n    const values = {};\n    eachProp(this.source, (source, key) => {\n      if (isAnimated(source)) {\n        values[key] = source.getValue(animated);\n      } else if (hasFluidValue(source)) {\n        values[key] = getFluidValue(source);\n      } else if (!animated) {\n        values[key] = source;\n      }\n    });\n    return values;\n  }\n\n  setValue(source) {\n    this.source = source;\n    this.payload = this._makePayload(source);\n  }\n\n  reset() {\n    if (this.payload) {\n      each(this.payload, node => node.reset());\n    }\n  }\n\n  _makePayload(source) {\n    if (source) {\n      const payload = new Set();\n      eachProp(source, this._addToPayload, payload);\n      return Array.from(payload);\n    }\n  }\n\n  _addToPayload(source) {\n    if (TreeContext.dependencies && hasFluidValue(source)) {\n      TreeContext.dependencies.add(source);\n    }\n\n    const payload = getPayload(source);\n\n    if (payload) {\n      each(payload, node => this.add(node));\n    }\n  }\n\n}\n\nclass AnimatedArray extends AnimatedObject {\n  constructor(source) {\n    super(source);\n  }\n\n  static create(source) {\n    return new AnimatedArray(source);\n  }\n\n  getValue() {\n    return this.source.map(node => node.getValue());\n  }\n\n  setValue(source) {\n    const payload = this.getPayload();\n\n    if (source.length == payload.length) {\n      return payload.map((node, i) => node.setValue(source[i])).some(Boolean);\n    }\n\n    super.setValue(source.map(makeAnimated));\n    return true;\n  }\n\n}\n\nfunction makeAnimated(value) {\n  const nodeType = isAnimatedString(value) ? AnimatedString : AnimatedValue;\n  return nodeType.create(value);\n}\n\nfunction getAnimatedType(value) {\n  const parentNode = getAnimated(value);\n  return parentNode ? parentNode.constructor : is.arr(value) ? AnimatedArray : isAnimatedString(value) ? AnimatedString : AnimatedValue;\n}\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nconst withAnimated = (Component, host) => {\n  const hasInstance = !is.fun(Component) || Component.prototype && Component.prototype.isReactComponent;\n  return forwardRef((givenProps, givenRef) => {\n    const instanceRef = useRef(null);\n    const ref = hasInstance && useCallback(value => {\n      instanceRef.current = updateRef(givenRef, value);\n    }, [givenRef]);\n    const [props, deps] = getAnimatedState(givenProps, host);\n    const forceUpdate = useForceUpdate();\n\n    const callback = () => {\n      const instance = instanceRef.current;\n\n      if (hasInstance && !instance) {\n        return;\n      }\n\n      const didUpdate = instance ? host.applyAnimatedValues(instance, props.getValue(true)) : false;\n\n      if (didUpdate === false) {\n        forceUpdate();\n      }\n    };\n\n    const observer = new PropsObserver(callback, deps);\n    const observerRef = useRef();\n    useIsomorphicLayoutEffect(() => {\n      observerRef.current = observer;\n      each(deps, dep => addFluidObserver(dep, observer));\n      return () => {\n        if (observerRef.current) {\n          each(observerRef.current.deps, dep => removeFluidObserver(dep, observerRef.current));\n          raf.cancel(observerRef.current.update);\n        }\n      };\n    });\n    useEffect(callback, []);\n    useOnce(() => () => {\n      const observer = observerRef.current;\n      each(observer.deps, dep => removeFluidObserver(dep, observer));\n    });\n    const usedProps = host.getComponentProps(props.getValue());\n    return React.createElement(Component, _extends({}, usedProps, {\n      ref: ref\n    }));\n  });\n};\n\nclass PropsObserver {\n  constructor(update, deps) {\n    this.update = update;\n    this.deps = deps;\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      raf.write(this.update);\n    }\n  }\n\n}\n\nfunction getAnimatedState(props, host) {\n  const dependencies = new Set();\n  TreeContext.dependencies = dependencies;\n  if (props.style) props = _extends({}, props, {\n    style: host.createAnimatedStyle(props.style)\n  });\n  props = new AnimatedObject(props);\n  TreeContext.dependencies = null;\n  return [props, dependencies];\n}\n\nfunction updateRef(ref, value) {\n  if (ref) {\n    if (is.fun(ref)) ref(value);else ref.current = value;\n  }\n\n  return value;\n}\n\nconst cacheKey = Symbol.for('AnimatedComponent');\nconst createHost = (components, {\n  applyAnimatedValues: _applyAnimatedValues = () => false,\n  createAnimatedStyle: _createAnimatedStyle = style => new AnimatedObject(style),\n  getComponentProps: _getComponentProps = props => props\n} = {}) => {\n  const hostConfig = {\n    applyAnimatedValues: _applyAnimatedValues,\n    createAnimatedStyle: _createAnimatedStyle,\n    getComponentProps: _getComponentProps\n  };\n\n  const animated = Component => {\n    const displayName = getDisplayName(Component) || 'Anonymous';\n\n    if (is.str(Component)) {\n      Component = animated[Component] || (animated[Component] = withAnimated(Component, hostConfig));\n    } else {\n      Component = Component[cacheKey] || (Component[cacheKey] = withAnimated(Component, hostConfig));\n    }\n\n    Component.displayName = `Animated(${displayName})`;\n    return Component;\n  };\n\n  eachProp(components, (Component, key) => {\n    if (is.arr(components)) {\n      key = getDisplayName(Component);\n    }\n\n    animated[key] = animated(Component);\n  });\n  return {\n    animated\n  };\n};\n\nconst getDisplayName = arg => is.str(arg) ? arg : arg && is.str(arg.displayName) ? arg.displayName : is.fun(arg) && arg.name || null;\n\nexport { Animated, AnimatedArray, AnimatedObject, AnimatedString, AnimatedValue, createHost, getAnimated, getAnimatedType, getPayload, isAnimated, setAnimated };\n","import { eachProp, is, toArray, getFluidValue, isAnimatedString, Globals, useIsomorphicLayoutEffect, each, easings, raf, flush, FluidValue, deprecateInterpolate, callFluidObservers, frameLoop, hasFluidValue, flushCalls, isEqual, getFluidObservers, addFluidObserver, removeFluidObserver, noop, useMemoOne, deprecateDirectCall, useForceUpdate, usePrev, useOnce, useConstant, onScroll, onResize, createInterpolator, createStringInterpolator } from '@react-spring/shared';\nexport { Globals, createInterpolator, easings, useIsomorphicLayoutEffect, useReducedMotion } from '@react-spring/shared';\nimport * as React from 'react';\nimport { useContext, useMemo, useRef, useState } from 'react';\nimport { getAnimated, AnimatedValue, getPayload, AnimatedString, getAnimatedType, setAnimated } from '@react-spring/animated';\nexport * from '@react-spring/types/animated';\nexport * from '@react-spring/types/interpolation';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction callProp(value, ...args) {\n  return is.fun(value) ? value(...args) : value;\n}\nconst matchProp = (value, key) => value === true || !!(key && value && (is.fun(value) ? value(key) : toArray(value).includes(key)));\nconst resolveProp = (prop, key) => is.obj(prop) ? key && prop[key] : prop;\nconst getDefaultProp = (props, key) => props.default === true ? props[key] : props.default ? props.default[key] : undefined;\n\nconst noopTransform = value => value;\n\nconst getDefaultProps = (props, transform = noopTransform) => {\n  let keys = DEFAULT_PROPS;\n\n  if (props.default && props.default !== true) {\n    props = props.default;\n    keys = Object.keys(props);\n  }\n\n  const defaults = {};\n\n  for (const key of keys) {\n    const value = transform(props[key], key);\n\n    if (!is.und(value)) {\n      defaults[key] = value;\n    }\n  }\n\n  return defaults;\n};\nconst DEFAULT_PROPS = ['config', 'onProps', 'onStart', 'onChange', 'onPause', 'onResume', 'onRest'];\nconst RESERVED_PROPS = {\n  config: 1,\n  from: 1,\n  to: 1,\n  ref: 1,\n  loop: 1,\n  reset: 1,\n  pause: 1,\n  cancel: 1,\n  reverse: 1,\n  immediate: 1,\n  default: 1,\n  delay: 1,\n  onProps: 1,\n  onStart: 1,\n  onChange: 1,\n  onPause: 1,\n  onResume: 1,\n  onRest: 1,\n  onResolve: 1,\n  items: 1,\n  trail: 1,\n  sort: 1,\n  expires: 1,\n  initial: 1,\n  enter: 1,\n  update: 1,\n  leave: 1,\n  children: 1,\n  onDestroyed: 1,\n  keys: 1,\n  callId: 1,\n  parentId: 1\n};\n\nfunction getForwardProps(props) {\n  const forward = {};\n  let count = 0;\n  eachProp(props, (value, prop) => {\n    if (!RESERVED_PROPS[prop]) {\n      forward[prop] = value;\n      count++;\n    }\n  });\n\n  if (count) {\n    return forward;\n  }\n}\n\nfunction inferTo(props) {\n  const to = getForwardProps(props);\n\n  if (to) {\n    const out = {\n      to\n    };\n    eachProp(props, (val, key) => key in to || (out[key] = val));\n    return out;\n  }\n\n  return _extends({}, props);\n}\nfunction computeGoal(value) {\n  value = getFluidValue(value);\n  return is.arr(value) ? value.map(computeGoal) : isAnimatedString(value) ? Globals.createStringInterpolator({\n    range: [0, 1],\n    output: [value, value]\n  })(1) : value;\n}\nfunction hasProps(props) {\n  for (const _ in props) return true;\n\n  return false;\n}\nfunction isAsyncTo(to) {\n  return is.fun(to) || is.arr(to) && is.obj(to[0]);\n}\nfunction detachRefs(ctrl, ref) {\n  var _ctrl$ref;\n\n  (_ctrl$ref = ctrl.ref) == null ? void 0 : _ctrl$ref.delete(ctrl);\n  ref == null ? void 0 : ref.delete(ctrl);\n}\nfunction replaceRef(ctrl, ref) {\n  if (ref && ctrl.ref !== ref) {\n    var _ctrl$ref2;\n\n    (_ctrl$ref2 = ctrl.ref) == null ? void 0 : _ctrl$ref2.delete(ctrl);\n    ref.add(ctrl);\n    ctrl.ref = ref;\n  }\n}\n\nfunction useChain(refs, timeSteps, timeFrame = 1000) {\n  useIsomorphicLayoutEffect(() => {\n    if (timeSteps) {\n      let prevDelay = 0;\n      each(refs, (ref, i) => {\n        const controllers = ref.current;\n\n        if (controllers.length) {\n          let delay = timeFrame * timeSteps[i];\n          if (isNaN(delay)) delay = prevDelay;else prevDelay = delay;\n          each(controllers, ctrl => {\n            each(ctrl.queue, props => {\n              const memoizedDelayProp = props.delay;\n\n              props.delay = key => delay + callProp(memoizedDelayProp || 0, key);\n            });\n          });\n          ref.start();\n        }\n      });\n    } else {\n      let p = Promise.resolve();\n      each(refs, ref => {\n        const controllers = ref.current;\n\n        if (controllers.length) {\n          const queues = controllers.map(ctrl => {\n            const q = ctrl.queue;\n            ctrl.queue = [];\n            return q;\n          });\n          p = p.then(() => {\n            each(controllers, (ctrl, i) => each(queues[i] || [], update => ctrl.queue.push(update)));\n            return Promise.all(ref.start());\n          });\n        }\n      });\n    }\n  });\n}\n\nconst config = {\n  default: {\n    tension: 170,\n    friction: 26\n  },\n  gentle: {\n    tension: 120,\n    friction: 14\n  },\n  wobbly: {\n    tension: 180,\n    friction: 12\n  },\n  stiff: {\n    tension: 210,\n    friction: 20\n  },\n  slow: {\n    tension: 280,\n    friction: 60\n  },\n  molasses: {\n    tension: 280,\n    friction: 120\n  }\n};\n\nconst defaults = _extends({}, config.default, {\n  mass: 1,\n  damping: 1,\n  easing: easings.linear,\n  clamp: false\n});\n\nclass AnimationConfig {\n  constructor() {\n    this.tension = void 0;\n    this.friction = void 0;\n    this.frequency = void 0;\n    this.damping = void 0;\n    this.mass = void 0;\n    this.velocity = 0;\n    this.restVelocity = void 0;\n    this.precision = void 0;\n    this.progress = void 0;\n    this.duration = void 0;\n    this.easing = void 0;\n    this.clamp = void 0;\n    this.bounce = void 0;\n    this.decay = void 0;\n    this.round = void 0;\n    Object.assign(this, defaults);\n  }\n\n}\nfunction mergeConfig(config, newConfig, defaultConfig) {\n  if (defaultConfig) {\n    defaultConfig = _extends({}, defaultConfig);\n    sanitizeConfig(defaultConfig, newConfig);\n    newConfig = _extends({}, defaultConfig, newConfig);\n  }\n\n  sanitizeConfig(config, newConfig);\n  Object.assign(config, newConfig);\n\n  for (const key in defaults) {\n    if (config[key] == null) {\n      config[key] = defaults[key];\n    }\n  }\n\n  let {\n    mass,\n    frequency,\n    damping\n  } = config;\n\n  if (!is.und(frequency)) {\n    if (frequency < 0.01) frequency = 0.01;\n    if (damping < 0) damping = 0;\n    config.tension = Math.pow(2 * Math.PI / frequency, 2) * mass;\n    config.friction = 4 * Math.PI * damping * mass / frequency;\n  }\n\n  return config;\n}\n\nfunction sanitizeConfig(config, props) {\n  if (!is.und(props.decay)) {\n    config.duration = undefined;\n  } else {\n    const isTensionConfig = !is.und(props.tension) || !is.und(props.friction);\n\n    if (isTensionConfig || !is.und(props.frequency) || !is.und(props.damping) || !is.und(props.mass)) {\n      config.duration = undefined;\n      config.decay = undefined;\n    }\n\n    if (isTensionConfig) {\n      config.frequency = undefined;\n    }\n  }\n}\n\nconst emptyArray = [];\nclass Animation {\n  constructor() {\n    this.changed = false;\n    this.values = emptyArray;\n    this.toValues = null;\n    this.fromValues = emptyArray;\n    this.to = void 0;\n    this.from = void 0;\n    this.config = new AnimationConfig();\n    this.immediate = false;\n  }\n\n}\n\nfunction scheduleProps(callId, {\n  key,\n  props,\n  defaultProps,\n  state,\n  actions\n}) {\n  return new Promise((resolve, reject) => {\n    var _props$cancel;\n\n    let delay;\n    let timeout;\n    let cancel = matchProp((_props$cancel = props.cancel) != null ? _props$cancel : defaultProps == null ? void 0 : defaultProps.cancel, key);\n\n    if (cancel) {\n      onStart();\n    } else {\n      if (!is.und(props.pause)) {\n        state.paused = matchProp(props.pause, key);\n      }\n\n      let pause = defaultProps == null ? void 0 : defaultProps.pause;\n\n      if (pause !== true) {\n        pause = state.paused || matchProp(pause, key);\n      }\n\n      delay = callProp(props.delay || 0, key);\n\n      if (pause) {\n        state.resumeQueue.add(onResume);\n        actions.pause();\n      } else {\n        actions.resume();\n        onResume();\n      }\n    }\n\n    function onPause() {\n      state.resumeQueue.add(onResume);\n      state.timeouts.delete(timeout);\n      timeout.cancel();\n      delay = timeout.time - raf.now();\n    }\n\n    function onResume() {\n      if (delay > 0 && !Globals.skipAnimation) {\n        state.delayed = true;\n        timeout = raf.setTimeout(onStart, delay);\n        state.pauseQueue.add(onPause);\n        state.timeouts.add(timeout);\n      } else {\n        onStart();\n      }\n    }\n\n    function onStart() {\n      if (state.delayed) {\n        state.delayed = false;\n      }\n\n      state.pauseQueue.delete(onPause);\n      state.timeouts.delete(timeout);\n\n      if (callId <= (state.cancelId || 0)) {\n        cancel = true;\n      }\n\n      try {\n        actions.start(_extends({}, props, {\n          callId,\n          cancel\n        }), resolve);\n      } catch (err) {\n        reject(err);\n      }\n    }\n  });\n}\n\nconst getCombinedResult = (target, results) => results.length == 1 ? results[0] : results.some(result => result.cancelled) ? getCancelledResult(target.get()) : results.every(result => result.noop) ? getNoopResult(target.get()) : getFinishedResult(target.get(), results.every(result => result.finished));\nconst getNoopResult = value => ({\n  value,\n  noop: true,\n  finished: true,\n  cancelled: false\n});\nconst getFinishedResult = (value, finished, cancelled = false) => ({\n  value,\n  finished,\n  cancelled\n});\nconst getCancelledResult = value => ({\n  value,\n  cancelled: true,\n  finished: false\n});\n\nfunction runAsync(to, props, state, target) {\n  const {\n    callId,\n    parentId,\n    onRest\n  } = props;\n  const {\n    asyncTo: prevTo,\n    promise: prevPromise\n  } = state;\n\n  if (!parentId && to === prevTo && !props.reset) {\n    return prevPromise;\n  }\n\n  return state.promise = (async () => {\n    state.asyncId = callId;\n    state.asyncTo = to;\n    const defaultProps = getDefaultProps(props, (value, key) => key === 'onRest' ? undefined : value);\n    let preventBail;\n    let bail;\n    const bailPromise = new Promise((resolve, reject) => (preventBail = resolve, bail = reject));\n\n    const bailIfEnded = bailSignal => {\n      const bailResult = callId <= (state.cancelId || 0) && getCancelledResult(target) || callId !== state.asyncId && getFinishedResult(target, false);\n\n      if (bailResult) {\n        bailSignal.result = bailResult;\n        bail(bailSignal);\n        throw bailSignal;\n      }\n    };\n\n    const animate = (arg1, arg2) => {\n      const bailSignal = new BailSignal();\n      const skipAnimationSignal = new SkipAnimationSignal();\n      return (async () => {\n        if (Globals.skipAnimation) {\n          stopAsync(state);\n          skipAnimationSignal.result = getFinishedResult(target, false);\n          bail(skipAnimationSignal);\n          throw skipAnimationSignal;\n        }\n\n        bailIfEnded(bailSignal);\n        const props = is.obj(arg1) ? _extends({}, arg1) : _extends({}, arg2, {\n          to: arg1\n        });\n        props.parentId = callId;\n        eachProp(defaultProps, (value, key) => {\n          if (is.und(props[key])) {\n            props[key] = value;\n          }\n        });\n        const result = await target.start(props);\n        bailIfEnded(bailSignal);\n\n        if (state.paused) {\n          await new Promise(resume => {\n            state.resumeQueue.add(resume);\n          });\n        }\n\n        return result;\n      })();\n    };\n\n    let result;\n\n    if (Globals.skipAnimation) {\n      stopAsync(state);\n      return getFinishedResult(target, false);\n    }\n\n    try {\n      let animating;\n\n      if (is.arr(to)) {\n        animating = (async queue => {\n          for (const props of queue) {\n            await animate(props);\n          }\n        })(to);\n      } else {\n        animating = Promise.resolve(to(animate, target.stop.bind(target)));\n      }\n\n      await Promise.all([animating.then(preventBail), bailPromise]);\n      result = getFinishedResult(target.get(), true, false);\n    } catch (err) {\n      if (err instanceof BailSignal) {\n        result = err.result;\n      } else if (err instanceof SkipAnimationSignal) {\n        result = err.result;\n      } else {\n        throw err;\n      }\n    } finally {\n      if (callId == state.asyncId) {\n        state.asyncId = parentId;\n        state.asyncTo = parentId ? prevTo : undefined;\n        state.promise = parentId ? prevPromise : undefined;\n      }\n    }\n\n    if (is.fun(onRest)) {\n      raf.batchedUpdates(() => {\n        onRest(result, target, target.item);\n      });\n    }\n\n    return result;\n  })();\n}\nfunction stopAsync(state, cancelId) {\n  flush(state.timeouts, t => t.cancel());\n  state.pauseQueue.clear();\n  state.resumeQueue.clear();\n  state.asyncId = state.asyncTo = state.promise = undefined;\n  if (cancelId) state.cancelId = cancelId;\n}\nclass BailSignal extends Error {\n  constructor() {\n    super('An async animation has been interrupted. You see this error because you ' + 'forgot to use `await` or `.catch(...)` on its returned promise.');\n    this.result = void 0;\n  }\n\n}\nclass SkipAnimationSignal extends Error {\n  constructor() {\n    super('SkipAnimationSignal');\n    this.result = void 0;\n  }\n\n}\n\nconst isFrameValue = value => value instanceof FrameValue;\nlet nextId$1 = 1;\nclass FrameValue extends FluidValue {\n  constructor(...args) {\n    super(...args);\n    this.id = nextId$1++;\n    this.key = void 0;\n    this._priority = 0;\n  }\n\n  get priority() {\n    return this._priority;\n  }\n\n  set priority(priority) {\n    if (this._priority != priority) {\n      this._priority = priority;\n\n      this._onPriorityChange(priority);\n    }\n  }\n\n  get() {\n    const node = getAnimated(this);\n    return node && node.getValue();\n  }\n\n  to(...args) {\n    return Globals.to(this, args);\n  }\n\n  interpolate(...args) {\n    deprecateInterpolate();\n    return Globals.to(this, args);\n  }\n\n  toJSON() {\n    return this.get();\n  }\n\n  observerAdded(count) {\n    if (count == 1) this._attach();\n  }\n\n  observerRemoved(count) {\n    if (count == 0) this._detach();\n  }\n\n  _attach() {}\n\n  _detach() {}\n\n  _onChange(value, idle = false) {\n    callFluidObservers(this, {\n      type: 'change',\n      parent: this,\n      value,\n      idle\n    });\n  }\n\n  _onPriorityChange(priority) {\n    if (!this.idle) {\n      frameLoop.sort(this);\n    }\n\n    callFluidObservers(this, {\n      type: 'priority',\n      parent: this,\n      priority\n    });\n  }\n\n}\n\nconst $P = Symbol.for('SpringPhase');\nconst HAS_ANIMATED = 1;\nconst IS_ANIMATING = 2;\nconst IS_PAUSED = 4;\nconst hasAnimated = target => (target[$P] & HAS_ANIMATED) > 0;\nconst isAnimating = target => (target[$P] & IS_ANIMATING) > 0;\nconst isPaused = target => (target[$P] & IS_PAUSED) > 0;\nconst setActiveBit = (target, active) => active ? target[$P] |= IS_ANIMATING | HAS_ANIMATED : target[$P] &= ~IS_ANIMATING;\nconst setPausedBit = (target, paused) => paused ? target[$P] |= IS_PAUSED : target[$P] &= ~IS_PAUSED;\n\nclass SpringValue extends FrameValue {\n  constructor(arg1, arg2) {\n    super();\n    this.key = void 0;\n    this.animation = new Animation();\n    this.queue = void 0;\n    this.defaultProps = {};\n    this._state = {\n      paused: false,\n      delayed: false,\n      pauseQueue: new Set(),\n      resumeQueue: new Set(),\n      timeouts: new Set()\n    };\n    this._pendingCalls = new Set();\n    this._lastCallId = 0;\n    this._lastToId = 0;\n    this._memoizedDuration = 0;\n\n    if (!is.und(arg1) || !is.und(arg2)) {\n      const props = is.obj(arg1) ? _extends({}, arg1) : _extends({}, arg2, {\n        from: arg1\n      });\n\n      if (is.und(props.default)) {\n        props.default = true;\n      }\n\n      this.start(props);\n    }\n  }\n\n  get idle() {\n    return !(isAnimating(this) || this._state.asyncTo) || isPaused(this);\n  }\n\n  get goal() {\n    return getFluidValue(this.animation.to);\n  }\n\n  get velocity() {\n    const node = getAnimated(this);\n    return node instanceof AnimatedValue ? node.lastVelocity || 0 : node.getPayload().map(node => node.lastVelocity || 0);\n  }\n\n  get hasAnimated() {\n    return hasAnimated(this);\n  }\n\n  get isAnimating() {\n    return isAnimating(this);\n  }\n\n  get isPaused() {\n    return isPaused(this);\n  }\n\n  get isDelayed() {\n    return this._state.delayed;\n  }\n\n  advance(dt) {\n    let idle = true;\n    let changed = false;\n    const anim = this.animation;\n    let {\n      config,\n      toValues\n    } = anim;\n    const payload = getPayload(anim.to);\n\n    if (!payload && hasFluidValue(anim.to)) {\n      toValues = toArray(getFluidValue(anim.to));\n    }\n\n    anim.values.forEach((node, i) => {\n      if (node.done) return;\n      const to = node.constructor == AnimatedString ? 1 : payload ? payload[i].lastPosition : toValues[i];\n      let finished = anim.immediate;\n      let position = to;\n\n      if (!finished) {\n        position = node.lastPosition;\n\n        if (config.tension <= 0) {\n          node.done = true;\n          return;\n        }\n\n        let elapsed = node.elapsedTime += dt;\n        const from = anim.fromValues[i];\n        const v0 = node.v0 != null ? node.v0 : node.v0 = is.arr(config.velocity) ? config.velocity[i] : config.velocity;\n        let velocity;\n        const precision = config.precision || (from == to ? 0.005 : Math.min(1, Math.abs(to - from) * 0.001));\n\n        if (!is.und(config.duration)) {\n          let p = 1;\n\n          if (config.duration > 0) {\n            if (this._memoizedDuration !== config.duration) {\n              this._memoizedDuration = config.duration;\n\n              if (node.durationProgress > 0) {\n                node.elapsedTime = config.duration * node.durationProgress;\n                elapsed = node.elapsedTime += dt;\n              }\n            }\n\n            p = (config.progress || 0) + elapsed / this._memoizedDuration;\n            p = p > 1 ? 1 : p < 0 ? 0 : p;\n            node.durationProgress = p;\n          }\n\n          position = from + config.easing(p) * (to - from);\n          velocity = (position - node.lastPosition) / dt;\n          finished = p == 1;\n        } else if (config.decay) {\n          const decay = config.decay === true ? 0.998 : config.decay;\n          const e = Math.exp(-(1 - decay) * elapsed);\n          position = from + v0 / (1 - decay) * (1 - e);\n          finished = Math.abs(node.lastPosition - position) <= precision;\n          velocity = v0 * e;\n        } else {\n          velocity = node.lastVelocity == null ? v0 : node.lastVelocity;\n          const restVelocity = config.restVelocity || precision / 10;\n          const bounceFactor = config.clamp ? 0 : config.bounce;\n          const canBounce = !is.und(bounceFactor);\n          const isGrowing = from == to ? node.v0 > 0 : from < to;\n          let isMoving;\n          let isBouncing = false;\n          const step = 1;\n          const numSteps = Math.ceil(dt / step);\n\n          for (let n = 0; n < numSteps; ++n) {\n            isMoving = Math.abs(velocity) > restVelocity;\n\n            if (!isMoving) {\n              finished = Math.abs(to - position) <= precision;\n\n              if (finished) {\n                break;\n              }\n            }\n\n            if (canBounce) {\n              isBouncing = position == to || position > to == isGrowing;\n\n              if (isBouncing) {\n                velocity = -velocity * bounceFactor;\n                position = to;\n              }\n            }\n\n            const springForce = -config.tension * 0.000001 * (position - to);\n            const dampingForce = -config.friction * 0.001 * velocity;\n            const acceleration = (springForce + dampingForce) / config.mass;\n            velocity = velocity + acceleration * step;\n            position = position + velocity * step;\n          }\n        }\n\n        node.lastVelocity = velocity;\n\n        if (Number.isNaN(position)) {\n          console.warn(`Got NaN while animating:`, this);\n          finished = true;\n        }\n      }\n\n      if (payload && !payload[i].done) {\n        finished = false;\n      }\n\n      if (finished) {\n        node.done = true;\n      } else {\n        idle = false;\n      }\n\n      if (node.setValue(position, config.round)) {\n        changed = true;\n      }\n    });\n    const node = getAnimated(this);\n    const currVal = node.getValue();\n\n    if (idle) {\n      const finalVal = getFluidValue(anim.to);\n\n      if ((currVal !== finalVal || changed) && !config.decay) {\n        node.setValue(finalVal);\n\n        this._onChange(finalVal);\n      } else if (changed && config.decay) {\n        this._onChange(currVal);\n      }\n\n      this._stop();\n    } else if (changed) {\n      this._onChange(currVal);\n    }\n  }\n\n  set(value) {\n    raf.batchedUpdates(() => {\n      this._stop();\n\n      this._focus(value);\n\n      this._set(value);\n    });\n    return this;\n  }\n\n  pause() {\n    this._update({\n      pause: true\n    });\n  }\n\n  resume() {\n    this._update({\n      pause: false\n    });\n  }\n\n  finish() {\n    if (isAnimating(this)) {\n      const {\n        to,\n        config\n      } = this.animation;\n      raf.batchedUpdates(() => {\n        this._onStart();\n\n        if (!config.decay) {\n          this._set(to, false);\n        }\n\n        this._stop();\n      });\n    }\n\n    return this;\n  }\n\n  update(props) {\n    const queue = this.queue || (this.queue = []);\n    queue.push(props);\n    return this;\n  }\n\n  start(to, arg2) {\n    let queue;\n\n    if (!is.und(to)) {\n      queue = [is.obj(to) ? to : _extends({}, arg2, {\n        to\n      })];\n    } else {\n      queue = this.queue || [];\n      this.queue = [];\n    }\n\n    return Promise.all(queue.map(props => {\n      const up = this._update(props);\n\n      return up;\n    })).then(results => getCombinedResult(this, results));\n  }\n\n  stop(cancel) {\n    const {\n      to\n    } = this.animation;\n\n    this._focus(this.get());\n\n    stopAsync(this._state, cancel && this._lastCallId);\n    raf.batchedUpdates(() => this._stop(to, cancel));\n    return this;\n  }\n\n  reset() {\n    this._update({\n      reset: true\n    });\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      this._start();\n    } else if (event.type == 'priority') {\n      this.priority = event.priority + 1;\n    }\n  }\n\n  _prepareNode(props) {\n    const key = this.key || '';\n    let {\n      to,\n      from\n    } = props;\n    to = is.obj(to) ? to[key] : to;\n\n    if (to == null || isAsyncTo(to)) {\n      to = undefined;\n    }\n\n    from = is.obj(from) ? from[key] : from;\n\n    if (from == null) {\n      from = undefined;\n    }\n\n    const range = {\n      to,\n      from\n    };\n\n    if (!hasAnimated(this)) {\n      if (props.reverse) [to, from] = [from, to];\n      from = getFluidValue(from);\n\n      if (!is.und(from)) {\n        this._set(from);\n      } else if (!getAnimated(this)) {\n        this._set(to);\n      }\n    }\n\n    return range;\n  }\n\n  _update(_ref, isLoop) {\n    let props = _extends({}, _ref);\n\n    const {\n      key,\n      defaultProps\n    } = this;\n    if (props.default) Object.assign(defaultProps, getDefaultProps(props, (value, prop) => /^on/.test(prop) ? resolveProp(value, key) : value));\n    mergeActiveFn(this, props, 'onProps');\n    sendEvent(this, 'onProps', props, this);\n\n    const range = this._prepareNode(props);\n\n    if (Object.isFrozen(this)) {\n      throw Error('Cannot animate a `SpringValue` object that is frozen. ' + 'Did you forget to pass your component to `animated(...)` before animating its props?');\n    }\n\n    const state = this._state;\n    return scheduleProps(++this._lastCallId, {\n      key,\n      props,\n      defaultProps,\n      state,\n      actions: {\n        pause: () => {\n          if (!isPaused(this)) {\n            setPausedBit(this, true);\n            flushCalls(state.pauseQueue);\n            sendEvent(this, 'onPause', getFinishedResult(this, checkFinished(this, this.animation.to)), this);\n          }\n        },\n        resume: () => {\n          if (isPaused(this)) {\n            setPausedBit(this, false);\n\n            if (isAnimating(this)) {\n              this._resume();\n            }\n\n            flushCalls(state.resumeQueue);\n            sendEvent(this, 'onResume', getFinishedResult(this, checkFinished(this, this.animation.to)), this);\n          }\n        },\n        start: this._merge.bind(this, range)\n      }\n    }).then(result => {\n      if (props.loop && result.finished && !(isLoop && result.noop)) {\n        const nextProps = createLoopUpdate(props);\n\n        if (nextProps) {\n          return this._update(nextProps, true);\n        }\n      }\n\n      return result;\n    });\n  }\n\n  _merge(range, props, resolve) {\n    if (props.cancel) {\n      this.stop(true);\n      return resolve(getCancelledResult(this));\n    }\n\n    const hasToProp = !is.und(range.to);\n    const hasFromProp = !is.und(range.from);\n\n    if (hasToProp || hasFromProp) {\n      if (props.callId > this._lastToId) {\n        this._lastToId = props.callId;\n      } else {\n        return resolve(getCancelledResult(this));\n      }\n    }\n\n    const {\n      key,\n      defaultProps,\n      animation: anim\n    } = this;\n    const {\n      to: prevTo,\n      from: prevFrom\n    } = anim;\n    let {\n      to = prevTo,\n      from = prevFrom\n    } = range;\n\n    if (hasFromProp && !hasToProp && (!props.default || is.und(to))) {\n      to = from;\n    }\n\n    if (props.reverse) [to, from] = [from, to];\n    const hasFromChanged = !isEqual(from, prevFrom);\n\n    if (hasFromChanged) {\n      anim.from = from;\n    }\n\n    from = getFluidValue(from);\n    const hasToChanged = !isEqual(to, prevTo);\n\n    if (hasToChanged) {\n      this._focus(to);\n    }\n\n    const hasAsyncTo = isAsyncTo(props.to);\n    const {\n      config\n    } = anim;\n    const {\n      decay,\n      velocity\n    } = config;\n\n    if (hasToProp || hasFromProp) {\n      config.velocity = 0;\n    }\n\n    if (props.config && !hasAsyncTo) {\n      mergeConfig(config, callProp(props.config, key), props.config !== defaultProps.config ? callProp(defaultProps.config, key) : void 0);\n    }\n\n    let node = getAnimated(this);\n\n    if (!node || is.und(to)) {\n      return resolve(getFinishedResult(this, true));\n    }\n\n    const reset = is.und(props.reset) ? hasFromProp && !props.default : !is.und(from) && matchProp(props.reset, key);\n    const value = reset ? from : this.get();\n    const goal = computeGoal(to);\n    const isAnimatable = is.num(goal) || is.arr(goal) || isAnimatedString(goal);\n    const immediate = !hasAsyncTo && (!isAnimatable || matchProp(defaultProps.immediate || props.immediate, key));\n\n    if (hasToChanged) {\n      const nodeType = getAnimatedType(to);\n\n      if (nodeType !== node.constructor) {\n        if (immediate) {\n          node = this._set(goal);\n        } else throw Error(`Cannot animate between ${node.constructor.name} and ${nodeType.name}, as the \"to\" prop suggests`);\n      }\n    }\n\n    const goalType = node.constructor;\n    let started = hasFluidValue(to);\n    let finished = false;\n\n    if (!started) {\n      const hasValueChanged = reset || !hasAnimated(this) && hasFromChanged;\n\n      if (hasToChanged || hasValueChanged) {\n        finished = isEqual(computeGoal(value), goal);\n        started = !finished;\n      }\n\n      if (!isEqual(anim.immediate, immediate) && !immediate || !isEqual(config.decay, decay) || !isEqual(config.velocity, velocity)) {\n        started = true;\n      }\n    }\n\n    if (finished && isAnimating(this)) {\n      if (anim.changed && !reset) {\n        started = true;\n      } else if (!started) {\n        this._stop(prevTo);\n      }\n    }\n\n    if (!hasAsyncTo) {\n      if (started || hasFluidValue(prevTo)) {\n        anim.values = node.getPayload();\n        anim.toValues = hasFluidValue(to) ? null : goalType == AnimatedString ? [1] : toArray(goal);\n      }\n\n      if (anim.immediate != immediate) {\n        anim.immediate = immediate;\n\n        if (!immediate && !reset) {\n          this._set(prevTo);\n        }\n      }\n\n      if (started) {\n        const {\n          onRest\n        } = anim;\n        each(ACTIVE_EVENTS, type => mergeActiveFn(this, props, type));\n        const result = getFinishedResult(this, checkFinished(this, prevTo));\n        flushCalls(this._pendingCalls, result);\n\n        this._pendingCalls.add(resolve);\n\n        if (anim.changed) raf.batchedUpdates(() => {\n          anim.changed = !reset;\n          onRest == null ? void 0 : onRest(result, this);\n\n          if (reset) {\n            callProp(defaultProps.onRest, result);\n          } else {\n            anim.onStart == null ? void 0 : anim.onStart(result, this);\n          }\n        });\n      }\n    }\n\n    if (reset) {\n      this._set(value);\n    }\n\n    if (hasAsyncTo) {\n      resolve(runAsync(props.to, props, this._state, this));\n    } else if (started) {\n      this._start();\n    } else if (isAnimating(this) && !hasToChanged) {\n      this._pendingCalls.add(resolve);\n    } else {\n      resolve(getNoopResult(value));\n    }\n  }\n\n  _focus(value) {\n    const anim = this.animation;\n\n    if (value !== anim.to) {\n      if (getFluidObservers(this)) {\n        this._detach();\n      }\n\n      anim.to = value;\n\n      if (getFluidObservers(this)) {\n        this._attach();\n      }\n    }\n  }\n\n  _attach() {\n    let priority = 0;\n    const {\n      to\n    } = this.animation;\n\n    if (hasFluidValue(to)) {\n      addFluidObserver(to, this);\n\n      if (isFrameValue(to)) {\n        priority = to.priority + 1;\n      }\n    }\n\n    this.priority = priority;\n  }\n\n  _detach() {\n    const {\n      to\n    } = this.animation;\n\n    if (hasFluidValue(to)) {\n      removeFluidObserver(to, this);\n    }\n  }\n\n  _set(arg, idle = true) {\n    const value = getFluidValue(arg);\n\n    if (!is.und(value)) {\n      const oldNode = getAnimated(this);\n\n      if (!oldNode || !isEqual(value, oldNode.getValue())) {\n        const nodeType = getAnimatedType(value);\n\n        if (!oldNode || oldNode.constructor != nodeType) {\n          setAnimated(this, nodeType.create(value));\n        } else {\n          oldNode.setValue(value);\n        }\n\n        if (oldNode) {\n          raf.batchedUpdates(() => {\n            this._onChange(value, idle);\n          });\n        }\n      }\n    }\n\n    return getAnimated(this);\n  }\n\n  _onStart() {\n    const anim = this.animation;\n\n    if (!anim.changed) {\n      anim.changed = true;\n      sendEvent(this, 'onStart', getFinishedResult(this, checkFinished(this, anim.to)), this);\n    }\n  }\n\n  _onChange(value, idle) {\n    if (!idle) {\n      this._onStart();\n\n      callProp(this.animation.onChange, value, this);\n    }\n\n    callProp(this.defaultProps.onChange, value, this);\n\n    super._onChange(value, idle);\n  }\n\n  _start() {\n    const anim = this.animation;\n    getAnimated(this).reset(getFluidValue(anim.to));\n\n    if (!anim.immediate) {\n      anim.fromValues = anim.values.map(node => node.lastPosition);\n    }\n\n    if (!isAnimating(this)) {\n      setActiveBit(this, true);\n\n      if (!isPaused(this)) {\n        this._resume();\n      }\n    }\n  }\n\n  _resume() {\n    if (Globals.skipAnimation) {\n      this.finish();\n    } else {\n      frameLoop.start(this);\n    }\n  }\n\n  _stop(goal, cancel) {\n    if (isAnimating(this)) {\n      setActiveBit(this, false);\n      const anim = this.animation;\n      each(anim.values, node => {\n        node.done = true;\n      });\n\n      if (anim.toValues) {\n        anim.onChange = anim.onPause = anim.onResume = undefined;\n      }\n\n      callFluidObservers(this, {\n        type: 'idle',\n        parent: this\n      });\n      const result = cancel ? getCancelledResult(this.get()) : getFinishedResult(this.get(), checkFinished(this, goal != null ? goal : anim.to));\n      flushCalls(this._pendingCalls, result);\n\n      if (anim.changed) {\n        anim.changed = false;\n        sendEvent(this, 'onRest', result, this);\n      }\n    }\n  }\n\n}\n\nfunction checkFinished(target, to) {\n  const goal = computeGoal(to);\n  const value = computeGoal(target.get());\n  return isEqual(value, goal);\n}\n\nfunction createLoopUpdate(props, loop = props.loop, to = props.to) {\n  let loopRet = callProp(loop);\n\n  if (loopRet) {\n    const overrides = loopRet !== true && inferTo(loopRet);\n    const reverse = (overrides || props).reverse;\n    const reset = !overrides || overrides.reset;\n    return createUpdate(_extends({}, props, {\n      loop,\n      default: false,\n      pause: undefined,\n      to: !reverse || isAsyncTo(to) ? to : undefined,\n      from: reset ? props.from : undefined,\n      reset\n    }, overrides));\n  }\n}\nfunction createUpdate(props) {\n  const {\n    to,\n    from\n  } = props = inferTo(props);\n  const keys = new Set();\n  if (is.obj(to)) findDefined(to, keys);\n  if (is.obj(from)) findDefined(from, keys);\n  props.keys = keys.size ? Array.from(keys) : null;\n  return props;\n}\nfunction declareUpdate(props) {\n  const update = createUpdate(props);\n\n  if (is.und(update.default)) {\n    update.default = getDefaultProps(update);\n  }\n\n  return update;\n}\n\nfunction findDefined(values, keys) {\n  eachProp(values, (value, key) => value != null && keys.add(key));\n}\n\nconst ACTIVE_EVENTS = ['onStart', 'onRest', 'onChange', 'onPause', 'onResume'];\n\nfunction mergeActiveFn(target, props, type) {\n  target.animation[type] = props[type] !== getDefaultProp(props, type) ? resolveProp(props[type], target.key) : undefined;\n}\n\nfunction sendEvent(target, type, ...args) {\n  var _target$animation$typ, _target$animation, _target$defaultProps$, _target$defaultProps;\n\n  (_target$animation$typ = (_target$animation = target.animation)[type]) == null ? void 0 : _target$animation$typ.call(_target$animation, ...args);\n  (_target$defaultProps$ = (_target$defaultProps = target.defaultProps)[type]) == null ? void 0 : _target$defaultProps$.call(_target$defaultProps, ...args);\n}\n\nconst BATCHED_EVENTS = ['onStart', 'onChange', 'onRest'];\nlet nextId = 1;\nclass Controller {\n  constructor(props, flush) {\n    this.id = nextId++;\n    this.springs = {};\n    this.queue = [];\n    this.ref = void 0;\n    this._flush = void 0;\n    this._initialProps = void 0;\n    this._lastAsyncId = 0;\n    this._active = new Set();\n    this._changed = new Set();\n    this._started = false;\n    this._item = void 0;\n    this._state = {\n      paused: false,\n      pauseQueue: new Set(),\n      resumeQueue: new Set(),\n      timeouts: new Set()\n    };\n    this._events = {\n      onStart: new Map(),\n      onChange: new Map(),\n      onRest: new Map()\n    };\n    this._onFrame = this._onFrame.bind(this);\n\n    if (flush) {\n      this._flush = flush;\n    }\n\n    if (props) {\n      this.start(_extends({\n        default: true\n      }, props));\n    }\n  }\n\n  get idle() {\n    return !this._state.asyncTo && Object.values(this.springs).every(spring => {\n      return spring.idle && !spring.isDelayed && !spring.isPaused;\n    });\n  }\n\n  get item() {\n    return this._item;\n  }\n\n  set item(item) {\n    this._item = item;\n  }\n\n  get() {\n    const values = {};\n    this.each((spring, key) => values[key] = spring.get());\n    return values;\n  }\n\n  set(values) {\n    for (const key in values) {\n      const value = values[key];\n\n      if (!is.und(value)) {\n        this.springs[key].set(value);\n      }\n    }\n  }\n\n  update(props) {\n    if (props) {\n      this.queue.push(createUpdate(props));\n    }\n\n    return this;\n  }\n\n  start(props) {\n    let {\n      queue\n    } = this;\n\n    if (props) {\n      queue = toArray(props).map(createUpdate);\n    } else {\n      this.queue = [];\n    }\n\n    if (this._flush) {\n      return this._flush(this, queue);\n    }\n\n    prepareKeys(this, queue);\n    return flushUpdateQueue(this, queue);\n  }\n\n  stop(arg, keys) {\n    if (arg !== !!arg) {\n      keys = arg;\n    }\n\n    if (keys) {\n      const springs = this.springs;\n      each(toArray(keys), key => springs[key].stop(!!arg));\n    } else {\n      stopAsync(this._state, this._lastAsyncId);\n      this.each(spring => spring.stop(!!arg));\n    }\n\n    return this;\n  }\n\n  pause(keys) {\n    if (is.und(keys)) {\n      this.start({\n        pause: true\n      });\n    } else {\n      const springs = this.springs;\n      each(toArray(keys), key => springs[key].pause());\n    }\n\n    return this;\n  }\n\n  resume(keys) {\n    if (is.und(keys)) {\n      this.start({\n        pause: false\n      });\n    } else {\n      const springs = this.springs;\n      each(toArray(keys), key => springs[key].resume());\n    }\n\n    return this;\n  }\n\n  each(iterator) {\n    eachProp(this.springs, iterator);\n  }\n\n  _onFrame() {\n    const {\n      onStart,\n      onChange,\n      onRest\n    } = this._events;\n    const active = this._active.size > 0;\n    const changed = this._changed.size > 0;\n\n    if (active && !this._started || changed && !this._started) {\n      this._started = true;\n      flush(onStart, ([onStart, result]) => {\n        result.value = this.get();\n        onStart(result, this, this._item);\n      });\n    }\n\n    const idle = !active && this._started;\n    const values = changed || idle && onRest.size ? this.get() : null;\n\n    if (changed && onChange.size) {\n      flush(onChange, ([onChange, result]) => {\n        result.value = values;\n        onChange(result, this, this._item);\n      });\n    }\n\n    if (idle) {\n      this._started = false;\n      flush(onRest, ([onRest, result]) => {\n        result.value = values;\n        onRest(result, this, this._item);\n      });\n    }\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      this._changed.add(event.parent);\n\n      if (!event.idle) {\n        this._active.add(event.parent);\n      }\n    } else if (event.type == 'idle') {\n      this._active.delete(event.parent);\n    } else return;\n\n    raf.onFrame(this._onFrame);\n  }\n\n}\nfunction flushUpdateQueue(ctrl, queue) {\n  return Promise.all(queue.map(props => flushUpdate(ctrl, props))).then(results => getCombinedResult(ctrl, results));\n}\nasync function flushUpdate(ctrl, props, isLoop) {\n  const {\n    keys,\n    to,\n    from,\n    loop,\n    onRest,\n    onResolve\n  } = props;\n  const defaults = is.obj(props.default) && props.default;\n\n  if (loop) {\n    props.loop = false;\n  }\n\n  if (to === false) props.to = null;\n  if (from === false) props.from = null;\n  const asyncTo = is.arr(to) || is.fun(to) ? to : undefined;\n\n  if (asyncTo) {\n    props.to = undefined;\n    props.onRest = undefined;\n\n    if (defaults) {\n      defaults.onRest = undefined;\n    }\n  } else {\n    each(BATCHED_EVENTS, key => {\n      const handler = props[key];\n\n      if (is.fun(handler)) {\n        const queue = ctrl['_events'][key];\n\n        props[key] = ({\n          finished,\n          cancelled\n        }) => {\n          const result = queue.get(handler);\n\n          if (result) {\n            if (!finished) result.finished = false;\n            if (cancelled) result.cancelled = true;\n          } else {\n            queue.set(handler, {\n              value: null,\n              finished: finished || false,\n              cancelled: cancelled || false\n            });\n          }\n        };\n\n        if (defaults) {\n          defaults[key] = props[key];\n        }\n      }\n    });\n  }\n\n  const state = ctrl['_state'];\n\n  if (props.pause === !state.paused) {\n    state.paused = props.pause;\n    flushCalls(props.pause ? state.pauseQueue : state.resumeQueue);\n  } else if (state.paused) {\n    props.pause = true;\n  }\n\n  const promises = (keys || Object.keys(ctrl.springs)).map(key => ctrl.springs[key].start(props));\n  const cancel = props.cancel === true || getDefaultProp(props, 'cancel') === true;\n\n  if (asyncTo || cancel && state.asyncId) {\n    promises.push(scheduleProps(++ctrl['_lastAsyncId'], {\n      props,\n      state,\n      actions: {\n        pause: noop,\n        resume: noop,\n\n        start(props, resolve) {\n          if (cancel) {\n            stopAsync(state, ctrl['_lastAsyncId']);\n            resolve(getCancelledResult(ctrl));\n          } else {\n            props.onRest = onRest;\n            resolve(runAsync(asyncTo, props, state, ctrl));\n          }\n        }\n\n      }\n    }));\n  }\n\n  if (state.paused) {\n    await new Promise(resume => {\n      state.resumeQueue.add(resume);\n    });\n  }\n\n  const result = getCombinedResult(ctrl, await Promise.all(promises));\n\n  if (loop && result.finished && !(isLoop && result.noop)) {\n    const nextProps = createLoopUpdate(props, loop, to);\n\n    if (nextProps) {\n      prepareKeys(ctrl, [nextProps]);\n      return flushUpdate(ctrl, nextProps, true);\n    }\n  }\n\n  if (onResolve) {\n    raf.batchedUpdates(() => onResolve(result, ctrl, ctrl.item));\n  }\n\n  return result;\n}\nfunction getSprings(ctrl, props) {\n  const springs = _extends({}, ctrl.springs);\n\n  if (props) {\n    each(toArray(props), props => {\n      if (is.und(props.keys)) {\n        props = createUpdate(props);\n      }\n\n      if (!is.obj(props.to)) {\n        props = _extends({}, props, {\n          to: undefined\n        });\n      }\n\n      prepareSprings(springs, props, key => {\n        return createSpring(key);\n      });\n    });\n  }\n\n  setSprings(ctrl, springs);\n  return springs;\n}\nfunction setSprings(ctrl, springs) {\n  eachProp(springs, (spring, key) => {\n    if (!ctrl.springs[key]) {\n      ctrl.springs[key] = spring;\n      addFluidObserver(spring, ctrl);\n    }\n  });\n}\n\nfunction createSpring(key, observer) {\n  const spring = new SpringValue();\n  spring.key = key;\n\n  if (observer) {\n    addFluidObserver(spring, observer);\n  }\n\n  return spring;\n}\n\nfunction prepareSprings(springs, props, create) {\n  if (props.keys) {\n    each(props.keys, key => {\n      const spring = springs[key] || (springs[key] = create(key));\n      spring['_prepareNode'](props);\n    });\n  }\n}\n\nfunction prepareKeys(ctrl, queue) {\n  each(queue, props => {\n    prepareSprings(ctrl.springs, props, key => {\n      return createSpring(key, ctrl);\n    });\n  });\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nconst _excluded$6 = [\"children\"];\nconst SpringContext = _ref => {\n  let {\n    children\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded$6);\n\n  const inherited = useContext(ctx);\n  const pause = props.pause || !!inherited.pause,\n        immediate = props.immediate || !!inherited.immediate;\n  props = useMemoOne(() => ({\n    pause,\n    immediate\n  }), [pause, immediate]);\n  const {\n    Provider\n  } = ctx;\n  return React.createElement(Provider, {\n    value: props\n  }, children);\n};\nconst ctx = makeContext(SpringContext, {});\nSpringContext.Provider = ctx.Provider;\nSpringContext.Consumer = ctx.Consumer;\n\nfunction makeContext(target, init) {\n  Object.assign(target, React.createContext(init));\n  target.Provider._context = target;\n  target.Consumer._context = target;\n  return target;\n}\n\nconst SpringRef = () => {\n  const current = [];\n\n  const SpringRef = function SpringRef(props) {\n    deprecateDirectCall();\n    const results = [];\n    each(current, (ctrl, i) => {\n      if (is.und(props)) {\n        results.push(ctrl.start());\n      } else {\n        const update = _getProps(props, ctrl, i);\n\n        if (update) {\n          results.push(ctrl.start(update));\n        }\n      }\n    });\n    return results;\n  };\n\n  SpringRef.current = current;\n\n  SpringRef.add = function (ctrl) {\n    if (!current.includes(ctrl)) {\n      current.push(ctrl);\n    }\n  };\n\n  SpringRef.delete = function (ctrl) {\n    const i = current.indexOf(ctrl);\n    if (~i) current.splice(i, 1);\n  };\n\n  SpringRef.pause = function () {\n    each(current, ctrl => ctrl.pause(...arguments));\n    return this;\n  };\n\n  SpringRef.resume = function () {\n    each(current, ctrl => ctrl.resume(...arguments));\n    return this;\n  };\n\n  SpringRef.set = function (values) {\n    each(current, ctrl => ctrl.set(values));\n  };\n\n  SpringRef.start = function (props) {\n    const results = [];\n    each(current, (ctrl, i) => {\n      if (is.und(props)) {\n        results.push(ctrl.start());\n      } else {\n        const update = this._getProps(props, ctrl, i);\n\n        if (update) {\n          results.push(ctrl.start(update));\n        }\n      }\n    });\n    return results;\n  };\n\n  SpringRef.stop = function () {\n    each(current, ctrl => ctrl.stop(...arguments));\n    return this;\n  };\n\n  SpringRef.update = function (props) {\n    each(current, (ctrl, i) => ctrl.update(this._getProps(props, ctrl, i)));\n    return this;\n  };\n\n  const _getProps = function _getProps(arg, ctrl, index) {\n    return is.fun(arg) ? arg(index, ctrl) : arg;\n  };\n\n  SpringRef._getProps = _getProps;\n  return SpringRef;\n};\n\nfunction useSprings(length, props, deps) {\n  const propsFn = is.fun(props) && props;\n  if (propsFn && !deps) deps = [];\n  const ref = useMemo(() => propsFn || arguments.length == 3 ? SpringRef() : void 0, []);\n  const layoutId = useRef(0);\n  const forceUpdate = useForceUpdate();\n  const state = useMemo(() => ({\n    ctrls: [],\n    queue: [],\n\n    flush(ctrl, updates) {\n      const springs = getSprings(ctrl, updates);\n      const canFlushSync = layoutId.current > 0 && !state.queue.length && !Object.keys(springs).some(key => !ctrl.springs[key]);\n      return canFlushSync ? flushUpdateQueue(ctrl, updates) : new Promise(resolve => {\n        setSprings(ctrl, springs);\n        state.queue.push(() => {\n          resolve(flushUpdateQueue(ctrl, updates));\n        });\n        forceUpdate();\n      });\n    }\n\n  }), []);\n  const ctrls = useRef([...state.ctrls]);\n  const updates = [];\n  const prevLength = usePrev(length) || 0;\n  useMemo(() => {\n    each(ctrls.current.slice(length, prevLength), ctrl => {\n      detachRefs(ctrl, ref);\n      ctrl.stop(true);\n    });\n    ctrls.current.length = length;\n    declareUpdates(prevLength, length);\n  }, [length]);\n  useMemo(() => {\n    declareUpdates(0, Math.min(prevLength, length));\n  }, deps);\n\n  function declareUpdates(startIndex, endIndex) {\n    for (let i = startIndex; i < endIndex; i++) {\n      const ctrl = ctrls.current[i] || (ctrls.current[i] = new Controller(null, state.flush));\n      const update = propsFn ? propsFn(i, ctrl) : props[i];\n\n      if (update) {\n        updates[i] = declareUpdate(update);\n      }\n    }\n  }\n\n  const springs = ctrls.current.map((ctrl, i) => getSprings(ctrl, updates[i]));\n  const context = useContext(SpringContext);\n  const prevContext = usePrev(context);\n  const hasContext = context !== prevContext && hasProps(context);\n  useIsomorphicLayoutEffect(() => {\n    layoutId.current++;\n    state.ctrls = ctrls.current;\n    const {\n      queue\n    } = state;\n\n    if (queue.length) {\n      state.queue = [];\n      each(queue, cb => cb());\n    }\n\n    each(ctrls.current, (ctrl, i) => {\n      ref == null ? void 0 : ref.add(ctrl);\n\n      if (hasContext) {\n        ctrl.start({\n          default: context\n        });\n      }\n\n      const update = updates[i];\n\n      if (update) {\n        replaceRef(ctrl, update.ref);\n\n        if (ctrl.ref) {\n          ctrl.queue.push(update);\n        } else {\n          ctrl.start(update);\n        }\n      }\n    });\n  });\n  useOnce(() => () => {\n    each(state.ctrls, ctrl => ctrl.stop(true));\n  });\n  const values = springs.map(x => _extends({}, x));\n  return ref ? [values, ref] : values;\n}\n\nfunction useSpring(props, deps) {\n  const isFn = is.fun(props);\n  const [[values], ref] = useSprings(1, isFn ? props : [props], isFn ? deps || [] : deps);\n  return isFn || arguments.length == 2 ? [values, ref] : values;\n}\n\nconst initSpringRef = () => SpringRef();\n\nconst useSpringRef = () => useState(initSpringRef)[0];\n\nconst useSpringValue = (initial, props) => {\n  const springValue = useConstant(() => new SpringValue(initial, props));\n  useOnce(() => () => {\n    springValue.stop();\n  });\n  return springValue;\n};\n\nfunction useTrail(length, propsArg, deps) {\n  const propsFn = is.fun(propsArg) && propsArg;\n  if (propsFn && !deps) deps = [];\n  let reverse = true;\n  let passedRef = undefined;\n  const result = useSprings(length, (i, ctrl) => {\n    const props = propsFn ? propsFn(i, ctrl) : propsArg;\n    passedRef = props.ref;\n    reverse = reverse && props.reverse;\n    return props;\n  }, deps || [{}]);\n  useIsomorphicLayoutEffect(() => {\n    each(result[1].current, (ctrl, i) => {\n      const parent = result[1].current[i + (reverse ? 1 : -1)];\n      replaceRef(ctrl, passedRef);\n\n      if (ctrl.ref) {\n        if (parent) {\n          ctrl.update({\n            to: parent.springs\n          });\n        }\n\n        return;\n      }\n\n      if (parent) {\n        ctrl.start({\n          to: parent.springs\n        });\n      } else {\n        ctrl.start();\n      }\n    });\n  }, deps);\n\n  if (propsFn || arguments.length == 3) {\n    var _passedRef;\n\n    const ref = (_passedRef = passedRef) != null ? _passedRef : result[1];\n\n    ref['_getProps'] = (propsArg, ctrl, i) => {\n      const props = is.fun(propsArg) ? propsArg(i, ctrl) : propsArg;\n\n      if (props) {\n        const parent = ref.current[i + (props.reverse ? 1 : -1)];\n        if (parent) props.to = parent.springs;\n        return props;\n      }\n    };\n\n    return result;\n  }\n\n  return result[0];\n}\n\nlet TransitionPhase;\n\n(function (TransitionPhase) {\n  TransitionPhase[\"MOUNT\"] = \"mount\";\n  TransitionPhase[\"ENTER\"] = \"enter\";\n  TransitionPhase[\"UPDATE\"] = \"update\";\n  TransitionPhase[\"LEAVE\"] = \"leave\";\n})(TransitionPhase || (TransitionPhase = {}));\n\nfunction useTransition(data, props, deps) {\n  const propsFn = is.fun(props) && props;\n  const {\n    reset,\n    sort,\n    trail = 0,\n    expires = true,\n    exitBeforeEnter = false,\n    onDestroyed,\n    ref: propsRef,\n    config: propsConfig\n  } = propsFn ? propsFn() : props;\n  const ref = useMemo(() => propsFn || arguments.length == 3 ? SpringRef() : void 0, []);\n  const items = toArray(data);\n  const transitions = [];\n  const usedTransitions = useRef(null);\n  const prevTransitions = reset ? null : usedTransitions.current;\n  useIsomorphicLayoutEffect(() => {\n    usedTransitions.current = transitions;\n  });\n  useOnce(() => {\n    each(transitions, t => {\n      ref == null ? void 0 : ref.add(t.ctrl);\n      t.ctrl.ref = ref;\n    });\n    return () => {\n      each(usedTransitions.current, t => {\n        if (t.expired) {\n          clearTimeout(t.expirationId);\n        }\n\n        detachRefs(t.ctrl, ref);\n        t.ctrl.stop(true);\n      });\n    };\n  });\n  const keys = getKeys(items, propsFn ? propsFn() : props, prevTransitions);\n  const expired = reset && usedTransitions.current || [];\n  useIsomorphicLayoutEffect(() => each(expired, ({\n    ctrl,\n    item,\n    key\n  }) => {\n    detachRefs(ctrl, ref);\n    callProp(onDestroyed, item, key);\n  }));\n  const reused = [];\n  if (prevTransitions) each(prevTransitions, (t, i) => {\n    if (t.expired) {\n      clearTimeout(t.expirationId);\n      expired.push(t);\n    } else {\n      i = reused[i] = keys.indexOf(t.key);\n      if (~i) transitions[i] = t;\n    }\n  });\n  each(items, (item, i) => {\n    if (!transitions[i]) {\n      transitions[i] = {\n        key: keys[i],\n        item,\n        phase: TransitionPhase.MOUNT,\n        ctrl: new Controller()\n      };\n      transitions[i].ctrl.item = item;\n    }\n  });\n\n  if (reused.length) {\n    let i = -1;\n    const {\n      leave\n    } = propsFn ? propsFn() : props;\n    each(reused, (keyIndex, prevIndex) => {\n      const t = prevTransitions[prevIndex];\n\n      if (~keyIndex) {\n        i = transitions.indexOf(t);\n        transitions[i] = _extends({}, t, {\n          item: items[keyIndex]\n        });\n      } else if (leave) {\n        transitions.splice(++i, 0, t);\n      }\n    });\n  }\n\n  if (is.fun(sort)) {\n    transitions.sort((a, b) => sort(a.item, b.item));\n  }\n\n  let delay = -trail;\n  const forceUpdate = useForceUpdate();\n  const defaultProps = getDefaultProps(props);\n  const changes = new Map();\n  const exitingTransitions = useRef(new Map());\n  const forceChange = useRef(false);\n  each(transitions, (t, i) => {\n    const key = t.key;\n    const prevPhase = t.phase;\n    const p = propsFn ? propsFn() : props;\n    let to;\n    let phase;\n    let propsDelay = callProp(p.delay || 0, key);\n\n    if (prevPhase == TransitionPhase.MOUNT) {\n      to = p.enter;\n      phase = TransitionPhase.ENTER;\n    } else {\n      const isLeave = keys.indexOf(key) < 0;\n\n      if (prevPhase != TransitionPhase.LEAVE) {\n        if (isLeave) {\n          to = p.leave;\n          phase = TransitionPhase.LEAVE;\n        } else if (to = p.update) {\n          phase = TransitionPhase.UPDATE;\n        } else return;\n      } else if (!isLeave) {\n        to = p.enter;\n        phase = TransitionPhase.ENTER;\n      } else return;\n    }\n\n    to = callProp(to, t.item, i);\n    to = is.obj(to) ? inferTo(to) : {\n      to\n    };\n\n    if (!to.config) {\n      const config = propsConfig || defaultProps.config;\n      to.config = callProp(config, t.item, i, phase);\n    }\n\n    delay += trail;\n\n    const payload = _extends({}, defaultProps, {\n      delay: propsDelay + delay,\n      ref: propsRef,\n      immediate: p.immediate,\n      reset: false\n    }, to);\n\n    if (phase == TransitionPhase.ENTER && is.und(payload.from)) {\n      const _p = propsFn ? propsFn() : props;\n\n      const from = is.und(_p.initial) || prevTransitions ? _p.from : _p.initial;\n      payload.from = callProp(from, t.item, i);\n    }\n\n    const {\n      onResolve\n    } = payload;\n\n    payload.onResolve = result => {\n      callProp(onResolve, result);\n      const transitions = usedTransitions.current;\n      const t = transitions.find(t => t.key === key);\n      if (!t) return;\n\n      if (result.cancelled && t.phase != TransitionPhase.UPDATE) {\n        return;\n      }\n\n      if (t.ctrl.idle) {\n        const idle = transitions.every(t => t.ctrl.idle);\n\n        if (t.phase == TransitionPhase.LEAVE) {\n          const expiry = callProp(expires, t.item);\n\n          if (expiry !== false) {\n            const expiryMs = expiry === true ? 0 : expiry;\n            t.expired = true;\n\n            if (!idle && expiryMs > 0) {\n              if (expiryMs <= 0x7fffffff) t.expirationId = setTimeout(forceUpdate, expiryMs);\n              return;\n            }\n          }\n        }\n\n        if (idle && transitions.some(t => t.expired)) {\n          exitingTransitions.current.delete(t);\n\n          if (exitBeforeEnter) {\n            forceChange.current = true;\n          }\n\n          forceUpdate();\n        }\n      }\n    };\n\n    const springs = getSprings(t.ctrl, payload);\n\n    if (phase === TransitionPhase.LEAVE && exitBeforeEnter) {\n      exitingTransitions.current.set(t, {\n        phase,\n        springs,\n        payload\n      });\n    } else {\n      changes.set(t, {\n        phase,\n        springs,\n        payload\n      });\n    }\n  });\n  const context = useContext(SpringContext);\n  const prevContext = usePrev(context);\n  const hasContext = context !== prevContext && hasProps(context);\n  useIsomorphicLayoutEffect(() => {\n    if (hasContext) {\n      each(transitions, t => {\n        t.ctrl.start({\n          default: context\n        });\n      });\n    }\n  }, [context]);\n  each(changes, (_, t) => {\n    if (exitingTransitions.current.size) {\n      const ind = transitions.findIndex(state => state.key === t.key);\n      transitions.splice(ind, 1);\n    }\n  });\n  useIsomorphicLayoutEffect(() => {\n    each(exitingTransitions.current.size ? exitingTransitions.current : changes, ({\n      phase,\n      payload\n    }, t) => {\n      const {\n        ctrl\n      } = t;\n      t.phase = phase;\n      ref == null ? void 0 : ref.add(ctrl);\n\n      if (hasContext && phase == TransitionPhase.ENTER) {\n        ctrl.start({\n          default: context\n        });\n      }\n\n      if (payload) {\n        replaceRef(ctrl, payload.ref);\n\n        if ((ctrl.ref || ref) && !forceChange.current) {\n          ctrl.update(payload);\n        } else {\n          ctrl.start(payload);\n\n          if (forceChange.current) {\n            forceChange.current = false;\n          }\n        }\n      }\n    });\n  }, reset ? void 0 : deps);\n\n  const renderTransitions = render => React.createElement(React.Fragment, null, transitions.map((t, i) => {\n    const {\n      springs\n    } = changes.get(t) || t.ctrl;\n    const elem = render(_extends({}, springs), t.item, t, i);\n    return elem && elem.type ? React.createElement(elem.type, _extends({}, elem.props, {\n      key: is.str(t.key) || is.num(t.key) ? t.key : t.ctrl.id,\n      ref: elem.ref\n    })) : elem;\n  }));\n\n  return ref ? [renderTransitions, ref] : renderTransitions;\n}\nlet nextKey = 1;\n\nfunction getKeys(items, {\n  key,\n  keys = key\n}, prevTransitions) {\n  if (keys === null) {\n    const reused = new Set();\n    return items.map(item => {\n      const t = prevTransitions && prevTransitions.find(t => t.item === item && t.phase !== TransitionPhase.LEAVE && !reused.has(t));\n\n      if (t) {\n        reused.add(t);\n        return t.key;\n      }\n\n      return nextKey++;\n    });\n  }\n\n  return is.und(keys) ? items : is.fun(keys) ? items.map(keys) : toArray(keys);\n}\n\nconst _excluded$5 = [\"container\"];\nconst useScroll = (_ref = {}) => {\n  let {\n    container\n  } = _ref,\n      springOptions = _objectWithoutPropertiesLoose(_ref, _excluded$5);\n\n  const [scrollValues, api] = useSpring(() => _extends({\n    scrollX: 0,\n    scrollY: 0,\n    scrollXProgress: 0,\n    scrollYProgress: 0\n  }, springOptions), []);\n  useIsomorphicLayoutEffect(() => {\n    const cleanupScroll = onScroll(({\n      x,\n      y\n    }) => {\n      api.start({\n        scrollX: x.current,\n        scrollXProgress: x.progress,\n        scrollY: y.current,\n        scrollYProgress: y.progress\n      });\n    }, {\n      container: (container == null ? void 0 : container.current) || undefined\n    });\n    return () => {\n      each(Object.values(scrollValues), value => value.stop());\n      cleanupScroll();\n    };\n  }, []);\n  return scrollValues;\n};\n\nconst _excluded$4 = [\"container\"];\nconst useResize = _ref => {\n  let {\n    container\n  } = _ref,\n      springOptions = _objectWithoutPropertiesLoose(_ref, _excluded$4);\n\n  const [sizeValues, api] = useSpring(() => _extends({\n    width: 0,\n    height: 0\n  }, springOptions), []);\n  useIsomorphicLayoutEffect(() => {\n    const cleanupScroll = onResize(({\n      width,\n      height\n    }) => {\n      api.start({\n        width,\n        height,\n        immediate: sizeValues.width.get() === 0 || sizeValues.height.get() === 0\n      });\n    }, {\n      container: (container == null ? void 0 : container.current) || undefined\n    });\n    return () => {\n      each(Object.values(sizeValues), value => value.stop());\n      cleanupScroll();\n    };\n  }, []);\n  return sizeValues;\n};\n\nconst _excluded$3 = [\"to\", \"from\"],\n      _excluded2 = [\"root\", \"once\", \"amount\"];\nconst defaultThresholdOptions = {\n  any: 0,\n  all: 1\n};\nfunction useInView(props, args) {\n  const [isInView, setIsInView] = useState(false);\n  const ref = useRef();\n  const propsFn = is.fun(props) && props;\n  const springsProps = propsFn ? propsFn() : {};\n\n  const {\n    to = {},\n    from = {}\n  } = springsProps,\n        restSpringProps = _objectWithoutPropertiesLoose(springsProps, _excluded$3);\n\n  const intersectionArguments = propsFn ? args : props;\n  const [springs, api] = useSpring(() => _extends({\n    from\n  }, restSpringProps), []);\n  useIsomorphicLayoutEffect(() => {\n    const element = ref.current;\n\n    const _ref = intersectionArguments != null ? intersectionArguments : {},\n          {\n      root,\n      once,\n      amount = 'any'\n    } = _ref,\n          restArgs = _objectWithoutPropertiesLoose(_ref, _excluded2);\n\n    if (!element || once && isInView || typeof IntersectionObserver === 'undefined') return;\n    const activeIntersections = new WeakMap();\n\n    const onEnter = () => {\n      if (to) {\n        api.start(to);\n      }\n\n      setIsInView(true);\n\n      const cleanup = () => {\n        if (from) {\n          api.start(from);\n        }\n\n        setIsInView(false);\n      };\n\n      return once ? undefined : cleanup;\n    };\n\n    const handleIntersection = entries => {\n      entries.forEach(entry => {\n        const onLeave = activeIntersections.get(entry.target);\n\n        if (entry.isIntersecting === Boolean(onLeave)) {\n          return;\n        }\n\n        if (entry.isIntersecting) {\n          const newOnLeave = onEnter();\n\n          if (is.fun(newOnLeave)) {\n            activeIntersections.set(entry.target, newOnLeave);\n          } else {\n            observer.unobserve(entry.target);\n          }\n        } else if (onLeave) {\n          onLeave();\n          activeIntersections.delete(entry.target);\n        }\n      });\n    };\n\n    const observer = new IntersectionObserver(handleIntersection, _extends({\n      root: root && root.current || undefined,\n      threshold: typeof amount === 'number' || Array.isArray(amount) ? amount : defaultThresholdOptions[amount]\n    }, restArgs));\n    observer.observe(element);\n    return () => observer.unobserve(element);\n  }, [intersectionArguments]);\n\n  if (propsFn) {\n    return [ref, springs];\n  }\n\n  return [ref, isInView];\n}\n\nconst _excluded$2 = [\"children\"];\nfunction Spring(_ref) {\n  let {\n    children\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded$2);\n\n  return children(useSpring(props));\n}\n\nconst _excluded$1 = [\"items\", \"children\"];\nfunction Trail(_ref) {\n  let {\n    items,\n    children\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded$1);\n\n  const trails = useTrail(items.length, props);\n  return items.map((item, index) => {\n    const result = children(item, index);\n    return is.fun(result) ? result(trails[index]) : result;\n  });\n}\n\nconst _excluded = [\"items\", \"children\"];\nfunction Transition(_ref) {\n  let {\n    items,\n    children\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  return useTransition(items, props)(children);\n}\n\nclass Interpolation extends FrameValue {\n  constructor(source, args) {\n    super();\n    this.key = void 0;\n    this.idle = true;\n    this.calc = void 0;\n    this._active = new Set();\n    this.source = source;\n    this.calc = createInterpolator(...args);\n\n    const value = this._get();\n\n    const nodeType = getAnimatedType(value);\n    setAnimated(this, nodeType.create(value));\n  }\n\n  advance(_dt) {\n    const value = this._get();\n\n    const oldValue = this.get();\n\n    if (!isEqual(value, oldValue)) {\n      getAnimated(this).setValue(value);\n\n      this._onChange(value, this.idle);\n    }\n\n    if (!this.idle && checkIdle(this._active)) {\n      becomeIdle(this);\n    }\n  }\n\n  _get() {\n    const inputs = is.arr(this.source) ? this.source.map(getFluidValue) : toArray(getFluidValue(this.source));\n    return this.calc(...inputs);\n  }\n\n  _start() {\n    if (this.idle && !checkIdle(this._active)) {\n      this.idle = false;\n      each(getPayload(this), node => {\n        node.done = false;\n      });\n\n      if (Globals.skipAnimation) {\n        raf.batchedUpdates(() => this.advance());\n        becomeIdle(this);\n      } else {\n        frameLoop.start(this);\n      }\n    }\n  }\n\n  _attach() {\n    let priority = 1;\n    each(toArray(this.source), source => {\n      if (hasFluidValue(source)) {\n        addFluidObserver(source, this);\n      }\n\n      if (isFrameValue(source)) {\n        if (!source.idle) {\n          this._active.add(source);\n        }\n\n        priority = Math.max(priority, source.priority + 1);\n      }\n    });\n    this.priority = priority;\n\n    this._start();\n  }\n\n  _detach() {\n    each(toArray(this.source), source => {\n      if (hasFluidValue(source)) {\n        removeFluidObserver(source, this);\n      }\n    });\n\n    this._active.clear();\n\n    becomeIdle(this);\n  }\n\n  eventObserved(event) {\n    if (event.type == 'change') {\n      if (event.idle) {\n        this.advance();\n      } else {\n        this._active.add(event.parent);\n\n        this._start();\n      }\n    } else if (event.type == 'idle') {\n      this._active.delete(event.parent);\n    } else if (event.type == 'priority') {\n      this.priority = toArray(this.source).reduce((highest, parent) => Math.max(highest, (isFrameValue(parent) ? parent.priority : 0) + 1), 0);\n    }\n  }\n\n}\n\nfunction isIdle(source) {\n  return source.idle !== false;\n}\n\nfunction checkIdle(active) {\n  return !active.size || Array.from(active).every(isIdle);\n}\n\nfunction becomeIdle(self) {\n  if (!self.idle) {\n    self.idle = true;\n    each(getPayload(self), node => {\n      node.done = true;\n    });\n    callFluidObservers(self, {\n      type: 'idle',\n      parent: self\n    });\n  }\n}\n\nconst to = (source, ...args) => new Interpolation(source, args);\nconst interpolate = (source, ...args) => (deprecateInterpolate(), new Interpolation(source, args));\n\nGlobals.assign({\n  createStringInterpolator,\n  to: (source, args) => new Interpolation(source, args)\n});\nconst update = frameLoop.advance;\n\nexport { BailSignal, Controller, FrameValue, Interpolation, Spring, SpringContext, SpringRef, SpringValue, Trail, Transition, config, inferTo, interpolate, to, update, useChain, useInView, useResize, useScroll, useSpring, useSpringRef, useSpringValue, useSprings, useTrail, useTransition };\n","import { addEffect, applyProps } from '@react-three/fiber';\nimport { Globals } from '@react-spring/core';\nexport * from '@react-spring/core';\nimport { createStringInterpolator, colors, raf } from '@react-spring/shared';\nimport { createHost } from '@react-spring/animated';\nimport * as THREE from 'three';\n\nconst primitives = ['primitive'].concat(Object.keys(THREE).filter(key => /^[A-Z]/.test(key)).map(key => key[0].toLowerCase() + key.slice(1)));\n\nGlobals.assign({\n  createStringInterpolator,\n  colors,\n  frameLoop: 'demand'\n});\naddEffect(() => {\n  raf.advance();\n});\nconst host = createHost(primitives, {\n  applyAnimatedValues: applyProps\n});\nconst animated = host.animated;\n\nexport { animated as a, animated };\n","function clamp(v, min, max) {\n  return Math.max(min, Math.min(v, max));\n}\nconst V = {\n  toVector(v, fallback) {\n    if (v === undefined) v = fallback;\n    return Array.isArray(v) ? v : [v, v];\n  },\n  add(v1, v2) {\n    return [v1[0] + v2[0], v1[1] + v2[1]];\n  },\n  sub(v1, v2) {\n    return [v1[0] - v2[0], v1[1] - v2[1]];\n  },\n  addTo(v1, v2) {\n    v1[0] += v2[0];\n    v1[1] += v2[1];\n  },\n  subTo(v1, v2) {\n    v1[0] -= v2[0];\n    v1[1] -= v2[1];\n  }\n};\nfunction rubberband(distance, dimension, constant) {\n  if (dimension === 0 || Math.abs(dimension) === Infinity) return Math.pow(distance, constant * 5);\n  return distance * dimension * constant / (dimension + constant * distance);\n}\nfunction rubberbandIfOutOfBounds(position, min, max, constant = 0.15) {\n  if (constant === 0) return clamp(position, min, max);\n  if (position < min) return -rubberband(min - position, max - min, constant) + min;\n  if (position > max) return +rubberband(position - max, max - min, constant) + max;\n  return position;\n}\nfunction computeRubberband(bounds, [Vx, Vy], [Rx, Ry]) {\n  const [[X0, X1], [Y0, Y1]] = bounds;\n  return [rubberbandIfOutOfBounds(Vx, X0, X1, Rx), rubberbandIfOutOfBounds(Vy, Y0, Y1, Ry)];\n}\n\nexport { V, computeRubberband as c, rubberbandIfOutOfBounds as r };\n","import { V, c as computeRubberband } from './maths-0ab39ae9.esm.js';\n\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\n\nconst EVENT_TYPE_MAP = {\n  pointer: {\n    start: 'down',\n    change: 'move',\n    end: 'up'\n  },\n  mouse: {\n    start: 'down',\n    change: 'move',\n    end: 'up'\n  },\n  touch: {\n    start: 'start',\n    change: 'move',\n    end: 'end'\n  },\n  gesture: {\n    start: 'start',\n    change: 'change',\n    end: 'end'\n  }\n};\nfunction capitalize(string) {\n  if (!string) return '';\n  return string[0].toUpperCase() + string.slice(1);\n}\nconst actionsWithoutCaptureSupported = ['enter', 'leave'];\nfunction hasCapture(capture = false, actionKey) {\n  return capture && !actionsWithoutCaptureSupported.includes(actionKey);\n}\nfunction toHandlerProp(device, action = '', capture = false) {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action] || action : action;\n  return 'on' + capitalize(device) + capitalize(actionKey) + (hasCapture(capture, actionKey) ? 'Capture' : '');\n}\nconst pointerCaptureEvents = ['gotpointercapture', 'lostpointercapture'];\nfunction parseProp(prop) {\n  let eventKey = prop.substring(2).toLowerCase();\n  const passive = !!~eventKey.indexOf('passive');\n  if (passive) eventKey = eventKey.replace('passive', '');\n  const captureKey = pointerCaptureEvents.includes(eventKey) ? 'capturecapture' : 'capture';\n  const capture = !!~eventKey.indexOf(captureKey);\n  if (capture) eventKey = eventKey.replace('capture', '');\n  return {\n    device: eventKey,\n    capture,\n    passive\n  };\n}\nfunction toDomEventType(device, action = '') {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action] || action : action;\n  return device + actionKey;\n}\nfunction isTouch(event) {\n  return 'touches' in event;\n}\nfunction getPointerType(event) {\n  if (isTouch(event)) return 'touch';\n  if ('pointerType' in event) return event.pointerType;\n  return 'mouse';\n}\nfunction getCurrentTargetTouchList(event) {\n  return Array.from(event.touches).filter(e => {\n    var _event$currentTarget, _event$currentTarget$;\n    return e.target === event.currentTarget || ((_event$currentTarget = event.currentTarget) === null || _event$currentTarget === void 0 ? void 0 : (_event$currentTarget$ = _event$currentTarget.contains) === null || _event$currentTarget$ === void 0 ? void 0 : _event$currentTarget$.call(_event$currentTarget, e.target));\n  });\n}\nfunction getTouchList(event) {\n  return event.type === 'touchend' || event.type === 'touchcancel' ? event.changedTouches : event.targetTouches;\n}\nfunction getValueEvent(event) {\n  return isTouch(event) ? getTouchList(event)[0] : event;\n}\nfunction distanceAngle(P1, P2) {\n  const dx = P2.clientX - P1.clientX;\n  const dy = P2.clientY - P1.clientY;\n  const cx = (P2.clientX + P1.clientX) / 2;\n  const cy = (P2.clientY + P1.clientY) / 2;\n  const distance = Math.hypot(dx, dy);\n  const angle = -(Math.atan2(dx, dy) * 180) / Math.PI;\n  const origin = [cx, cy];\n  return {\n    angle,\n    distance,\n    origin\n  };\n}\nfunction touchIds(event) {\n  return getCurrentTargetTouchList(event).map(touch => touch.identifier);\n}\nfunction touchDistanceAngle(event, ids) {\n  const [P1, P2] = Array.from(event.touches).filter(touch => ids.includes(touch.identifier));\n  return distanceAngle(P1, P2);\n}\nfunction pointerId(event) {\n  const valueEvent = getValueEvent(event);\n  return isTouch(event) ? valueEvent.identifier : valueEvent.pointerId;\n}\nfunction pointerValues(event) {\n  const valueEvent = getValueEvent(event);\n  return [valueEvent.clientX, valueEvent.clientY];\n}\nconst LINE_HEIGHT = 40;\nconst PAGE_HEIGHT = 800;\nfunction wheelValues(event) {\n  let {\n    deltaX,\n    deltaY,\n    deltaMode\n  } = event;\n  if (deltaMode === 1) {\n    deltaX *= LINE_HEIGHT;\n    deltaY *= LINE_HEIGHT;\n  } else if (deltaMode === 2) {\n    deltaX *= PAGE_HEIGHT;\n    deltaY *= PAGE_HEIGHT;\n  }\n  return [deltaX, deltaY];\n}\nfunction scrollValues(event) {\n  var _ref, _ref2;\n  const {\n    scrollX,\n    scrollY,\n    scrollLeft,\n    scrollTop\n  } = event.currentTarget;\n  return [(_ref = scrollX !== null && scrollX !== void 0 ? scrollX : scrollLeft) !== null && _ref !== void 0 ? _ref : 0, (_ref2 = scrollY !== null && scrollY !== void 0 ? scrollY : scrollTop) !== null && _ref2 !== void 0 ? _ref2 : 0];\n}\nfunction getEventDetails(event) {\n  const payload = {};\n  if ('buttons' in event) payload.buttons = event.buttons;\n  if ('shiftKey' in event) {\n    const {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    } = event;\n    Object.assign(payload, {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    });\n  }\n  return payload;\n}\n\nfunction call(v, ...args) {\n  if (typeof v === 'function') {\n    return v(...args);\n  } else {\n    return v;\n  }\n}\nfunction noop() {}\nfunction chain(...fns) {\n  if (fns.length === 0) return noop;\n  if (fns.length === 1) return fns[0];\n  return function () {\n    let result;\n    for (const fn of fns) {\n      result = fn.apply(this, arguments) || result;\n    }\n    return result;\n  };\n}\nfunction assignDefault(value, fallback) {\n  return Object.assign({}, fallback, value || {});\n}\n\nconst BEFORE_LAST_KINEMATICS_DELAY = 32;\nclass Engine {\n  constructor(ctrl, args, key) {\n    this.ctrl = ctrl;\n    this.args = args;\n    this.key = key;\n    if (!this.state) {\n      this.state = {};\n      this.computeValues([0, 0]);\n      this.computeInitial();\n      if (this.init) this.init();\n      this.reset();\n    }\n  }\n  get state() {\n    return this.ctrl.state[this.key];\n  }\n  set state(state) {\n    this.ctrl.state[this.key] = state;\n  }\n  get shared() {\n    return this.ctrl.state.shared;\n  }\n  get eventStore() {\n    return this.ctrl.gestureEventStores[this.key];\n  }\n  get timeoutStore() {\n    return this.ctrl.gestureTimeoutStores[this.key];\n  }\n  get config() {\n    return this.ctrl.config[this.key];\n  }\n  get sharedConfig() {\n    return this.ctrl.config.shared;\n  }\n  get handler() {\n    return this.ctrl.handlers[this.key];\n  }\n  reset() {\n    const {\n      state,\n      shared,\n      ingKey,\n      args\n    } = this;\n    shared[ingKey] = state._active = state.active = state._blocked = state._force = false;\n    state._step = [false, false];\n    state.intentional = false;\n    state._movement = [0, 0];\n    state._distance = [0, 0];\n    state._direction = [0, 0];\n    state._delta = [0, 0];\n    state._bounds = [[-Infinity, Infinity], [-Infinity, Infinity]];\n    state.args = args;\n    state.axis = undefined;\n    state.memo = undefined;\n    state.elapsedTime = 0;\n    state.direction = [0, 0];\n    state.distance = [0, 0];\n    state.overflow = [0, 0];\n    state._movementBound = [false, false];\n    state.velocity = [0, 0];\n    state.movement = [0, 0];\n    state.delta = [0, 0];\n    state.timeStamp = 0;\n  }\n  start(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state._active) {\n      this.reset();\n      this.computeInitial();\n      state._active = true;\n      state.target = event.target;\n      state.currentTarget = event.currentTarget;\n      state.lastOffset = config.from ? call(config.from, state) : state.offset;\n      state.offset = state.lastOffset;\n    }\n    state.startTime = state.timeStamp = event.timeStamp;\n  }\n  computeValues(values) {\n    const state = this.state;\n    state._values = values;\n    state.values = this.config.transform(values);\n  }\n  computeInitial() {\n    const state = this.state;\n    state._initial = state._values;\n    state.initial = state.values;\n  }\n  compute(event) {\n    const {\n      state,\n      config,\n      shared\n    } = this;\n    state.args = this.args;\n    let dt = 0;\n    if (event) {\n      state.event = event;\n      if (config.preventDefault && event.cancelable) state.event.preventDefault();\n      state.type = event.type;\n      shared.touches = this.ctrl.pointerIds.size || this.ctrl.touchIds.size;\n      shared.locked = !!document.pointerLockElement;\n      Object.assign(shared, getEventDetails(event));\n      shared.down = shared.pressed = shared.buttons % 2 === 1 || shared.touches > 0;\n      dt = event.timeStamp - state.timeStamp;\n      state.timeStamp = event.timeStamp;\n      state.elapsedTime = state.timeStamp - state.startTime;\n    }\n    if (state._active) {\n      const _absoluteDelta = state._delta.map(Math.abs);\n      V.addTo(state._distance, _absoluteDelta);\n    }\n    if (this.axisIntent) this.axisIntent(event);\n    const [_m0, _m1] = state._movement;\n    const [t0, t1] = config.threshold;\n    const {\n      _step,\n      values\n    } = state;\n    if (config.hasCustomTransform) {\n      if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && values[0];\n      if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && values[1];\n    } else {\n      if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && Math.sign(_m0) * t0;\n      if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && Math.sign(_m1) * t1;\n    }\n    state.intentional = _step[0] !== false || _step[1] !== false;\n    if (!state.intentional) return;\n    const movement = [0, 0];\n    if (config.hasCustomTransform) {\n      const [v0, v1] = values;\n      movement[0] = _step[0] !== false ? v0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? v1 - _step[1] : 0;\n    } else {\n      movement[0] = _step[0] !== false ? _m0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? _m1 - _step[1] : 0;\n    }\n    if (this.restrictToAxis && !state._blocked) this.restrictToAxis(movement);\n    const previousOffset = state.offset;\n    const gestureIsActive = state._active && !state._blocked || state.active;\n    if (gestureIsActive) {\n      state.first = state._active && !state.active;\n      state.last = !state._active && state.active;\n      state.active = shared[this.ingKey] = state._active;\n      if (event) {\n        if (state.first) {\n          if ('bounds' in config) state._bounds = call(config.bounds, state);\n          if (this.setup) this.setup();\n        }\n        state.movement = movement;\n        this.computeOffset();\n      }\n    }\n    const [ox, oy] = state.offset;\n    const [[x0, x1], [y0, y1]] = state._bounds;\n    state.overflow = [ox < x0 ? -1 : ox > x1 ? 1 : 0, oy < y0 ? -1 : oy > y1 ? 1 : 0];\n    state._movementBound[0] = state.overflow[0] ? state._movementBound[0] === false ? state._movement[0] : state._movementBound[0] : false;\n    state._movementBound[1] = state.overflow[1] ? state._movementBound[1] === false ? state._movement[1] : state._movementBound[1] : false;\n    const rubberband = state._active ? config.rubberband || [0, 0] : [0, 0];\n    state.offset = computeRubberband(state._bounds, state.offset, rubberband);\n    state.delta = V.sub(state.offset, previousOffset);\n    this.computeMovement();\n    if (gestureIsActive && (!state.last || dt > BEFORE_LAST_KINEMATICS_DELAY)) {\n      state.delta = V.sub(state.offset, previousOffset);\n      const absoluteDelta = state.delta.map(Math.abs);\n      V.addTo(state.distance, absoluteDelta);\n      state.direction = state.delta.map(Math.sign);\n      state._direction = state._delta.map(Math.sign);\n      if (!state.first && dt > 0) {\n        state.velocity = [absoluteDelta[0] / dt, absoluteDelta[1] / dt];\n      }\n    }\n  }\n  emit() {\n    const state = this.state;\n    const shared = this.shared;\n    const config = this.config;\n    if (!state._active) this.clean();\n    if ((state._blocked || !state.intentional) && !state._force && !config.triggerAllEvents) return;\n    const memo = this.handler(_objectSpread2(_objectSpread2(_objectSpread2({}, shared), state), {}, {\n      [this.aliasKey]: state.values\n    }));\n    if (memo !== undefined) state.memo = memo;\n  }\n  clean() {\n    this.eventStore.clean();\n    this.timeoutStore.clean();\n  }\n}\n\nfunction selectAxis([dx, dy], threshold) {\n  const absDx = Math.abs(dx);\n  const absDy = Math.abs(dy);\n  if (absDx > absDy && absDx > threshold) {\n    return 'x';\n  }\n  if (absDy > absDx && absDy > threshold) {\n    return 'y';\n  }\n  return undefined;\n}\nclass CoordinatesEngine extends Engine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"aliasKey\", 'xy');\n  }\n  reset() {\n    super.reset();\n    this.state.axis = undefined;\n  }\n  init() {\n    this.state.offset = [0, 0];\n    this.state.lastOffset = [0, 0];\n  }\n  computeOffset() {\n    this.state.offset = V.add(this.state.lastOffset, this.state.movement);\n  }\n  computeMovement() {\n    this.state.movement = V.sub(this.state.offset, this.state.lastOffset);\n  }\n  axisIntent(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state.axis && event) {\n      const threshold = typeof config.axisThreshold === 'object' ? config.axisThreshold[getPointerType(event)] : config.axisThreshold;\n      state.axis = selectAxis(state._movement, threshold);\n    }\n    state._blocked = (config.lockDirection || !!config.axis) && !state.axis || !!config.axis && config.axis !== state.axis;\n  }\n  restrictToAxis(v) {\n    if (this.config.axis || this.config.lockDirection) {\n      switch (this.state.axis) {\n        case 'x':\n          v[1] = 0;\n          break;\n        case 'y':\n          v[0] = 0;\n          break;\n      }\n    }\n  }\n}\n\nconst identity = v => v;\nconst DEFAULT_RUBBERBAND = 0.15;\nconst commonConfigResolver = {\n  enabled(value = true) {\n    return value;\n  },\n  eventOptions(value, _k, config) {\n    return _objectSpread2(_objectSpread2({}, config.shared.eventOptions), value);\n  },\n  preventDefault(value = false) {\n    return value;\n  },\n  triggerAllEvents(value = false) {\n    return value;\n  },\n  rubberband(value = 0) {\n    switch (value) {\n      case true:\n        return [DEFAULT_RUBBERBAND, DEFAULT_RUBBERBAND];\n      case false:\n        return [0, 0];\n      default:\n        return V.toVector(value);\n    }\n  },\n  from(value) {\n    if (typeof value === 'function') return value;\n    if (value != null) return V.toVector(value);\n  },\n  transform(value, _k, config) {\n    const transform = value || config.shared.transform;\n    this.hasCustomTransform = !!transform;\n    if (process.env.NODE_ENV === 'development') {\n      const originalTransform = transform || identity;\n      return v => {\n        const r = originalTransform(v);\n        if (!isFinite(r[0]) || !isFinite(r[1])) {\n          console.warn(`[@use-gesture]: config.transform() must produce a valid result, but it was: [${r[0]},${[1]}]`);\n        }\n        return r;\n      };\n    }\n    return transform || identity;\n  },\n  threshold(value) {\n    return V.toVector(value, 0);\n  }\n};\nif (process.env.NODE_ENV === 'development') {\n  Object.assign(commonConfigResolver, {\n    domTarget(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n      }\n      return NaN;\n    },\n    lockDirection(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`lockDirection\\` option has been merged with \\`axis\\`. Use it as in \\`{ axis: 'lock' }\\``);\n      }\n      return NaN;\n    },\n    initial(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`initial\\` option has been renamed to \\`from\\`.`);\n      }\n      return NaN;\n    }\n  });\n}\n\nconst DEFAULT_AXIS_THRESHOLD = 0;\nconst coordinatesConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  axis(_v, _k, {\n    axis\n  }) {\n    this.lockDirection = axis === 'lock';\n    if (!this.lockDirection) return axis;\n  },\n  axisThreshold(value = DEFAULT_AXIS_THRESHOLD) {\n    return value;\n  },\n  bounds(value = {}) {\n    if (typeof value === 'function') {\n      return state => coordinatesConfigResolver.bounds(value(state));\n    }\n    if ('current' in value) {\n      return () => value.current;\n    }\n    if (typeof HTMLElement === 'function' && value instanceof HTMLElement) {\n      return value;\n    }\n    const {\n      left = -Infinity,\n      right = Infinity,\n      top = -Infinity,\n      bottom = Infinity\n    } = value;\n    return [[left, right], [top, bottom]];\n  }\n});\n\nconst KEYS_DELTA_MAP = {\n  ArrowRight: (displacement, factor = 1) => [displacement * factor, 0],\n  ArrowLeft: (displacement, factor = 1) => [-1 * displacement * factor, 0],\n  ArrowUp: (displacement, factor = 1) => [0, -1 * displacement * factor],\n  ArrowDown: (displacement, factor = 1) => [0, displacement * factor]\n};\nclass DragEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'dragging');\n  }\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._pointerId = undefined;\n    state._pointerActive = false;\n    state._keyboardActive = false;\n    state._preventScroll = false;\n    state._delayed = false;\n    state.swipe = [0, 0];\n    state.tap = false;\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n  }\n  setup() {\n    const state = this.state;\n    if (state._bounds instanceof HTMLElement) {\n      const boundRect = state._bounds.getBoundingClientRect();\n      const targetRect = state.currentTarget.getBoundingClientRect();\n      const _bounds = {\n        left: boundRect.left - targetRect.left + state.offset[0],\n        right: boundRect.right - targetRect.right + state.offset[0],\n        top: boundRect.top - targetRect.top + state.offset[1],\n        bottom: boundRect.bottom - targetRect.bottom + state.offset[1]\n      };\n      state._bounds = coordinatesConfigResolver.bounds(_bounds);\n    }\n  }\n  cancel() {\n    const state = this.state;\n    if (state.canceled) return;\n    state.canceled = true;\n    state._active = false;\n    setTimeout(() => {\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n  setActive() {\n    this.state._active = this.state._pointerActive || this.state._keyboardActive;\n  }\n  clean() {\n    this.pointerClean();\n    this.state._pointerActive = false;\n    this.state._keyboardActive = false;\n    super.clean();\n  }\n  pointerDown(event) {\n    const config = this.config;\n    const state = this.state;\n    if (event.buttons != null && (Array.isArray(config.pointerButtons) ? !config.pointerButtons.includes(event.buttons) : config.pointerButtons !== -1 && config.pointerButtons !== event.buttons)) return;\n    const ctrlIds = this.ctrl.setEventIds(event);\n    if (config.pointerCapture) {\n      event.target.setPointerCapture(event.pointerId);\n    }\n    if (ctrlIds && ctrlIds.size > 1 && state._pointerActive) return;\n    this.start(event);\n    this.setupPointer(event);\n    state._pointerId = pointerId(event);\n    state._pointerActive = true;\n    this.computeValues(pointerValues(event));\n    this.computeInitial();\n    if (config.preventScrollAxis && getPointerType(event) !== 'mouse') {\n      state._active = false;\n      this.setupScrollPrevention(event);\n    } else if (config.delay > 0) {\n      this.setupDelayTrigger(event);\n      if (config.triggerAllEvents) {\n        this.compute(event);\n        this.emit();\n      }\n    } else {\n      this.startPointerDrag(event);\n    }\n  }\n  startPointerDrag(event) {\n    const state = this.state;\n    state._active = true;\n    state._preventScroll = true;\n    state._delayed = false;\n    this.compute(event);\n    this.emit();\n  }\n  pointerMove(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state._pointerActive) return;\n    if (state.type === event.type && event.timeStamp === state.timeStamp) return;\n    const id = pointerId(event);\n    if (state._pointerId !== undefined && id !== state._pointerId) return;\n    const _values = pointerValues(event);\n    if (document.pointerLockElement === event.target) {\n      state._delta = [event.movementX, event.movementY];\n    } else {\n      state._delta = V.sub(_values, state._values);\n      this.computeValues(_values);\n    }\n    V.addTo(state._movement, state._delta);\n    this.compute(event);\n    if (state._delayed && state.intentional) {\n      this.timeoutStore.remove('dragDelay');\n      state.active = false;\n      this.startPointerDrag(event);\n      return;\n    }\n    if (config.preventScrollAxis && !state._preventScroll) {\n      if (state.axis) {\n        if (state.axis === config.preventScrollAxis || config.preventScrollAxis === 'xy') {\n          state._active = false;\n          this.clean();\n          return;\n        } else {\n          this.timeoutStore.remove('startPointerDrag');\n          this.startPointerDrag(event);\n          return;\n        }\n      } else {\n        return;\n      }\n    }\n    this.emit();\n  }\n  pointerUp(event) {\n    this.ctrl.setEventIds(event);\n    try {\n      if (this.config.pointerCapture && event.target.hasPointerCapture(event.pointerId)) {\n        ;\n        event.target.releasePointerCapture(event.pointerId);\n      }\n    } catch (_unused) {\n      if (process.env.NODE_ENV === 'development') {\n        console.warn(`[@use-gesture]: If you see this message, it's likely that you're using an outdated version of \\`@react-three/fiber\\`. \\n\\nPlease upgrade to the latest version.`);\n      }\n    }\n    const state = this.state;\n    const config = this.config;\n    if (!state._active || !state._pointerActive) return;\n    const id = pointerId(event);\n    if (state._pointerId !== undefined && id !== state._pointerId) return;\n    this.state._pointerActive = false;\n    this.setActive();\n    this.compute(event);\n    const [dx, dy] = state._distance;\n    state.tap = dx <= config.tapsThreshold && dy <= config.tapsThreshold;\n    if (state.tap && config.filterTaps) {\n      state._force = true;\n    } else {\n      const [dirx, diry] = state.direction;\n      const [vx, vy] = state.velocity;\n      const [mx, my] = state.movement;\n      const [svx, svy] = config.swipe.velocity;\n      const [sx, sy] = config.swipe.distance;\n      const sdt = config.swipe.duration;\n      if (state.elapsedTime < sdt) {\n        if (Math.abs(vx) > svx && Math.abs(mx) > sx) state.swipe[0] = dirx;\n        if (Math.abs(vy) > svy && Math.abs(my) > sy) state.swipe[1] = diry;\n      }\n    }\n    this.emit();\n  }\n  pointerClick(event) {\n    if (!this.state.tap && event.detail > 0) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n  setupPointer(event) {\n    const config = this.config;\n    const device = config.device;\n    if (process.env.NODE_ENV === 'development') {\n      try {\n        if (device === 'pointer' && config.preventScrollDelay === undefined) {\n          const currentTarget = 'uv' in event ? event.sourceEvent.currentTarget : event.currentTarget;\n          const style = window.getComputedStyle(currentTarget);\n          if (style.touchAction === 'auto') {\n            console.warn(`[@use-gesture]: The drag target has its \\`touch-action\\` style property set to \\`auto\\`. It is recommended to add \\`touch-action: 'none'\\` so that the drag gesture behaves correctly on touch-enabled devices. For more information read this: https://use-gesture.netlify.app/docs/extras/#touch-action.\\n\\nThis message will only show in development mode. It won't appear in production. If this is intended, you can ignore it.`, currentTarget);\n          }\n        }\n      } catch (_unused2) {}\n    }\n    if (config.pointerLock) {\n      event.currentTarget.requestPointerLock();\n    }\n    if (!config.pointerCapture) {\n      this.eventStore.add(this.sharedConfig.window, device, 'change', this.pointerMove.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, 'end', this.pointerUp.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, 'cancel', this.pointerUp.bind(this));\n    }\n  }\n  pointerClean() {\n    if (this.config.pointerLock && document.pointerLockElement === this.state.currentTarget) {\n      document.exitPointerLock();\n    }\n  }\n  preventScroll(event) {\n    if (this.state._preventScroll && event.cancelable) {\n      event.preventDefault();\n    }\n  }\n  setupScrollPrevention(event) {\n    this.state._preventScroll = false;\n    persistEvent(event);\n    const remove = this.eventStore.add(this.sharedConfig.window, 'touch', 'change', this.preventScroll.bind(this), {\n      passive: false\n    });\n    this.eventStore.add(this.sharedConfig.window, 'touch', 'end', remove);\n    this.eventStore.add(this.sharedConfig.window, 'touch', 'cancel', remove);\n    this.timeoutStore.add('startPointerDrag', this.startPointerDrag.bind(this), this.config.preventScrollDelay, event);\n  }\n  setupDelayTrigger(event) {\n    this.state._delayed = true;\n    this.timeoutStore.add('dragDelay', () => {\n      this.state._step = [0, 0];\n      this.startPointerDrag(event);\n    }, this.config.delay);\n  }\n  keyDown(event) {\n    const deltaFn = KEYS_DELTA_MAP[event.key];\n    if (deltaFn) {\n      const state = this.state;\n      const factor = event.shiftKey ? 10 : event.altKey ? 0.1 : 1;\n      this.start(event);\n      state._delta = deltaFn(this.config.keyboardDisplacement, factor);\n      state._keyboardActive = true;\n      V.addTo(state._movement, state._delta);\n      this.compute(event);\n      this.emit();\n    }\n  }\n  keyUp(event) {\n    if (!(event.key in KEYS_DELTA_MAP)) return;\n    this.state._keyboardActive = false;\n    this.setActive();\n    this.compute(event);\n    this.emit();\n  }\n  bind(bindFunction) {\n    const device = this.config.device;\n    bindFunction(device, 'start', this.pointerDown.bind(this));\n    if (this.config.pointerCapture) {\n      bindFunction(device, 'change', this.pointerMove.bind(this));\n      bindFunction(device, 'end', this.pointerUp.bind(this));\n      bindFunction(device, 'cancel', this.pointerUp.bind(this));\n      bindFunction('lostPointerCapture', '', this.pointerUp.bind(this));\n    }\n    if (this.config.keys) {\n      bindFunction('key', 'down', this.keyDown.bind(this));\n      bindFunction('key', 'up', this.keyUp.bind(this));\n    }\n    if (this.config.filterTaps) {\n      bindFunction('click', '', this.pointerClick.bind(this), {\n        capture: true,\n        passive: false\n      });\n    }\n  }\n}\nfunction persistEvent(event) {\n  'persist' in event && typeof event.persist === 'function' && event.persist();\n}\n\nconst isBrowser = typeof window !== 'undefined' && window.document && window.document.createElement;\nfunction supportsTouchEvents() {\n  return isBrowser && 'ontouchstart' in window;\n}\nfunction isTouchScreen() {\n  return supportsTouchEvents() || isBrowser && window.navigator.maxTouchPoints > 1;\n}\nfunction supportsPointerEvents() {\n  return isBrowser && 'onpointerdown' in window;\n}\nfunction supportsPointerLock() {\n  return isBrowser && 'exitPointerLock' in window.document;\n}\nfunction supportsGestureEvents() {\n  try {\n    return 'constructor' in GestureEvent;\n  } catch (e) {\n    return false;\n  }\n}\nconst SUPPORT = {\n  isBrowser,\n  gesture: supportsGestureEvents(),\n  touch: isTouchScreen(),\n  touchscreen: isTouchScreen(),\n  pointer: supportsPointerEvents(),\n  pointerLock: supportsPointerLock()\n};\n\nconst DEFAULT_PREVENT_SCROLL_DELAY = 250;\nconst DEFAULT_DRAG_DELAY = 180;\nconst DEFAULT_SWIPE_VELOCITY = 0.5;\nconst DEFAULT_SWIPE_DISTANCE = 50;\nconst DEFAULT_SWIPE_DURATION = 250;\nconst DEFAULT_KEYBOARD_DISPLACEMENT = 10;\nconst DEFAULT_DRAG_AXIS_THRESHOLD = {\n  mouse: 0,\n  touch: 0,\n  pen: 8\n};\nconst dragConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  device(_v, _k, {\n    pointer: {\n      touch = false,\n      lock = false,\n      mouse = false\n    } = {}\n  }) {\n    this.pointerLock = lock && SUPPORT.pointerLock;\n    if (SUPPORT.touch && touch) return 'touch';\n    if (this.pointerLock) return 'mouse';\n    if (SUPPORT.pointer && !mouse) return 'pointer';\n    if (SUPPORT.touch) return 'touch';\n    return 'mouse';\n  },\n  preventScrollAxis(value, _k, {\n    preventScroll\n  }) {\n    this.preventScrollDelay = typeof preventScroll === 'number' ? preventScroll : preventScroll || preventScroll === undefined && value ? DEFAULT_PREVENT_SCROLL_DELAY : undefined;\n    if (!SUPPORT.touchscreen || preventScroll === false) return undefined;\n    return value ? value : preventScroll !== undefined ? 'y' : undefined;\n  },\n  pointerCapture(_v, _k, {\n    pointer: {\n      capture = true,\n      buttons = 1,\n      keys = true\n    } = {}\n  }) {\n    this.pointerButtons = buttons;\n    this.keys = keys;\n    return !this.pointerLock && this.device === 'pointer' && capture;\n  },\n  threshold(value, _k, {\n    filterTaps = false,\n    tapsThreshold = 3,\n    axis = undefined\n  }) {\n    const threshold = V.toVector(value, filterTaps ? tapsThreshold : axis ? 1 : 0);\n    this.filterTaps = filterTaps;\n    this.tapsThreshold = tapsThreshold;\n    return threshold;\n  },\n  swipe({\n    velocity = DEFAULT_SWIPE_VELOCITY,\n    distance = DEFAULT_SWIPE_DISTANCE,\n    duration = DEFAULT_SWIPE_DURATION\n  } = {}) {\n    return {\n      velocity: this.transform(V.toVector(velocity)),\n      distance: this.transform(V.toVector(distance)),\n      duration\n    };\n  },\n  delay(value = 0) {\n    switch (value) {\n      case true:\n        return DEFAULT_DRAG_DELAY;\n      case false:\n        return 0;\n      default:\n        return value;\n    }\n  },\n  axisThreshold(value) {\n    if (!value) return DEFAULT_DRAG_AXIS_THRESHOLD;\n    return _objectSpread2(_objectSpread2({}, DEFAULT_DRAG_AXIS_THRESHOLD), value);\n  },\n  keyboardDisplacement(value = DEFAULT_KEYBOARD_DISPLACEMENT) {\n    return value;\n  }\n});\nif (process.env.NODE_ENV === 'development') {\n  Object.assign(dragConfigResolver, {\n    useTouch(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`useTouch\\` option has been renamed to \\`pointer.touch\\`. Use it as in \\`{ pointer: { touch: true } }\\`.`);\n      }\n      return NaN;\n    },\n    experimental_preventWindowScrollY(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`experimental_preventWindowScrollY\\` option has been renamed to \\`preventScroll\\`.`);\n      }\n      return NaN;\n    },\n    swipeVelocity(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeVelocity\\` option has been renamed to \\`swipe.velocity\\`. Use it as in \\`{ swipe: { velocity: 0.5 } }\\`.`);\n      }\n      return NaN;\n    },\n    swipeDistance(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeDistance\\` option has been renamed to \\`swipe.distance\\`. Use it as in \\`{ swipe: { distance: 50 } }\\`.`);\n      }\n      return NaN;\n    },\n    swipeDuration(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeDuration\\` option has been renamed to \\`swipe.duration\\`. Use it as in \\`{ swipe: { duration: 250 } }\\`.`);\n      }\n      return NaN;\n    }\n  });\n}\n\nfunction clampStateInternalMovementToBounds(state) {\n  const [ox, oy] = state.overflow;\n  const [dx, dy] = state._delta;\n  const [dirx, diry] = state._direction;\n  if (ox < 0 && dx > 0 && dirx < 0 || ox > 0 && dx < 0 && dirx > 0) {\n    state._movement[0] = state._movementBound[0];\n  }\n  if (oy < 0 && dy > 0 && diry < 0 || oy > 0 && dy < 0 && diry > 0) {\n    state._movement[1] = state._movementBound[1];\n  }\n}\n\nconst SCALE_ANGLE_RATIO_INTENT_DEG = 30;\nconst PINCH_WHEEL_RATIO = 100;\nclass PinchEngine extends Engine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'pinching');\n    _defineProperty(this, \"aliasKey\", 'da');\n  }\n  init() {\n    this.state.offset = [1, 0];\n    this.state.lastOffset = [1, 0];\n    this.state._pointerEvents = new Map();\n  }\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._touchIds = [];\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n    state.turns = 0;\n  }\n  computeOffset() {\n    const {\n      type,\n      movement,\n      lastOffset\n    } = this.state;\n    if (type === 'wheel') {\n      this.state.offset = V.add(movement, lastOffset);\n    } else {\n      this.state.offset = [(1 + movement[0]) * lastOffset[0], movement[1] + lastOffset[1]];\n    }\n  }\n  computeMovement() {\n    const {\n      offset,\n      lastOffset\n    } = this.state;\n    this.state.movement = [offset[0] / lastOffset[0], offset[1] - lastOffset[1]];\n  }\n  axisIntent() {\n    const state = this.state;\n    const [_m0, _m1] = state._movement;\n    if (!state.axis) {\n      const axisMovementDifference = Math.abs(_m0) * SCALE_ANGLE_RATIO_INTENT_DEG - Math.abs(_m1);\n      if (axisMovementDifference < 0) state.axis = 'angle';else if (axisMovementDifference > 0) state.axis = 'scale';\n    }\n  }\n  restrictToAxis(v) {\n    if (this.config.lockDirection) {\n      if (this.state.axis === 'scale') v[1] = 0;else if (this.state.axis === 'angle') v[0] = 0;\n    }\n  }\n  cancel() {\n    const state = this.state;\n    if (state.canceled) return;\n    setTimeout(() => {\n      state.canceled = true;\n      state._active = false;\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n  touchStart(event) {\n    this.ctrl.setEventIds(event);\n    const state = this.state;\n    const ctrlTouchIds = this.ctrl.touchIds;\n    if (state._active) {\n      if (state._touchIds.every(id => ctrlTouchIds.has(id))) return;\n    }\n    if (ctrlTouchIds.size < 2) return;\n    this.start(event);\n    state._touchIds = Array.from(ctrlTouchIds).slice(0, 2);\n    const payload = touchDistanceAngle(event, state._touchIds);\n    this.pinchStart(event, payload);\n  }\n  pointerStart(event) {\n    if (event.buttons != null && event.buttons % 2 !== 1) return;\n    this.ctrl.setEventIds(event);\n    event.target.setPointerCapture(event.pointerId);\n    const state = this.state;\n    const _pointerEvents = state._pointerEvents;\n    const ctrlPointerIds = this.ctrl.pointerIds;\n    if (state._active) {\n      if (Array.from(_pointerEvents.keys()).every(id => ctrlPointerIds.has(id))) return;\n    }\n    if (_pointerEvents.size < 2) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n    if (state._pointerEvents.size < 2) return;\n    this.start(event);\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    this.pinchStart(event, payload);\n  }\n  pinchStart(event, payload) {\n    const state = this.state;\n    state.origin = payload.origin;\n    this.computeValues([payload.distance, payload.angle]);\n    this.computeInitial();\n    this.compute(event);\n    this.emit();\n  }\n  touchMove(event) {\n    if (!this.state._active) return;\n    const payload = touchDistanceAngle(event, this.state._touchIds);\n    this.pinchMove(event, payload);\n  }\n  pointerMove(event) {\n    const _pointerEvents = this.state._pointerEvents;\n    if (_pointerEvents.has(event.pointerId)) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n    if (!this.state._active) return;\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    this.pinchMove(event, payload);\n  }\n  pinchMove(event, payload) {\n    const state = this.state;\n    const prev_a = state._values[1];\n    const delta_a = payload.angle - prev_a;\n    let delta_turns = 0;\n    if (Math.abs(delta_a) > 270) delta_turns += Math.sign(delta_a);\n    this.computeValues([payload.distance, payload.angle - 360 * delta_turns]);\n    state.origin = payload.origin;\n    state.turns = delta_turns;\n    state._movement = [state._values[0] / state._initial[0] - 1, state._values[1] - state._initial[1]];\n    this.compute(event);\n    this.emit();\n  }\n  touchEnd(event) {\n    this.ctrl.setEventIds(event);\n    if (!this.state._active) return;\n    if (this.state._touchIds.some(id => !this.ctrl.touchIds.has(id))) {\n      this.state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n  pointerEnd(event) {\n    const state = this.state;\n    this.ctrl.setEventIds(event);\n    try {\n      event.target.releasePointerCapture(event.pointerId);\n    } catch (_unused) {}\n    if (state._pointerEvents.has(event.pointerId)) {\n      state._pointerEvents.delete(event.pointerId);\n    }\n    if (!state._active) return;\n    if (state._pointerEvents.size < 2) {\n      state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n  gestureStart(event) {\n    if (event.cancelable) event.preventDefault();\n    const state = this.state;\n    if (state._active) return;\n    this.start(event);\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n  gestureMove(event) {\n    if (event.cancelable) event.preventDefault();\n    if (!this.state._active) return;\n    const state = this.state;\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    const _previousMovement = state._movement;\n    state._movement = [event.scale - 1, event.rotation];\n    state._delta = V.sub(state._movement, _previousMovement);\n    this.compute(event);\n    this.emit();\n  }\n  gestureEnd(event) {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n  wheel(event) {\n    const modifierKey = this.config.modifierKey;\n    if (modifierKey && !event[modifierKey]) return;\n    if (!this.state._active) this.wheelStart(event);else this.wheelChange(event);\n    this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));\n  }\n  wheelStart(event) {\n    this.start(event);\n    this.wheelChange(event);\n  }\n  wheelChange(event) {\n    const isR3f = ('uv' in event);\n    if (!isR3f) {\n      if (event.cancelable) {\n        event.preventDefault();\n      }\n      if (process.env.NODE_ENV === 'development' && !event.defaultPrevented) {\n        console.warn(`[@use-gesture]: To properly support zoom on trackpads, try using the \\`target\\` option.\\n\\nThis message will only appear in development mode.`);\n      }\n    }\n    const state = this.state;\n    state._delta = [-wheelValues(event)[1] / PINCH_WHEEL_RATIO * state.offset[0], 0];\n    V.addTo(state._movement, state._delta);\n    clampStateInternalMovementToBounds(state);\n    this.state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n  wheelEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    const device = this.config.device;\n    if (!!device) {\n      bindFunction(device, 'start', this[device + 'Start'].bind(this));\n      bindFunction(device, 'change', this[device + 'Move'].bind(this));\n      bindFunction(device, 'end', this[device + 'End'].bind(this));\n      bindFunction(device, 'cancel', this[device + 'End'].bind(this));\n    }\n    if (this.config.pinchOnWheel) {\n      bindFunction('wheel', '', this.wheel.bind(this), {\n        passive: false\n      });\n    }\n  }\n}\n\nconst pinchConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  device(_v, _k, {\n    shared,\n    pointer: {\n      touch = false\n    } = {}\n  }) {\n    const sharedConfig = shared;\n    if (sharedConfig.target && !SUPPORT.touch && SUPPORT.gesture) return 'gesture';\n    if (SUPPORT.touch && touch) return 'touch';\n    if (SUPPORT.touchscreen) {\n      if (SUPPORT.pointer) return 'pointer';\n      if (SUPPORT.touch) return 'touch';\n    }\n  },\n  bounds(_v, _k, {\n    scaleBounds = {},\n    angleBounds = {}\n  }) {\n    const _scaleBounds = state => {\n      const D = assignDefault(call(scaleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [D.min, D.max];\n    };\n    const _angleBounds = state => {\n      const A = assignDefault(call(angleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [A.min, A.max];\n    };\n    if (typeof scaleBounds !== 'function' && typeof angleBounds !== 'function') return [_scaleBounds(), _angleBounds()];\n    return state => [_scaleBounds(state), _angleBounds(state)];\n  },\n  threshold(value, _k, config) {\n    this.lockDirection = config.axis === 'lock';\n    const threshold = V.toVector(value, this.lockDirection ? [0.1, 3] : 0);\n    return threshold;\n  },\n  modifierKey(value) {\n    if (value === undefined) return 'ctrlKey';\n    return value;\n  },\n  pinchOnWheel(value = true) {\n    return value;\n  }\n});\n\nclass MoveEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'moving');\n  }\n  move(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    if (!this.state._active) this.moveStart(event);else this.moveChange(event);\n    this.timeoutStore.add('moveEnd', this.moveEnd.bind(this));\n  }\n  moveStart(event) {\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.computeInitial();\n    this.emit();\n  }\n  moveChange(event) {\n    if (!this.state._active) return;\n    const values = pointerValues(event);\n    const state = this.state;\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n  moveEnd(event) {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('pointer', 'change', this.move.bind(this));\n    bindFunction('pointer', 'leave', this.moveEnd.bind(this));\n  }\n}\n\nconst moveConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\n\nclass ScrollEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'scrolling');\n  }\n  scroll(event) {\n    if (!this.state._active) this.start(event);\n    this.scrollChange(event);\n    this.timeoutStore.add('scrollEnd', this.scrollEnd.bind(this));\n  }\n  scrollChange(event) {\n    if (event.cancelable) event.preventDefault();\n    const state = this.state;\n    const values = scrollValues(event);\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n  scrollEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('scroll', '', this.scroll.bind(this));\n  }\n}\n\nconst scrollConfigResolver = coordinatesConfigResolver;\n\nclass WheelEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'wheeling');\n  }\n  wheel(event) {\n    if (!this.state._active) this.start(event);\n    this.wheelChange(event);\n    this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));\n  }\n  wheelChange(event) {\n    const state = this.state;\n    state._delta = wheelValues(event);\n    V.addTo(state._movement, state._delta);\n    clampStateInternalMovementToBounds(state);\n    this.compute(event);\n    this.emit();\n  }\n  wheelEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('wheel', '', this.wheel.bind(this));\n  }\n}\n\nconst wheelConfigResolver = coordinatesConfigResolver;\n\nclass HoverEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n    _defineProperty(this, \"ingKey\", 'hovering');\n  }\n  enter(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.emit();\n  }\n  leave(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    const state = this.state;\n    if (!state._active) return;\n    state._active = false;\n    const values = pointerValues(event);\n    state._movement = state._delta = V.sub(values, state._values);\n    this.computeValues(values);\n    this.compute(event);\n    state.delta = state.movement;\n    this.emit();\n  }\n  bind(bindFunction) {\n    bindFunction('pointer', 'enter', this.enter.bind(this));\n    bindFunction('pointer', 'leave', this.leave.bind(this));\n  }\n}\n\nconst hoverConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\n\nconst EngineMap = new Map();\nconst ConfigResolverMap = new Map();\nfunction registerAction(action) {\n  EngineMap.set(action.key, action.engine);\n  ConfigResolverMap.set(action.key, action.resolver);\n}\nconst dragAction = {\n  key: 'drag',\n  engine: DragEngine,\n  resolver: dragConfigResolver\n};\nconst hoverAction = {\n  key: 'hover',\n  engine: HoverEngine,\n  resolver: hoverConfigResolver\n};\nconst moveAction = {\n  key: 'move',\n  engine: MoveEngine,\n  resolver: moveConfigResolver\n};\nconst pinchAction = {\n  key: 'pinch',\n  engine: PinchEngine,\n  resolver: pinchConfigResolver\n};\nconst scrollAction = {\n  key: 'scroll',\n  engine: ScrollEngine,\n  resolver: scrollConfigResolver\n};\nconst wheelAction = {\n  key: 'wheel',\n  engine: WheelEngine,\n  resolver: wheelConfigResolver\n};\n\nexport { ConfigResolverMap as C, EngineMap as E, SUPPORT as S, _objectSpread2 as _, _defineProperty as a, touchIds as b, chain as c, toHandlerProp as d, dragAction as e, pinchAction as f, hoverAction as h, isTouch as i, moveAction as m, parseProp as p, registerAction as r, scrollAction as s, toDomEventType as t, wheelAction as w };\n","import { S as SUPPORT, C as ConfigResolverMap, _ as _objectSpread2, a as _defineProperty, t as toDomEventType, i as isTouch, b as touchIds, E as EngineMap, c as chain, p as parseProp, d as toHandlerProp } from './actions-b1cc53c2.esm.js';\nimport './maths-0ab39ae9.esm.js';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\n\nconst sharedConfigResolver = {\n  target(value) {\n    if (value) {\n      return () => 'current' in value ? value.current : value;\n    }\n    return undefined;\n  },\n  enabled(value = true) {\n    return value;\n  },\n  window(value = SUPPORT.isBrowser ? window : undefined) {\n    return value;\n  },\n  eventOptions({\n    passive = true,\n    capture = false\n  } = {}) {\n    return {\n      passive,\n      capture\n    };\n  },\n  transform(value) {\n    return value;\n  }\n};\n\nconst _excluded = [\"target\", \"eventOptions\", \"window\", \"enabled\", \"transform\"];\nfunction resolveWith(config = {}, resolvers) {\n  const result = {};\n  for (const [key, resolver] of Object.entries(resolvers)) {\n    switch (typeof resolver) {\n      case 'function':\n        if (process.env.NODE_ENV === 'development') {\n          const r = resolver.call(result, config[key], key, config);\n          if (!Number.isNaN(r)) result[key] = r;\n        } else {\n          result[key] = resolver.call(result, config[key], key, config);\n        }\n        break;\n      case 'object':\n        result[key] = resolveWith(config[key], resolver);\n        break;\n      case 'boolean':\n        if (resolver) result[key] = config[key];\n        break;\n    }\n  }\n  return result;\n}\nfunction parse(newConfig, gestureKey, _config = {}) {\n  const _ref = newConfig,\n    {\n      target,\n      eventOptions,\n      window,\n      enabled,\n      transform\n    } = _ref,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  _config.shared = resolveWith({\n    target,\n    eventOptions,\n    window,\n    enabled,\n    transform\n  }, sharedConfigResolver);\n  if (gestureKey) {\n    const resolver = ConfigResolverMap.get(gestureKey);\n    _config[gestureKey] = resolveWith(_objectSpread2({\n      shared: _config.shared\n    }, rest), resolver);\n  } else {\n    for (const key in rest) {\n      const resolver = ConfigResolverMap.get(key);\n      if (resolver) {\n        _config[key] = resolveWith(_objectSpread2({\n          shared: _config.shared\n        }, rest[key]), resolver);\n      } else if (process.env.NODE_ENV === 'development') {\n        if (!['drag', 'pinch', 'scroll', 'wheel', 'move', 'hover'].includes(key)) {\n          if (key === 'domTarget') {\n            throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n          }\n          console.warn(`[@use-gesture]: Unknown config key \\`${key}\\` was used. Please read the documentation for further information.`);\n        }\n      }\n    }\n  }\n  return _config;\n}\n\nclass EventStore {\n  constructor(ctrl, gestureKey) {\n    _defineProperty(this, \"_listeners\", new Set());\n    this._ctrl = ctrl;\n    this._gestureKey = gestureKey;\n  }\n  add(element, device, action, handler, options) {\n    const listeners = this._listeners;\n    const type = toDomEventType(device, action);\n    const _options = this._gestureKey ? this._ctrl.config[this._gestureKey].eventOptions : {};\n    const eventOptions = _objectSpread2(_objectSpread2({}, _options), options);\n    element.addEventListener(type, handler, eventOptions);\n    const remove = () => {\n      element.removeEventListener(type, handler, eventOptions);\n      listeners.delete(remove);\n    };\n    listeners.add(remove);\n    return remove;\n  }\n  clean() {\n    this._listeners.forEach(remove => remove());\n    this._listeners.clear();\n  }\n}\n\nclass TimeoutStore {\n  constructor() {\n    _defineProperty(this, \"_timeouts\", new Map());\n  }\n  add(key, callback, ms = 140, ...args) {\n    this.remove(key);\n    this._timeouts.set(key, window.setTimeout(callback, ms, ...args));\n  }\n  remove(key) {\n    const timeout = this._timeouts.get(key);\n    if (timeout) window.clearTimeout(timeout);\n  }\n  clean() {\n    this._timeouts.forEach(timeout => void window.clearTimeout(timeout));\n    this._timeouts.clear();\n  }\n}\n\nclass Controller {\n  constructor(handlers) {\n    _defineProperty(this, \"gestures\", new Set());\n    _defineProperty(this, \"_targetEventStore\", new EventStore(this));\n    _defineProperty(this, \"gestureEventStores\", {});\n    _defineProperty(this, \"gestureTimeoutStores\", {});\n    _defineProperty(this, \"handlers\", {});\n    _defineProperty(this, \"config\", {});\n    _defineProperty(this, \"pointerIds\", new Set());\n    _defineProperty(this, \"touchIds\", new Set());\n    _defineProperty(this, \"state\", {\n      shared: {\n        shiftKey: false,\n        metaKey: false,\n        ctrlKey: false,\n        altKey: false\n      }\n    });\n    resolveGestures(this, handlers);\n  }\n  setEventIds(event) {\n    if (isTouch(event)) {\n      this.touchIds = new Set(touchIds(event));\n      return this.touchIds;\n    } else if ('pointerId' in event) {\n      if (event.type === 'pointerup' || event.type === 'pointercancel') this.pointerIds.delete(event.pointerId);else if (event.type === 'pointerdown') this.pointerIds.add(event.pointerId);\n      return this.pointerIds;\n    }\n  }\n  applyHandlers(handlers, nativeHandlers) {\n    this.handlers = handlers;\n    this.nativeHandlers = nativeHandlers;\n  }\n  applyConfig(config, gestureKey) {\n    this.config = parse(config, gestureKey, this.config);\n  }\n  clean() {\n    this._targetEventStore.clean();\n    for (const key of this.gestures) {\n      this.gestureEventStores[key].clean();\n      this.gestureTimeoutStores[key].clean();\n    }\n  }\n  effect() {\n    if (this.config.shared.target) this.bind();\n    return () => this._targetEventStore.clean();\n  }\n  bind(...args) {\n    const sharedConfig = this.config.shared;\n    const props = {};\n    let target;\n    if (sharedConfig.target) {\n      target = sharedConfig.target();\n      if (!target) return;\n    }\n    if (sharedConfig.enabled) {\n      for (const gestureKey of this.gestures) {\n        const gestureConfig = this.config[gestureKey];\n        const bindFunction = bindToProps(props, gestureConfig.eventOptions, !!target);\n        if (gestureConfig.enabled) {\n          const Engine = EngineMap.get(gestureKey);\n          new Engine(this, args, gestureKey).bind(bindFunction);\n        }\n      }\n      const nativeBindFunction = bindToProps(props, sharedConfig.eventOptions, !!target);\n      for (const eventKey in this.nativeHandlers) {\n        nativeBindFunction(eventKey, '', event => this.nativeHandlers[eventKey](_objectSpread2(_objectSpread2({}, this.state.shared), {}, {\n          event,\n          args\n        })), undefined, true);\n      }\n    }\n    for (const handlerProp in props) {\n      props[handlerProp] = chain(...props[handlerProp]);\n    }\n    if (!target) return props;\n    for (const handlerProp in props) {\n      const {\n        device,\n        capture,\n        passive\n      } = parseProp(handlerProp);\n      this._targetEventStore.add(target, device, '', props[handlerProp], {\n        capture,\n        passive\n      });\n    }\n  }\n}\nfunction setupGesture(ctrl, gestureKey) {\n  ctrl.gestures.add(gestureKey);\n  ctrl.gestureEventStores[gestureKey] = new EventStore(ctrl, gestureKey);\n  ctrl.gestureTimeoutStores[gestureKey] = new TimeoutStore();\n}\nfunction resolveGestures(ctrl, internalHandlers) {\n  if (internalHandlers.drag) setupGesture(ctrl, 'drag');\n  if (internalHandlers.wheel) setupGesture(ctrl, 'wheel');\n  if (internalHandlers.scroll) setupGesture(ctrl, 'scroll');\n  if (internalHandlers.move) setupGesture(ctrl, 'move');\n  if (internalHandlers.pinch) setupGesture(ctrl, 'pinch');\n  if (internalHandlers.hover) setupGesture(ctrl, 'hover');\n}\nconst bindToProps = (props, eventOptions, withPassiveOption) => (device, action, handler, options = {}, isNative = false) => {\n  var _options$capture, _options$passive;\n  const capture = (_options$capture = options.capture) !== null && _options$capture !== void 0 ? _options$capture : eventOptions.capture;\n  const passive = (_options$passive = options.passive) !== null && _options$passive !== void 0 ? _options$passive : eventOptions.passive;\n  let handlerProp = isNative ? device : toHandlerProp(device, action, capture);\n  if (withPassiveOption && passive) handlerProp += 'Passive';\n  props[handlerProp] = props[handlerProp] || [];\n  props[handlerProp].push(handler);\n};\n\nconst RE_NOT_NATIVE = /^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;\nfunction sortHandlers(_handlers) {\n  const native = {};\n  const handlers = {};\n  const actions = new Set();\n  for (let key in _handlers) {\n    if (RE_NOT_NATIVE.test(key)) {\n      actions.add(RegExp.lastMatch);\n      handlers[key] = _handlers[key];\n    } else {\n      native[key] = _handlers[key];\n    }\n  }\n  return [handlers, native, actions];\n}\nfunction registerGesture(actions, handlers, handlerKey, key, internalHandlers, config) {\n  if (!actions.has(handlerKey)) return;\n  if (!EngineMap.has(key)) {\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(`[@use-gesture]: You've created a custom handler that that uses the \\`${key}\\` gesture but isn't properly configured.\\n\\nPlease add \\`${key}Action\\` when creating your handler.`);\n    }\n    return;\n  }\n  const startKey = handlerKey + 'Start';\n  const endKey = handlerKey + 'End';\n  const fn = state => {\n    let memo = undefined;\n    if (state.first && startKey in handlers) handlers[startKey](state);\n    if (handlerKey in handlers) memo = handlers[handlerKey](state);\n    if (state.last && endKey in handlers) handlers[endKey](state);\n    return memo;\n  };\n  internalHandlers[key] = fn;\n  config[key] = config[key] || {};\n}\nfunction parseMergedHandlers(mergedHandlers, mergedConfig) {\n  const [handlers, nativeHandlers, actions] = sortHandlers(mergedHandlers);\n  const internalHandlers = {};\n  registerGesture(actions, handlers, 'onDrag', 'drag', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onWheel', 'wheel', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onScroll', 'scroll', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onPinch', 'pinch', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onMove', 'move', internalHandlers, mergedConfig);\n  registerGesture(actions, handlers, 'onHover', 'hover', internalHandlers, mergedConfig);\n  return {\n    handlers: internalHandlers,\n    config: mergedConfig,\n    nativeHandlers\n  };\n}\n\nexport { Controller, parseMergedHandlers };\n","import { registerAction, dragAction, pinchAction, wheelAction, scrollAction, moveAction, hoverAction } from '@use-gesture/core/actions';\nexport * from '@use-gesture/core/actions';\nimport React from 'react';\nimport { Controller, parseMergedHandlers } from '@use-gesture/core';\nexport * from '@use-gesture/core/utils';\nexport * from '@use-gesture/core/types';\n\nfunction useRecognizers(handlers, config = {}, gestureKey, nativeHandlers) {\n  const ctrl = React.useMemo(() => new Controller(handlers), []);\n  ctrl.applyHandlers(handlers, nativeHandlers);\n  ctrl.applyConfig(config, gestureKey);\n  React.useEffect(ctrl.effect.bind(ctrl));\n  React.useEffect(() => {\n    return ctrl.clean.bind(ctrl);\n  }, []);\n  if (config.target === undefined) {\n    return ctrl.bind.bind(ctrl);\n  }\n  return undefined;\n}\n\nfunction useDrag(handler, config) {\n  registerAction(dragAction);\n  return useRecognizers({\n    drag: handler\n  }, config || {}, 'drag');\n}\n\nfunction usePinch(handler, config) {\n  registerAction(pinchAction);\n  return useRecognizers({\n    pinch: handler\n  }, config || {}, 'pinch');\n}\n\nfunction useWheel(handler, config) {\n  registerAction(wheelAction);\n  return useRecognizers({\n    wheel: handler\n  }, config || {}, 'wheel');\n}\n\nfunction useScroll(handler, config) {\n  registerAction(scrollAction);\n  return useRecognizers({\n    scroll: handler\n  }, config || {}, 'scroll');\n}\n\nfunction useMove(handler, config) {\n  registerAction(moveAction);\n  return useRecognizers({\n    move: handler\n  }, config || {}, 'move');\n}\n\nfunction useHover(handler, config) {\n  registerAction(hoverAction);\n  return useRecognizers({\n    hover: handler\n  }, config || {}, 'hover');\n}\n\nfunction createUseGesture(actions) {\n  actions.forEach(registerAction);\n  return function useGesture(_handlers, _config) {\n    const {\n      handlers,\n      nativeHandlers,\n      config\n    } = parseMergedHandlers(_handlers, _config || {});\n    return useRecognizers(handlers, config, undefined, nativeHandlers);\n  };\n}\n\nfunction useGesture(handlers, config) {\n  const hook = createUseGesture([dragAction, pinchAction, scrollAction, wheelAction, moveAction, hoverAction]);\n  return hook(handlers, config || {});\n}\n\nexport { createUseGesture, useDrag, useGesture, useHover, useMove, usePinch, useScroll, useWheel };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { MathUtils } from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { useSpring, a } from '@react-spring/three';\nimport { useGesture } from '@use-gesture/react';\n\nfunction PresentationControls({\n  enabled = true,\n  snap,\n  global,\n  domElement,\n  cursor = true,\n  children,\n  speed = 1,\n  rotation = [0, 0, 0],\n  zoom = 1,\n  polar = [0, Math.PI / 2],\n  azimuth = [-Infinity, Infinity],\n  config = {\n    mass: 1,\n    tension: 170,\n    friction: 26\n  }\n}) {\n  const events = useThree(state => state.events);\n  const gl = useThree(state => state.gl);\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const {\n    size\n  } = useThree();\n  const rPolar = React.useMemo(() => [rotation[0] + polar[0], rotation[0] + polar[1]], [rotation[0], polar[0], polar[1]]);\n  const rAzimuth = React.useMemo(() => [rotation[1] + azimuth[0], rotation[1] + azimuth[1]], [rotation[1], azimuth[0], azimuth[1]]);\n  const rInitial = React.useMemo(() => [MathUtils.clamp(rotation[0], ...rPolar), MathUtils.clamp(rotation[1], ...rAzimuth), rotation[2]], [rotation[0], rotation[1], rotation[2], rPolar, rAzimuth]);\n  const [spring, api] = useSpring(() => ({\n    scale: 1,\n    rotation: rInitial,\n    config\n  }));\n  React.useEffect(() => void api.start({\n    scale: 1,\n    rotation: rInitial,\n    config\n  }), [rInitial]);\n  React.useEffect(() => {\n    if (global && cursor && enabled) {\n      explDomElement.style.cursor = 'grab';\n      gl.domElement.style.cursor = '';\n    }\n\n    return () => {\n      explDomElement.style.cursor = 'default';\n      gl.domElement.style.cursor = 'default';\n    };\n  }, [global, cursor, explDomElement, enabled]);\n  const bind = useGesture({\n    onHover: ({\n      last\n    }) => {\n      if (cursor && !global && enabled) explDomElement.style.cursor = last ? 'auto' : 'grab';\n    },\n    onDrag: ({\n      down,\n      delta: [x, y],\n      memo: [oldY, oldX] = spring.rotation.animation.to || rInitial\n    }) => {\n      if (!enabled) return [y, x];\n      if (cursor) explDomElement.style.cursor = down ? 'grabbing' : 'grab';\n      x = MathUtils.clamp(oldX + x / size.width * Math.PI * speed, ...rAzimuth);\n      y = MathUtils.clamp(oldY + y / size.height * Math.PI * speed, ...rPolar);\n      const sConfig = snap && !down && typeof snap !== 'boolean' ? snap : config;\n      api.start({\n        scale: down && y > rPolar[1] / 2 ? zoom : 1,\n        rotation: snap && !down ? rInitial : [y, x, 0],\n        config: n => n === 'scale' ? { ...sConfig,\n          friction: sConfig.friction * 3\n        } : sConfig\n      });\n      return [y, x];\n    }\n  }, {\n    target: global ? explDomElement : undefined\n  });\n  return /*#__PURE__*/React.createElement(a.group, _extends({}, bind == null ? void 0 : bind(), spring), children);\n}\n\nexport { PresentationControls };\n"],"names":["RGBELoader","_DataTextureLoader","_inherits","_super","_createSuper","manager","_this","_classCallCheck","call","type","HalfFloatType","_createClass","key","value","buffer","rgbe_error","rgbe_error_code","msg","console","error","fgets","lineLimit","consume","p","pos","i","len","s","chunk","String","fromCharCode","apply","Uint16Array","subarray","indexOf","byteLength","length","slice","RGBEByteToRGBFloat","sourceArray","sourceOffset","destArray","destOffset","e","scale","Math","pow","RGBEByteToRGBHalf","DataUtils","min","byteArray","Uint8Array","rgbe_header_info","line","match","gamma_re","exposure_re","format_re","dimensions_re","header","valid","string","comments","programtype","format","gamma","exposure","width","height","charAt","parseFloat","parseInt","RGBE_ReadHeader","w","h","image_rgba_data","scanline_width","data_rgba","offset","ptr_end","rgbeStart","scanline_buffer","num_scanlines","ptr","count","isEncodedRun","byteValue","set","l","off","RGBE_ReadPixels_RLE","data","numElements","this","FloatType","floatArray","Float32Array","j","halfArray","url","onLoad","onProgress","onError","_get","_getPrototypeOf","prototype","texture","texData","encoding","LinearEncoding","minFilter","LinearFilter","magFilter","generateMipmaps","flipY","DataTextureLoader","isCubeTexture","def","GroundProjectedEnv","_Mesh","options","_ref","_texture$image$","isCubeMap","cubeSize","image","_lodMax","floor","log2","_cubeSize","max","fragmentShader","concat","join","uniforms","map","radius","geometry","IcosahedronGeometry","material","ShaderMaterial","vertexShader","side","DoubleSide","get","Mesh","presetsObj","sunset","dawn","night","warehouse","forest","apartment","studio","city","park","lobby","CUBEMAP_ROOT","resolveScene","scene","obj","current","isScene","setEnvProps","background","defaultScene","blur","arguments","undefined","target","oldbg","oldenv","environment","oldBlur","backgroundBlurriness","EnvironmentMap","_ref$background","useThree","state","React","useEnvironment","_ref2","_ref2$files","files","_ref2$path","path","_ref2$preset","preset","_ref2$encoding","extensions","Error","Object","keys","Array","isArray","loader","CubeTextureLoader","loaderResult","useLoader","setPath","mapping","CubeReflectionMapping","EquirectangularReflectionMapping","sRGBEncoding","EnvironmentCube","_ref3","_ref3$background","_objectWithoutProperties","_excluded","EnvironmentPortal","_ref4","children","_ref4$near","near","_ref4$far","far","_ref4$resolution","resolution","_ref4$frames","frames","_ref4$background","_ref4$preset","gl","camera","_React$useState","Scene","virtualScene","_slicedToArray","fbo","WebGLCubeRenderTarget","update","useFrame","Infinity","createPortal","ref","args","EnvironmentGround","props","_props$ground","_props$ground2","_scale","_props$ground3","textureDefault","extend","GroundProjectedEnvImpl","ground","_extends","Environment","HorizontalBlurShader","tDiffuse","VerticalBlurShader","v","ContactShadows","fref","_ref$scale","_ref$frames","_ref$opacity","opacity","_ref$width","_ref$height","_ref$blur","_ref$far","_ref$resolution","_ref$smooth","smooth","_ref$color","color","_ref$depthWrite","depthWrite","renderOrder","shadowCamera","initialBackground","initialOverrideMaterial","_React$useMemo","renderTarget","THREE","renderTargetBlur","planeGeometry","rotateX","PI","blurPlane","depthMaterial","depthTest","onBeforeCompile","shader","_objectSpread","ucolor","replace","horizontalBlurMaterial","verticalBlurMaterial","_React$useMemo2","blurShadows","visible","setRenderTarget","render","overrideMaterial","rotation","transparent","outputEncoding","Center","fRef","disable","disableX","disableY","disableZ","left","right","top","bottom","front","back","onCentered","_ref$precise","precise","outer","inner","matrixWorld","identity","box3","Box3","setFromObject","center","Vector3","sphere","Sphere","x","y","depth","z","getCenter","getBoundingSphere","vAlign","hAlign","dAlign","position","parent","container","boundingBox","boundingSphere","verticalAlignment","horizontalAlignment","depthAlignment","shaderMaterial","onInit","_THREE$ShaderMaterial","parameters","entries","reduce","acc","name","uniform","_defineProperty","forEach","defineProperty","_assertThisInitialized","assign","DiscardMaterial","accumulativeContext","SoftShadowMaterial","blend","alphaTest","AccumulativeShadows","forwardRef","temporal","_ref$limit","limit","_ref$blend","_ref$alphaTest","_ref$colorBlend","colorBlend","_ref$toneMapped","toneMapped","invalidate","gPlane","gLights","ProgressiveLightMap","plm","configure","api","lights","Map","getMesh","reset","clear","prepare","light","finish","traverse","Provider","receiveShadow","progressiveLightMap2","RandomizedLight","_ref2$castShadow","castShadow","_ref2$bias","bias","_ref2$mapSize","mapSize","_ref2$size","size","_ref2$near","_ref2$far","_ref2$position","_ref2$radius","_ref2$amount","amount","_ref2$intensity","intensity","_ref2$ambient","ambient","_excluded2","_construct","_toConsumableArray","random","lambda","acos","phi","cos","abs","sin","group","uuid","delete","from","_","index","attach","renderer","res","buffer1Active","meshes","object","clearColor","clearAlpha","test","navigator","userAgent","progressiveLightMap1","discardMat","targetMat","fog","previousShadowMap","averagingWindow","bodyStart","_this2","getClearColor","getClearAlpha","setClearColor","isGeometry","isLight","push","_this3","mesh","blendWindow","activeMap","inactiveMap","oldBg","isOrthographic","isOrthographicCamera","isBox3","context","Bounds","_ref$damping","damping","fit","clip","observe","_ref$margin","margin","_ref$eps","eps","onFit","_useThree","controls","onFitRef","equals","a","b","damp","t","delta","animating","focus","zoom","_React$useState3","goal","_React$useState5","box","getSize","maxSize","fitHeightDistance","atan","fov","fitWidthDistance","aspect","distance","refresh","copy","updateWorldMatrix","isEmpty","setFromCenterAndSize","constructor","direction","clone","sub","normalize","multiplyScalar","newPos","add","maxDistance","updateProjectionMatrix","to","_goal$camera","_goal$focus","_camera$position","_getSize4","maxHeight","maxWidth","vertices","applyMatrix4","matrixWorldInverse","_i","_vertices","zoomForHeight","zoomForWidth","lookAt","callback","addEventListener","removeEventListener","presets","rembrandt","main","fill","portrait","upfront","soft","Refit","adjustCamera","Stage","_bias","_normalBias","_size","_offset","_amount","_radius","_ambient","_intensity","_ref2$adjustCamera","_ref2$shadows","shadows","_ref2$environment","config","_React$useState2","_React$useState2$","shadowBias","normalBias","shadowSize","shadowOffset","contactShadow","accumulativeShadow","shadowSpread","environmentProps","penumbra","Number","generated","_taskCache","WeakMap","DRACOLoader","_Loader","decoderPath","decoderConfig","decoderBinary","decoderPending","workerLimit","workerPool","workerNextTaskID","workerSourceURL","defaultAttributeIDs","normal","uv","defaultAttributeTypes","FileLoader","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","load","taskConfig","attributeIDs","attributeTypes","useUniqueIDs","decodeGeometry","then","catch","attribute","BYTES_PER_ELEMENT","worker","taskKey","JSON","stringify","has","cachedTask","promise","taskID","taskCost","geometryPending","_getWorker","_worker","Promise","resolve","reject","_callbacks","postMessage","id","message","_createGeometry","_releaseTask","geometryData","BufferGeometry","setIndex","BufferAttribute","array","attributes","itemSize","setAttribute","responseType","_initDecoder","_this4","useJS","WebAssembly","librariesPending","_loadLibrary","all","libraries","jsContent","wasmBinary","fn","DRACOWorker","toString","body","substring","lastIndexOf","URL","createObjectURL","Blob","_this5","Worker","_taskCosts","_taskLoad","onmessage","sort","log","terminate","Loader","decodeAttribute","draco","decoder","dracoGeometry","attributeName","attributeType","numComponents","num_components","numValues","num_points","dataType","DT_FLOAT32","Int8Array","DT_INT8","Int16Array","DT_INT16","Int32Array","DT_INT32","DT_UINT8","DT_UINT16","Uint32Array","DT_UINT32","getDracoDataType","_malloc","GetAttributeDataArrayForAllPoints","HEAPF32","_free","onModuleLoaded","DracoDecoderModule","module","Decoder","decoderBuffer","DecoderBuffer","Init","decodingStatus","geometryType","GetEncodedGeometryType","TRIANGULAR_MESH","DecodeBufferToMesh","POINT_CLOUD","PointCloud","DecodeBufferToPointCloud","ok","error_msg","self","attributeID","GetAttributeByUniqueId","GetAttributeId","GetAttribute","numFaces","num_faces","numIndices","GetTrianglesUInt32Array","decodeIndex","destroy","buffers","attr","MeshoptDecoder","detector","wasmpack","supported","instance","wasm","validate","instantiate","result","ch","charCodeAt","write","unpack","exports","__wasm_call_ctors","decode","fun","source","filter","sbrk","count4","tp","sp","heap","memory","filters","NONE","OCTAHEDRAL","QUATERNION","EXPONENTIAL","decoders","ATTRIBUTES","TRIANGLES","INDICES","ready","decodeVertexBuffer","meshopt_decodeVertexBuffer","decodeIndexBuffer","meshopt_decodeIndexBuffer","decodeIndexSequence","meshopt_decodeIndexSequence","decodeGltfBuffer","mode","GLTFLoader","dracoLoader","ktx2Loader","meshoptDecoder","pluginCallbacks","register","parser","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFTextureWebPExtension","GLTFMaterialsSheenExtension","GLTFMaterialsTransmissionExtension","GLTFMaterialsVolumeExtension","GLTFMaterialsIorExtension","GLTFMaterialsEmissiveStrengthExtension","GLTFMaterialsSpecularExtension","GLTFMaterialsIridescenceExtension","GLTFLightsExtension","GLTFMeshoptCompression","resourcePath","scope","LoaderUtils","itemStart","_onError","itemError","itemEnd","parse","gltf","splice","content","plugins","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","json","asset","version","GLTFParser","crossOrigin","fileLoader","plugin","extensionsUsed","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","warn","setExtensions","setPlugins","GLTFRegistry","objects","remove","removeAll","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_IOR","KHR_MATERIALS_SHEEN","KHR_MATERIALS_SPECULAR","KHR_MATERIALS_TRANSMISSION","KHR_MATERIALS_IRIDESCENCE","KHR_MATERIALS_VOLUME","KHR_TEXTURE_BASISU","KHR_MATERIALS_EMISSIVE_STRENGTH","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","cache","refs","uses","nodeDefs","nodes","nodeIndex","nodeLength","nodeDef","_addNodeRef","lightIndex","cacheKey","dependency","lightNode","lightDef","Color","fromArray","range","DirectionalLight","PointLight","SpotLight","spot","innerConeAngle","outerConeAngle","angle","decay","createUniqueName","_loadLight","_getNodeRef","MeshBasicMaterial","materialParams","materialDef","pending","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","materialIndex","materials","emissiveStrength","emissiveIntensity","MeshPhysicalMaterial","extension","clearcoatFactor","clearcoat","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughness","clearcoatRoughnessTexture","clearcoatNormalTexture","clearcoatNormalScale","Vector2","iridescenceFactor","iridescence","iridescenceTexture","iridescenceIor","iridescenceIOR","iridescenceThicknessRange","iridescenceThicknessMinimum","iridescenceThicknessMaximum","iridescenceThicknessTexture","sheenColor","sheenRoughness","sheen","sheenColorFactor","sheenRoughnessFactor","sheenColorTexture","sheenRoughnessTexture","transmissionFactor","transmission","transmissionTexture","thickness","thicknessFactor","thicknessTexture","attenuationDistance","colorArray","attenuationColor","ior","specularIntensity","specularFactor","specularTexture","specularColorFactor","specularColor","specularColorTexture","textureIndex","textureDef","textures","loadTextureImage","isSupported","images","textureLoader","uri","handler","getHandler","detectSupport","loadTexture","Image","src","onload","onerror","bufferView","bufferViews","extensionDef","getDependency","byteOffset","stride","byteStride","decodeGltfBufferAsync","ArrayBuffer","BINARY_EXTENSION_CHUNK_TYPES","headerView","DataView","magic","getUint32","chunkContentsLength","chunkView","chunkIndex","chunkLength","chunkType","contentArray","preload","primitive","bufferViewIndex","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","threeAttributeName","toLowerCase","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","normalized","decodeDracoFile","transform","texCoord","repeat","needsUpdate","GLTFMeshStandardSGMaterial","_MeshStandardMaterial","_super2","params","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","specular","setHex","glossiness","specularMap","glossinessMap","_extraUniforms","uniformName","defineProperties","defines","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","metalness","roughness","metalnessMap","roughnessMap","setValues","MeshStandardMaterial","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","emissive","glossinessFactor","specularGlossinessTexture","specGlossMapDef","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","TangentSpaceNormalMap","normalScale","displacementMap","displacementScale","displacementBias","alphaMap","envMap","envMapIntensity","refractionRatio","GLTFCubicSplineInterpolant","_Interpolant","_super3","parameterPositions","sampleValues","sampleSize","resultBuffer","values","valueSize","i1","t0","t1","stride2","stride3","td","pp","ppp","offset1","offset0","s2","s3","s0","s1","p0","m0","p1","m1","Interpolant","_q","Quaternion","GLTFCubicSplineQuaternionInterpolant","_GLTFCubicSplineInter","_super4","toArray","WEBGL_CONSTANTS","WEBGL_FILTERS","NearestFilter","NearestMipmapNearestFilter","LinearMipmapNearestFilter","NearestMipmapLinearFilter","LinearMipmapLinearFilter","WEBGL_WRAPPINGS","ClampToEdgeWrapping","MirroredRepeatWrapping","RepeatWrapping","WEBGL_TYPE_SIZES","SCALAR","VEC2","VEC3","VEC4","MAT2","MAT3","MAT4","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","weights","INTERPOLATION","CUBICSPLINE","LINEAR","InterpolateLinear","STEP","InterpolateDiscrete","ALPHA_MODES","addUnknownExtensionsToUserData","knownExtensions","objectDef","userData","gltfExtensions","assignExtrasToUserData","gltfDef","extras","updateMorphTargets","meshDef","il","morphTargetInfluences","targetNames","morphTargetDictionary","createPrimitiveKey","primitiveDef","dracoExtension","indices","createAttributesKey","attributesKey","getNormalizedComponentScale","_navigator$userAgent","_navigator$userAgent2","associations","primitiveCache","meshCache","cameraCache","lightCache","sourceCache","textureCache","nodeNamesUsed","isSafari","isFirefox","firefoxVersion","createImageBitmap","TextureLoader","ImageBitmapLoader","setCrossOrigin","_invokeAll","ext","_markDefs","beforeRoot","getDependencies","dependencies","scenes","animations","cameras","afterRoot","skinDefs","skins","meshDefs","skinIndex","skinLength","joints","isBone","skin","isSkinnedMesh","updateMappings","original","mappings","_step","_iterator","_createForOfIteratorHelper","n","done","_step$value","err","f","func","unshift","loadScene","loadNode","_invokeOne","loadMesh","loadAccessor","loadBufferView","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","bufferIndex","bufferDef","bufferViewDef","accessorIndex","sparse","pendingBufferViews","bufferAttribute","TypedArray","elementBytes","itemBytes","ibSlice","ibCacheKey","ib","InterleavedBuffer","InterleavedBufferAttribute","itemSizeIndices","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","setX","setY","setZ","setW","sourceIndex","sourceDef","sampler","loadImageSource","samplers","wrapS","wrapT","webkitURL","sourceURI","isObjectURL","blob","mimeType","isImageBitmapLoader","imageBitmap","Texture","revokeObjectURL","search","mapName","mapDef","gltfReference","extendTexture","useDerivativeTangents","tangent","useVertexColors","useFlatShading","isPoints","pointsMaterial","PointsMaterial","Material","sizeAttenuation","isLine","lineMaterial","LineBasicMaterial","cachedMaterial","vertexColors","flatShading","uv2","materialType","materialExtensions","sgExtension","getMaterialType","extendParams","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","extendMaterialParams","doubleSided","alphaMode","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","createMaterial","originalName","sanitizedName","PropertyBinding","primitives","createDracoPrimitive","decodePrimitive","addPrimitiveAttributes","cached","geometryPromise","meshIndex","FrontSide","loadGeometries","results","geometries","SkinnedMesh","skinWeight","normalizeSkinWeights","toTrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LineSegments","Line","LineLoop","Points","morphAttributes","assignFinalMaterial","Group","cameraIndex","cameraDef","PerspectiveCamera","MathUtils","yfov","aspectRatio","znear","zfar","OrthographicCamera","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","accessor","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","channel","node","input","output","inputAccessors","outputAccessors","targets","tracks","_loop","TypedKeyframeTrack","inputAccessor","outputAccessor","updateMatrix","NumberKeyframeTrack","QuaternionKeyframeTrack","VectorKeyframeTrack","targetName","interpolation","outputArray","scaled","jl","track","createInterpolant","times","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","AnimationClip","o","isMesh","nodeName","meshPromise","createNodeMesh","createNodeAttachment","Bone","Object3D","matrix","Matrix4","quaternion","sceneIndex","sceneDef","nodeIds","buildNodeHierarchy","_step2","reducedAssociations","_iterator2","_step2$value","reduceAssociations","nodeId","parentObject","pendingJoints","jointNodes","bones","boneInverses","jointNode","mat","bind","Skeleton","child","assignAttributeAccessor","gltfAttributeName","boxScale","maxDisplacement","vector","expandByVector","distanceTo","computeBounds","hasMorphPosition","hasMorphNormal","hasMorphColor","pendingPositionAccessors","pendingNormalAccessors","pendingColorAccessors","pendingAccessor","morphPositions","morphNormals","morphColors","morphTargetsRelative","addMorphTargets","drawMode","getIndex","getAttribute","numberOfTriangles","newIndices","getX","newGeometry","useDraco","useMeshopt","extendLoader","setDecoderPath","setDRACOLoader","setMeshoptDecoder","useGLTF","useMeshOpt","updateQueue","makeQueue","raf","schedule","writeQueue","onStartQueue","onStart","onFrameQueue","onFrame","onFinishQueue","onFinish","timeouts","setTimeout","ms","time","now","timeout","cancel","findIndex","pendingCount","findTimeout","start","sync","batchedUpdates","throttle","lastArgs","queuedFn","throttled","_len","_key","nativeRaf","window","requestAnimationFrame","use","impl","performance","Date","frameLoop","advance","ts","queue","loop","prevTs","eachSafely","flush","next","Set","arg","each","noop","is","arr","str","num","und","isEqual","eachProp","ctx","hasOwnProperty","iterator","items","createStringInterpolator$1","flushCalls","isSSR","colors$1","skipAnimation","willAdvance","globals","colors","createStringInterpolator","freeze","__proto__","startQueue","currentFrame","prevFrame","priority","idle","animation","flushStartQueue","startSafely","prevIndex","startUnsafely","includes","other","dt","nextFrame","clamp","NUMBER","PERCENTAGE","_len2","parts","_key2","rgb","RegExp","rgba","hsl","hsla","hex3","hex4","hex6","hex8","hue2rgb","q","hslToRgb","r","g","round","parse255","int","parse360","parse1","parsePercentage","colorToRgba","int32Color","exec","normalizeColor","createInterpolator","extrapolate","outputRange","inputRange","extrapolateLeft","extrapolateRight","easing","findRange","inputMin","inputMax","outputMin","outputMax","interpolate","c1","c2","c3","c4","c5","bounceOut","n1","d1","easings","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeInBack","easeOutBack","easeInOutBack","easeInElastic","easeOutElastic","easeInOutElastic","easeInBounce","easeOutBounce","easeInOutBounce","steps","progress","expanded","rounded","ceil","$get","Symbol","for","$observers","hasFluidValue","Boolean","getFluidValue","getFluidObservers","callFluidObservers","event","observers","observer","eventObserved","callFluidObserver","FluidValue","setFluidGetter","setHidden","addFluidObserver","observerAdded","removeFluidObserver","observerRemoved","namedColorRegex","writable","configurable","numberRegex","colorRegex","unitRegex","rgbaRegex","cssVariableRegex","variableToRgba","_parseCSSVariable","parseCSSVariable","_parseCSSVariable2","token","fallback","getComputedStyle","document","documentElement","getPropertyValue","trim","startsWith","_value","_match","rgbaRound","p2","p3","p4","keyframes","interpolators","_output$find","missingUnit","find","prefix","once","called","TypeError","warnInterpolate","warnDirectCall","isAnimatedString","useIsomorphicLayoutEffect","useEffect","useLayoutEffect","useIsMounted","isMounted","useRef","useForceUpdate","useState","useOnce","effect","emptyDeps","usePrev","prevRef","$node","getAnimated","owner","setAnimated","getPayload","Animated","payload","AnimatedValue","_Animated","elapsedTime","lastPosition","lastVelocity","v0","durationProgress","step","AnimatedString","_AnimatedValue","_string","_toString","getValue","TreeContext","AnimatedObject","_Animated2","setValue","animated","_makePayload","_addToPayload","AnimatedArray","_AnimatedObject","some","makeAnimated","create","getAnimatedType","parentNode","withAnimated","Component","host","hasInstance","isReactComponent","givenProps","givenRef","instanceRef","useCallback","updateRef","_getAnimatedState","style","createAnimatedStyle","getAnimatedState","_getAnimatedState2","deps","forceUpdate","applyAnimatedValues","PropsObserver","observerRef","dep","usedProps","getComponentProps","getDisplayName","displayName","callProp","matchProp","resolveProp","prop","getDefaultProp","default","noopTransform","getDefaultProps","DEFAULT_PROPS","defaults","RESERVED_PROPS","pause","reverse","immediate","delay","onProps","onChange","onPause","onResume","onRest","onResolve","trail","expires","initial","enter","leave","onDestroyed","callId","parentId","inferTo","forward","getForwardProps","out","val","computeGoal","Globals","hasProps","isAsyncTo","detachRefs","ctrl","_ctrl$ref","replaceRef","_ctrl$ref2","tension","friction","mass","AnimationConfig","frequency","velocity","restVelocity","precision","duration","bounce","sanitizeConfig","isTensionConfig","emptyArray","Animation","changed","toValues","fromValues","scheduleProps","defaultProps","actions","_props$cancel","paused","resumeQueue","resume","delayed","pauseQueue","cancelId","getCombinedResult","cancelled","getCancelledResult","every","getNoopResult","getFinishedResult","finished","runAsync","prevTo","asyncTo","prevPromise","_asyncToGenerator","_regeneratorRuntime","mark","_callee3","preventBail","bail","bailPromise","bailIfEnded","animate","wrap","_context3","prev","asyncId","bailSignal","bailResult","arg1","arg2","BailSignal","skipAnimationSignal","SkipAnimationSignal","_callee","_context","stopAsync","sent","abrupt","stop","_ref5","_callee2","_props","_context2","_x","item","_Error","_wrapNativeSuper","_Error2","isFrameValue","FrameValue","nextId$1","_FluidValue","_priority","_onPriorityChange","_len3","_key3","_len4","_key4","_attach","_detach","$P","hasAnimated","isAnimating","isPaused","setActiveBit","active","IS_ANIMATING","setPausedBit","SpringValue","_FrameValue","_state","_pendingCalls","_lastCallId","_lastToId","_memoizedDuration","anim","elapsed","exp","bounceFactor","canBounce","isGrowing","numSteps","isNaN","currVal","finalVal","_onChange","_stop","_this6","_focus","_set","_update","_this7","_this$animation","_onStart","_this8","_this9","_start","_ref6","isLoop","_this10","mergeActiveFn","sendEvent","_prepareNode","isFrozen","checkFinished","_resume","_merge","nextProps","createLoopUpdate","_this11","hasToProp","hasFromProp","prevFrom","_range$to","_range$from","_ref7","hasFromChanged","hasToChanged","hasAsyncTo","newConfig","defaultConfig","mergeConfig","isAnimatable","nodeType","goalType","started","hasValueChanged","ACTIVE_EVENTS","_this12","oldNode","loopRet","overrides","createUpdate","_props2","findDefined","declareUpdate","_target$animation$typ2","_target$defaultProps$2","_target$animation$typ","_target$animation","_target$defaultProps$","_target$defaultProps","_len5","_key5","BATCHED_EVENTS","nextId","Controller","springs","_flush","_initialProps","_lastAsyncId","_active","_changed","_started","_item","_events","_onFrame","spring","isDelayed","prepareKeys","flushUpdateQueue","_this13","_this$_events","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","flushUpdate","_x2","_x3","_x4","_flushUpdate","_callee4","promises","_context4","_ref22","t2","getSprings","prepareSprings","createSpring","setSprings","_objectWithoutPropertiesLoose","excluded","sourceKeys","init","_excluded$6","SpringContext","inherited","useContext","getResult","inputs","_useState","committed","prevCache","areInputsEqual","useMemoOne","Consumer","SpringRef","_getProps","_arguments","_arguments2","_this14","_arguments3","_this15","useSprings","_arguments4","propsFn","useMemo","layoutId","ctrls","updates","prevLength","declareUpdates","startIndex","endIndex","prevContext","hasContext","cb","useSpring","isFn","_useSprings","_useSprings2","TransitionPhase","Interpolation","_FrameValue2","_super5","_this16","calc","_dt","checkIdle","becomeIdle","_this17","_this18","_this19","highest","isIdle","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","addEffect","components","_ref$applyAnimatedVal","_applyAnimatedValues","_ref$createAnimatedSt","_createAnimatedStyle","_ref$getComponentProp","hostConfig","createHost","applyProps","V","toVector","v1","v2","addTo","subTo","rubberband","dimension","constant","rubberbandIfOutOfBounds","_toPropertyKey","hint","prim","toPrimitive","_toPrimitive","enumerable","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","EVENT_TYPE_MAP","pointer","change","end","mouse","touch","gesture","capitalize","toUpperCase","actionsWithoutCaptureSupported","toHandlerProp","device","action","capture","deviceProps","actionKey","hasCapture","pointerCaptureEvents","parseProp","eventKey","passive","captureKey","isTouch","getPointerType","pointerType","getValueEvent","changedTouches","targetTouches","getTouchList","distanceAngle","P1","P2","dx","clientX","dy","clientY","cx","cy","hypot","atan2","origin","touchIds","touches","_event$currentTarget","_event$currentTarget$","currentTarget","contains","getCurrentTargetTouchList","identifier","touchDistanceAngle","ids","_Array$from$filter","_Array$from$filter2","pointerId","valueEvent","pointerValues","LINE_HEIGHT","PAGE_HEIGHT","wheelValues","deltaX","deltaY","deltaMode","chain","fns","_fns","assignDefault","Engine","computeValues","computeInitial","shared","gestureEventStores","gestureTimeoutStores","handlers","ingKey","_blocked","_force","intentional","_movement","_distance","_direction","_delta","_bounds","axis","memo","overflow","_movementBound","movement","timeStamp","lastOffset","startTime","_values","_initial","preventDefault","cancelable","pointerIds","locked","pointerLockElement","buttons","shiftKey","altKey","metaKey","ctrlKey","getEventDetails","down","pressed","_absoluteDelta","axisIntent","_state$_movement","_m0","_m1","_config$threshold","threshold","hasCustomTransform","sign","_values2","restrictToAxis","previousOffset","gestureIsActive","first","last","bounds","setup","computeOffset","_state$offset","ox","oy","_state$_bounds","_state$_bounds$","x0","x1","_state$_bounds$2","y0","y1","Vx","Vy","Rx","Ry","_bounds$","X0","X1","_bounds$2","Y0","Y1","computeRubberband","computeMovement","absoluteDelta","clean","triggerAllEvents","_defineProperty2","aliasKey","eventStore","timeoutStore","CoordinatesEngine","_Engine","axisThreshold","absDx","absDy","selectAxis","lockDirection","DEFAULT_RUBBERBAND","commonConfigResolver","enabled","eventOptions","_k","DEFAULT_AXIS_THRESHOLD","coordinatesConfigResolver","_v","HTMLElement","_value$left","_value$right","_value$top","_value$bottom","KEYS_DELTA_MAP","ArrowRight","displacement","ArrowLeft","ArrowUp","ArrowDown","DragEngine","_CoordinatesEngine","_pointerId","_pointerActive","_keyboardActive","_preventScroll","_delayed","swipe","tap","canceled","boundRect","getBoundingClientRect","targetRect","compute","emit","pointerClean","pointerButtons","ctrlIds","setEventIds","pointerCapture","setPointerCapture","setupPointer","preventScrollAxis","setupScrollPrevention","setupDelayTrigger","startPointerDrag","movementX","movementY","hasPointerCapture","releasePointerCapture","_unused","process","setActive","_state$_distance","tapsThreshold","filterTaps","_state$direction","dirx","diry","_state$velocity","vx","vy","_state$movement","mx","my","_config$swipe$velocit","svx","svy","_config$swipe$distanc","sx","sy","sdt","detail","stopPropagation","pointerLock","requestPointerLock","sharedConfig","pointerMove","pointerUp","exitPointerLock","persist","persistEvent","preventScroll","preventScrollDelay","deltaFn","factor","keyboardDisplacement","bindFunction","pointerDown","keyDown","keyUp","pointerClick","isBrowser","createElement","isTouchScreen","maxTouchPoints","SUPPORT","GestureEvent","supportsGestureEvents","touchscreen","DEFAULT_DRAG_DELAY","DEFAULT_SWIPE_VELOCITY","DEFAULT_SWIPE_DISTANCE","DEFAULT_SWIPE_DURATION","DEFAULT_KEYBOARD_DISPLACEMENT","DEFAULT_DRAG_AXIS_THRESHOLD","pen","dragConfigResolver","_ref6$pointer","_ref6$pointer2","_ref6$pointer2$touch","_ref6$pointer2$lock","lock","_ref6$pointer2$mouse","_ref8$pointer","_ref8$pointer2","_ref8$pointer2$captur","_ref8$pointer2$button","_ref8$pointer2$keys","_ref9$filterTaps","_ref9$tapsThreshold","_ref9$axis","_ref10$velocity","_ref10$distance","_ref10$duration","clampStateInternalMovementToBounds","_state$overflow","_state$_delta","_state$_direction","PinchEngine","_Engine2","_pointerEvents","_touchIds","turns","_this$state","_this$state2","_state$_movement2","axisMovementDifference","ctrlTouchIds","pinchStart","ctrlPointerIds","pinchMove","prev_a","delta_a","delta_turns","_previousMovement","modifierKey","wheelChange","wheelStart","wheelEnd","pinchOnWheel","wheel","pinchConfigResolver","_ref11$pointer","_ref11$pointer2$touch","_ref12$scaleBounds","scaleBounds","_ref12$angleBounds","angleBounds","_scaleBounds","D","_angleBounds","A","MoveEngine","_CoordinatesEngine2","_len6","_key6","mouseOnly","moveChange","moveStart","moveEnd","move","moveConfigResolver","ScrollEngine","_CoordinatesEngine3","_len7","_key7","scrollChange","scrollEnd","_event$currentTarget2","scrollX","scrollY","scrollLeft","scrollTop","scrollValues","scroll","scrollConfigResolver","WheelEngine","_CoordinatesEngine4","_super6","_len8","_key8","wheelConfigResolver","HoverEngine","_CoordinatesEngine5","_super7","_len9","_key9","hoverConfigResolver","EngineMap","ConfigResolverMap","registerAction","engine","resolver","dragAction","hoverAction","moveAction","pinchAction","scrollAction","wheelAction","sourceSymbolKeys","propertyIsEnumerable","sharedConfigResolver","_window","_ref2$passive","_ref2$capture","resolveWith","resolvers","_Object$entries","_Object$entries$_i","EventStore","gestureKey","_ctrl","_gestureKey","element","listeners","_listeners","toDomEventType","TimeoutStore","_window2","_timeouts","clearTimeout","internalHandlers","drag","setupGesture","pinch","hover","resolveGestures","nativeHandlers","_config","rest","_targetEventStore","gestures","gestureConfig","bindToProps","nativeBindFunction","handlerProp","_parseProp","withPassiveOption","_options$capture","_options$passive","isNative","RE_NOT_NATIVE","registerGesture","handlerKey","startKey","endKey","parseMergedHandlers","mergedHandlers","mergedConfig","_sortHandlers","_handlers","native","lastMatch","sortHandlers","_sortHandlers2","useRecognizers","applyHandlers","applyConfig","useGesture","hook","_parseMergedHandlers","PresentationControls","_ref$enabled","snap","global","domElement","_ref$cursor","cursor","_ref$speed","speed","_ref$rotation","_ref$zoom","_ref$polar","polar","_ref$azimuth","azimuth","_ref$config","events","explDomElement","connected","rPolar","rAzimuth","rInitial","_useSpring","_useSpring2","onHover","onDrag","_ref3$delta","_ref3$memo","_ref3$memo2","_ref3$memo3","oldY","oldX","sConfig"],"sourceRoot":""}